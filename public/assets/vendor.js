window.EmberENV={FEATURES:{}};var runningTests=!1,define,requireModule,require,requirejs;!function(){function e(e,n,r){for(var i,o,s=e.length,a=new Array(s),l=0,u=s;u>l;l++)i=e[l],"exports"===i?o=a[l]=r:a[l]=require(t(i,n));return{deps:a,exports:o}}function t(e,t){if("."!==e.charAt(0))return e;var n,r=e.split("/"),i=t.split("/");n=1===i.length?i:i.slice(0,-1);for(var o=0,s=r.length;s>o;o++){var a=r[o];if(".."===a)n.pop();else{if("."===a)continue;n.push(a)}}return n.join("/")}var n;n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var r={},i={},o={},s=!1;define=function(e,t,i){n(t)||(i=t,t=[]),r[e]={deps:t,callback:i}},requirejs=require=requireModule=function(t){if(o[t]!==s&&i.hasOwnProperty(t))return i[t];if(!r[t])throw new Error("Could not find module "+t);var n,a,l=r[t],u=!1;i[t]={};try{n=e(l.deps,t,i[t]),a=l.callback.apply(this,n.deps),u=!0}finally{u||(o[t]=s)}return n.exports?i[t]:i[t]=a},requirejs.entries=requirejs._eak_seen=r,requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=r={},i=o={}}}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(he.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=Ee[e]={};return ie.each(e.match(ye)||[],function(e,n){t[n]=!0}),t}function s(){pe.addEventListener?(pe.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(pe.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(pe.addEventListener||"load"===event.type||"complete"===pe.readyState)&&(s(),ie.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ie,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Oe.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,s=ie.expando,a=e.nodeType,l=a?ie.cache:e,u=a?e[s]:e[s]&&s;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=a?e[s]=Y.pop()||ie.guid++:s),l[u]||(l[u]=a?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?l[u]=ie.extend(l[u],t):l[u].data=ie.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,s=o?ie.cache:e,a=o?e[ie.expando]:ie.expando;if(s[a]){if(t&&(r=n?s[a]:s[a].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!u(r):!ie.isEmptyObject(r))return}(n||(delete s[a].data,u(s[a])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function h(){return!0}function f(){return!1}function p(){try{return pe.activeElement}catch(e){}}function m(e){var t=Le.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){ke.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=We.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),s=ie._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(r=0,i=a[n].length;i>r;r++)ie.event.add(t,n,a[n][r])}s.data&&(s.data=ie.extend({},s.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(y(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ke.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function O(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function I(e){var t=pe,n=Je[e];return n||(n=O(e,t),"none"!==n&&n||(Ze=(Ze||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ze[0].contentWindow||Ze[0].contentDocument).document,t.write(),t.close(),n=O(e,t),Ze.detach()),Je[e]=n),n}function D(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ht.length;i--;)if(t=ht[i]+n,t in e)return t;return r}function w(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&we(r)&&(o[s]=ie._data(r,"olddisplay",I(r.nodeName)))):(i=we(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function x(e,t,n){var r=lt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ie.css(e,n+Re[o],!0,i)),r?("content"===n&&(s-=ie.css(e,"padding"+Re[o],!0,i)),"margin"!==n&&(s-=ie.css(e,"border"+Re[o]+"Width",!0,i))):(s+=ie.css(e,"padding"+Re[o],!0,i),"padding"!==n&&(s+=ie.css(e,"border"+Re[o]+"Width",!0,i)));return s}function S(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),s=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tt(e,t,o),(0>i||null==i)&&(i=e.style[t]),rt.test(i))return i;r=s&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function K(e,t,n,r,i){return new K.prototype.init(e,t,n,r,i)}function N(){return setTimeout(function(){ft=void 0}),ft=ie.now()}function A(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Re[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function P(e,t,n){for(var r,i=(yt[t]||[]).concat(yt["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function L(e,t,n){var r,i,o,s,a,l,u,c,d=this,h={},f=e.style,p=e.nodeType&&we(e),m=ie._data(e,"fxshow");n.queue||(a=ie._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ie.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ie.css(e,"display"),c="none"===u?ie._data(e,"olddisplay")||I(e.nodeName):u,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==I(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;p=!0}h[r]=m&&m[r]||ie.style(e,r)}else u=void 0;if(ie.isEmptyObject(h))"inline"===("none"===u?I(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(p=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!p),p?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in h)ie.style(e,t,h[t])});for(r in h)s=P(p?m[r]:0,r,d),r in m||(m[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function M(e,t){var n,r,i,o,s;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=ie.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function F(e,t,n){var r,i,o=0,s=bt.length,a=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=ft||N(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,n]),1>o&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ft||N(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(M(c,u.opts.specialEasing);s>o;o++)if(r=bt[o].call(u,e,c,u.opts))return r;return ie.map(c,P,u),ie.isFunction(u.opts.start)&&u.opts.start.call(e,u),ie.fx.timer(ie.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ye)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function $(e,t,n,r){function i(a){var l;return o[a]=!0,ie.each(e[a]||[],function(e,a){var u=a(t,n,r);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},s=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function j(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function H(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(i in u)if(a=i.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[i]:u[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function V(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Wt.test(e)?r(e,i):V(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)V(e+"["+i+"]",t[i],n,r)}function q(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function W(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y=[],G=Y.slice,X=Y.concat,Q=Y.push,Z=Y.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:Y.sort,splice:Y.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ie.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(i=arguments[a]))for(r in i)e=s[r],n=i[r],s!==n&&(u&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},s[r]=ie.extend(u,o,n)):void 0!==n&&(s[r]=n));return s},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(Z)return Z.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return X.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=G.call(arguments,2),r=function(){return e.apply(t||this,n.concat(G.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,s,a,l,u,d,f,p,m;if((t?t.ownerDocument||t:$)!==K&&S(t),t=t||K,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&A){if(11!==a&&(i=be.exec(e)))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&F(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&_.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(s)),n}if(_.qsa&&(!P||!P.test(e))){if(f=d=B,p=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=I(e),(d=t.getAttribute("id"))?f=d.replace(Ee,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+h(u[l]);p=ye.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return R(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=K.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=H++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,l,u=[j,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[B]||(t[B]={}),(a=l[r])&&a[0]===j&&a[1]===o)return u[2]=a[2];if(l[r]=u,u[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),u&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,s)),r(function(r,s,a,l){var u,c,d,h=[],f=[],p=s.length,v=r||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!r&&t?v:g(v,h,e,a,l),y=n?o||(r?e:p||i)?[]:s:b;if(n&&n(b,y,a,l),i)for(u=g(y,f),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(y[f[c]]=!(b[f[c]]=d));if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?ee(r,d):h[c])>-1&&(r[u]=!(s[u]=d))}}else y=g(y===s?y.splice(p,y.length):y),o?o(null,s,y,l):Z.apply(s,y)})}function b(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),u=f(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==w)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>a;a++)if(n=T.relative[e[a].type])c=[f(p(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[B]){for(r=++a;i>r&&!T.relative[e[r].type];r++);return v(a>1&&p(c),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),n,r>a&&b(e.slice(a,r)),i>r&&b(e=e.slice(r)),i>r&&h(e))}c.push(n)}return p(c)}function y(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,l,u){var c,d,h,f=0,p="0",m=r&&[],v=[],b=w,y=r||o&&T.find.TAG("*",u),E=j+=null==b?1:Math.random()||.1,_=y.length;for(u&&(w=s!==K&&s);p!==_&&null!=(c=y[p]);p++){if(o&&c){for(d=0;h=e[d++];)if(h(c,s,a)){l.push(c);break}u&&(j=E)}i&&((c=!h&&c)&&f--,r&&m.push(c))}if(f+=p,i&&p!==f){for(d=0;h=n[d++];)h(m,v,s,a);if(r){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(j=E,w=b),m};return i?r(s):s}var E,_,T,C,O,I,D,R,w,x,k,S,K,N,A,P,L,M,F,B="sizzle"+1*new Date,$=e.document,j=0,H=0,z=n(),V=n(),q=n(),U=function(e,t){return e===t&&(k=!0),0},W=1<<31,Y={}.hasOwnProperty,G=[],X=G.pop,Q=G.push,Z=G.push,J=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(se),fe=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,Ee=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){S()};try{Z.apply(G=J.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(Oe){Z={apply:G.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}_=t.support={},O=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},S=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==K&&9===r.nodeType&&r.documentElement?(K=r,N=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),A=!O(r),_.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(r.getElementsByClassName),_.getById=i(function(e){return N.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),_.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&A){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(_e,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(_e,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=_.getElementsByClassName&&function(e,t){return A?t.getElementsByClassName(e):void 0},L=[],P=[],(_.qsa=ve.test(r.querySelectorAll))&&(i(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(_.matchesSelector=ve.test(M=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(e){_.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),L.push("!=",se)}),P=P.length&&new RegExp(P.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(N.compareDocumentPosition),F=t||ve.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&F($,e)?-1:t===r||t.ownerDocument===$&&F($,t)?1:x?ee(x,e)-ee(x,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:x?ee(x,e)-ee(x,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?s(l[i],u[i]):l[i]===$?-1:u[i]===$?1:0},r):K},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==K&&S(e),n=n.replace(de,"='$1']"),!(!_.matchesSelector||!A||L&&L.test(n)||P&&P.test(n)))try{var r=M.call(e,n);if(r||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,K,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==K&&S(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==K&&S(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==r?r:_.attributes||!A?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(k=!_.detectDuplicates,x=!_.sortStable&&e.slice(0),e.sort(U),k){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return x=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=I(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,f,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(c=g[B]||(g[B]={}),u=c[e]||[],f=u[0]===j&&u[1],h=u[0]===j&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[j,f,h];break}}else if(b&&(u=(t[B]||(t[B]={}))[e])&&u[0]===j)h=u[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[B]||(d[B]={}))[e]=[j,h]),d!==t)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(le,"$1"));return i[B]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(_e,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,Te).toLowerCase(),function(t){var n;do if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t;

},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[E]=a(E);for(E in{submit:!0,reset:!0})T.pseudos[E]=l(E);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,I=t.tokenize=function(e,n){var r,i,o,s,a,l,u,c=V[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=T.preFilter;a;){(!r||(i=ue.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),a=a.slice(r.length));for(s in T.filter)!(i=pe[s].exec(a))||u[s]&&!(i=u[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):V(e,l).slice(0)},D=t.compile=function(e,t){var n,r=[],i=[],o=q[e+" "];if(!o){for(t||(t=I(e)),n=t.length;n--;)o=b(t[n]),o[B]?r.push(o):i.push(o);o=q(e,y(i,r)),o.selector=e}return o},R=t.select=function(e,t,n,r){var i,o,s,a,l,u="function"==typeof e&&e,d=!r&&I(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===t.nodeType&&A&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(_e,Te),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((l=T.find[a])&&(r=l(s.matches[0].replace(_e,Te),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&h(o),!e)return Z.apply(n,r),n;break}}return(u||D(e,d))(r,t,!A,n,ye.test(e)&&c(t.parentNode)||t),n},_.sortStable=B.split("").sort(U).join("")===B,_.detectDuplicates=!!k,S(),_.sortDetached=i(function(e){return 1&e.compareDocumentPosition(K.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var fe,pe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pe,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=pe.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return fe.find(e);this.length=1,this[0]=r}return this.context=pe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof fe.ready?fe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,fe=ie(pe);var ve=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(be[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ye=/\S+/g,Ee={};ie.Callbacks=function(e){e="string"==typeof e?Ee[e]||o(e):ie.extend({},e);var t,n,r,i,s,a,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,s=a||0,a=0,i=l.length,t=!0;l&&i>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var r=l.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=l.length:n&&(a=r,c(n))}return this},remove:function(){return l&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,l,r))>-1;)l.splice(r,1),t&&(i>=r&&i--,s>=r&&s--)}),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var s=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=G.call(arguments),s=o.length,a=1!==s||e&&ie.isFunction(e.promise)?s:0,l=1===a?e:ie.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?G.call(arguments):i,r===t?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--a;return a||l.resolveWith(r,o),l.promise()}});var _e;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!pe.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(_e.resolveWith(pe,[ie]),ie.fn.triggerHandler&&(ie(pe).triggerHandler("ready"),ie(pe).off("ready")))}}}),ie.ready.promise=function(t){if(!_e)if(_e=ie.Deferred(),"complete"===pe.readyState)setTimeout(ie.ready);else if(pe.addEventListener)pe.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{pe.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&pe.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}s(),ie.ready()}}()}return _e.promise(t)};var Te,Ce="undefined";for(Te in ie(ne))break;ne.ownLast="0"!==Te,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=pe.getElementsByTagName("body")[0],n&&n.style&&(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=pe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),l(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?l(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),s=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ie._data(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Re=["Top","Right","Bottom","Left"],we=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},xe=ie.access=function(e,t,n,r,i,o,s){var a=0,l=e.length,u=null==n;if("object"===ie.type(n)){i=!0;for(a in n)ie.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(s=!0),u&&(s?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ie(e),n)})),t))for(;l>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:u?t.call(e):l?t(e[0],n):o},ke=/^(?:checkbox|radio)$/i;!function(){var e=pe.createElement("input"),t=pe.createElement("div"),n=pe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==pe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=pe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Se=/^(?:input|select|textarea)$/i,Ke=/^key/,Ne=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Pe=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,u,c,d,h,f,p,m,g=ie._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=ie.guid++),(s=g.events)||(s=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Ce||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(ye)||[""],a=t.length;a--;)o=Pe.exec(t[a])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f&&(u=ie.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,u=ie.event.special[f]||{},d=ie.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:p.join(".")},l),(h=s[f])||(h=s[f]=[],h.delegateCount=0,u.setup&&u.setup.call(e,r,p,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,d):h.push(d),ie.event.global[f]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,l,u,c,d,h,f,p,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ye)||[""],u=t.length;u--;)if(a=Pe.exec(t[u])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=ie.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,h=c[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!i&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(e,s));l&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||ie.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)ie.event.remove(e,f+t[u],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,l,u,c,d,h=[r||pe],f=te.call(t,"type")?t.type:t,p=te.call(t,"namespace")?t.namespace.split("."):[];if(a=c=r=r||pe,3!==r.nodeType&&8!==r.nodeType&&!Ae.test(f+ie.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,t=t[ie.expando]?t:new ie.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),u=ie.event.special[f]||{},i||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!i&&!u.noBubble&&!ie.isWindow(r)){for(l=u.delegateType||f,Ae.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),c=a;c===(r.ownerDocument||pe)&&h.push(c.defaultView||c.parentWindow||e)}for(d=0;(a=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||f,o=(ie._data(a,"events")||{})[t.type]&&ie._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&ie.acceptData(a)&&(t.result=o.apply(a,n),t.result===!1&&t.preventDefault());if(t.type=f,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),n)===!1)&&ie.acceptData(r)&&s&&r[f]&&!ie.isWindow(r)){c=r[s],c&&(r[s]=null),ie.event.triggered=f;try{r[f]()}catch(m){}ie.event.triggered=void 0,c&&(r[s]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,s=[],a=G.call(arguments),l=(ie._data(this,"events")||{})[e.type]||[],u=ie.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ie.event.handlers.call(this,e,l),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],o=0;a>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ne.test(i)?this.mouseHooks:Ke.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||pe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||pe,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=pe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ce&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:f):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Se.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Se.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Se.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=f;else if(!r)return this;return 1===i&&(s=r,r=function(e){return ie().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Me=/ jQuery\d+="(?:null|\d+)"/g,Fe=new RegExp("<(?:"+Le+")[\\s/>]","i"),Be=/^\s+/,$e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,je=/<([\w:]+)/,He=/<tbody/i,ze=/<|&#?\w+;/,Ve=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,We=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=m(pe),Qe=Xe.appendChild(pe.createElement("div"));Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td,ie.extend({clone:function(e,t,n){var r,i,o,s,a,l=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Fe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(o=Qe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),a=g(e),s=0;null!=(i=a[s]);++s)r[s]&&C(i,r[s]);if(t)if(n)for(a=a||g(e),r=r||g(o),s=0;null!=(i=a[s]);s++)T(i,r[s]);else T(e,o);return r=g(o,"script"),r.length>0&&_(r,!l&&g(e,"script")),r=a=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,s,a,l,u,c,d=e.length,h=m(t),f=[],p=0;d>p;p++)if(o=e[p],o||0===o)if("object"===ie.type(o))ie.merge(f,o.nodeType?[o]:o);else if(ze.test(o)){for(a=a||h.appendChild(t.createElement("div")),l=(je.exec(o)||["",""])[1].toLowerCase(),c=Ge[l]||Ge._default,a.innerHTML=c[1]+o.replace($e,"<$1></$2>")+c[2],i=c[0];i--;)a=a.lastChild;if(!ne.leadingWhitespace&&Be.test(o)&&f.push(t.createTextNode(Be.exec(o)[0])),!ne.tbody)for(o="table"!==l||He.test(o)?"<table>"!==c[1]||He.test(o)?0:a:a.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ie.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(t.createTextNode(o));for(a&&h.removeChild(a),ne.appendChecked||ie.grep(g(f,"input"),v),p=0;o=f[p++];)if((!r||-1===ie.inArray(o,r))&&(s=ie.contains(o.ownerDocument,o),a=g(h.appendChild(o),"script"),s&&_(a),n))for(i=0;o=a[i++];)Ue.test(o.type||"")&&n.push(o);return a=null,h},cleanData:function(e,t){for(var n,r,i,o,s=0,a=ie.expando,l=ie.cache,u=ne.deleteExpando,c=ie.event.special;null!=(n=e[s]);s++)if((t||ie.acceptData(n))&&(i=n[a],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[a]:typeof n.removeAttribute!==Ce?n.removeAttribute(a):n[a]=null,Y.push(i))}}}),ie.fn.extend({text:function(e){return xe(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&_(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return xe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Me,""):void 0;if(!("string"!=typeof e||Ve.test(e)||!ne.htmlSerialize&&Fe.test(e)||!ne.leadingWhitespace&&Be.test(e)||Ge[(je.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($e,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,r,i,o,s,a,l=0,u=this.length,c=this,d=u-1,h=e[0],f=ie.isFunction(h);if(f||u>1&&"string"==typeof h&&!ne.checkClone&&qe.test(h))return this.each(function(n){var r=c.eq(n);f&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(u&&(a=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=ie.map(g(a,"script"),y),i=o.length;u>l;l++)r=a,l!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(s=o[o.length-1].ownerDocument,ie.map(o,E),l=0;i>l;l++)r=o[l],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(s,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Ye,"")));a=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),s=o.length-1;s>=r;r++)n=r===s?this:this.clone(!0),ie(o[r])[t](n),Q.apply(i,n.get());return this.pushStack(i);

}});var Ze,Je={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=pe.getElementsByTagName("body")[0],n&&n.style?(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et,tt,nt=/^margin/,rt=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var r,i,o,s,a=e.style;return n=n||et(e),s=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||ie.contains(e.ownerDocument,e)||(s=ie.style(e,t)),rt.test(s)&&nt.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0===s?s:s+""}):pe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var r,i,o,s,a=e.style;return n=n||et(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),rt.test(s)&&!it.test(t)&&(r=a.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=r,o&&(i.left=o)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,n,r,i;n=pe.getElementsByTagName("body")[0],n&&n.style&&(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(pe.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===i[0].offsetHeight,a&&(i[0].style.display="",i[1].style.display="none",a=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,s,a,l;n=pe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ie.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var ot=/alpha\([^)]*\)/i,st=/opacity\s*=\s*([^)]*)/,at=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+De+")(.*)$","i"),ut=new RegExp("^([+-])=("+De+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ht=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie.camelCase(t),l=e.style;if(t=ie.cssProps[a]||(ie.cssProps[a]=R(l,a)),s=ie.cssHooks[t]||ie.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:l[t];if(o=typeof n,"string"===o&&(i=ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[a]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,r)))))try{l[t]=n}catch(u){}}},css:function(e,t,n,r){var i,o,s,a=ie.camelCase(t);return t=ie.cssProps[a]||(ie.cssProps[a]=R(e.style,a)),s=ie.cssHooks[t]||ie.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=tt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?at.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return S(e,t,r)}):S(e,t,r):void 0},set:function(e,n,r){var i=r&&et(e);return x(e,n,r?k(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return st.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=D(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Re[r]+t]=o[r]||o[r-2]||o[0];return i}},nt.test(e)||(ie.cssHooks[e+t].set=x)}),ie.fn.extend({css:function(e,t){return xe(this,function(e,t,n){var r,i,o={},s=0;if(ie.isArray(t)){for(r=et(e),i=t.length;i>s;s++)o[t[s]]=ie.css(e,t[s],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){we(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=K,K.prototype={constructor:K,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=K.propHooks[this.prop];return e&&e.get?e.get(this):K.propHooks._default.get(this)},run:function(e){var t,n=K.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=K.prototype.init,ie.fx.step={};var ft,pt,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),vt=/queueHooks$/,bt=[L],yt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),s=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,ie.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--l)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(F,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],yt[n]=yt[n]||[],yt[n].unshift(t)},prefilter:function(e,t){t?bt.unshift(e):bt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(we).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),s=function(){var t=F(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,s=ie._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&vt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,s=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),ie.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(ft=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),ft=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){pt||(pt=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(pt),pt=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=pe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=pe.createElement("select"),i=n.appendChild(pe.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!pe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=pe.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var Et=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Et,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,l=0>i?a:o?i:0;a>l;l++)if(n=r[l],!(!n.selected&&l!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),s=i.length;s--;)if(r=i[s],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(a){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var _t,Tt,Ct=ie.expr.attrHandle,Ot=/^(?:checked|selected)$/i,It=ne.getSetAttribute,Dt=ne.input;ie.fn.extend({attr:function(e,t){return xe(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ce?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:_t)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ye);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?Dt&&It||!Ot.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(It?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):Dt&&It||!Ot.test(n)?e.setAttribute(!It&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=Dt&&It||!Ot.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),Dt&&It||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):_t&&_t.set(e,t,n)}}),It||(_t={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:_t.set},ie.attrHooks.contenteditable={set:function(e,t,n){_t.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Rt=/^(?:input|select|textarea|button|object)$/i,wt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return xe(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):Rt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var xt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,s,a=0,l=this.length,u="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ye)||[];l>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=ie.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ye)||[];l>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?ie.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(ye)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var kt=ie.now(),St=/\?/,Kt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Kt,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var Nt,At,Pt=/#.*$/,Lt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,$t=/^\/\//,jt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ht={},zt={},Vt="*/".concat("*");try{At=location.href}catch(qt){At=pe.createElement("a"),At.href="",At=At.href}Nt=jt.exec(At.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At,type:"GET",isLocal:Ft.test(Nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,ie.ajaxSettings),t):j(ie.ajaxSettings,e)},ajaxPrefilter:B(Ht),ajaxTransport:B(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,b,E,T=t;2!==y&&(y=2,a&&clearTimeout(a),u=void 0,s=r||"",_.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(b=H(d,_,n)),b=z(d,b,_,i),i?(d.ifModified&&(E=_.getResponseHeader("Last-Modified"),E&&(ie.lastModified[o]=E),E=_.getResponseHeader("etag"),E&&(ie.etag[o]=E)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=b.state,c=b.data,v=b.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),_.status=e,_.statusText=(t||T)+"",i?p.resolveWith(h,[c,T,_]):p.rejectWith(h,[_,T,v]),_.statusCode(g),g=void 0,l&&f.trigger(i?"ajaxSuccess":"ajaxError",[_,d,i?c:v]),m.fireWith(h,[_,T]),l&&(f.trigger("ajaxComplete",[_,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,l,u,c,d=ie.ajaxSetup({},t),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?ie(h):ie.event,p=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},b={},y=0,E="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Mt.exec(s);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||E;return u&&u.abort(t),n(0,t),this}};if(p.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||At)+"").replace(Pt,"").replace($t,Nt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(ye)||[""],null==d.crossDomain&&(r=jt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Nt[1]&&r[2]===Nt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Nt[3]||("http:"===Nt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),$(Ht,d,t,_),2===y)return _;l=ie.event&&d.global,l&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(St.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Lt.test(o)?o.replace(Lt,"$1_="+kt++):o+(St.test(o)?"&":"?")+"_="+kt++)),d.ifModified&&(ie.lastModified[o]&&_.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&_.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Vt+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)_.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(h,_,d)===!1||2===y))return _.abort();E="abort";for(i in{success:1,error:1,complete:1})_[i](d[i]);if(u=$(zt,d,t,_)){_.readyState=1,l&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},d.timeout));try{y=1,u.send(v,n)}catch(T){if(!(2>y))throw T;n(-1,T)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Wt=/\[\]$/,Yt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Xt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)V(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Xt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Yt,"\r\n")}}):{name:t.name,value:n.replace(Yt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||U()}:q;var Qt=0,Zt={},Jt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zt)Zt[e](void 0,!0)}),ne.cors=!!Jt&&"withCredentials"in Jt,Jt=ne.ajax=!!Jt,Jt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),s=++Qt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var a,l,u;if(t&&(i||4===o.readyState))if(delete Zt[s],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{u={},a=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=u.text?200:404}u&&r(a,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zt[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=pe.head||ie("head")[0]||pe.documentElement;return{send:function(r,i){t=pe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+kt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||ie.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),s&&ie.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pe;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=ie.trim(e.slice(a,e.length)),e=e.slice(0,a)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,s.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,u,c=ie.css(e,"position"),d=ie(e),h={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,l])>-1,u?(r=d.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):d.css(h)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Ce&&(r=i.getBoundingClientRect()),n=W(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),
n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return xe(this,function(e,r,i){var o=W(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=D(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),rt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return xe(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,s):ie.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,sn=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=sn),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Ce&&(e.jQuery=e.$=ie),ie}),function(){var e,t,n,r,i;!function(){function o(){}function s(e,t){if("."!==e.charAt(0))return e;for(var n=e.split("/"),r=t.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var s=n[i];if(".."===s)r.pop();else{if("."===s)continue;r.push(s)}}return r.join("/")}if(i=this.Ember=this.Ember||{},"undefined"==typeof i&&(i={}),"undefined"==typeof i.__loader){var a={},l={};e=function(e,t,n){a[e]={deps:t,callback:n}},r=n=t=function(e){var n=l[e];if(void 0!==n)return l[e];if(n===o)return void 0;if(l[e]={},!a[e])throw new Error("Could not find module "+e);for(var r,i=a[e],u=i.deps,c=i.callback,d=[],h=u.length,f=0;h>f;f++)d.push("exports"===u[f]?r={}:t(s(u[f],e)));var p=0===h?c.call(this):c.apply(this,d);return l[e]=r||(void 0===p?o:p)},r._eak_seen=a,i.__loader={define:e,require:n,registry:a}}else e=i.__loader.define,r=n=t=i.__loader.require}(),e("backburner",["backburner/utils","backburner/platform","backburner/binary-search","backburner/deferred-action-queues","exports"],function(e,t,n,r,i){"use strict";function o(e,t){this.queueNames=e,this.options=t||{},this.options.defaultQueue||(this.options.defaultQueue=e[0]),this.instanceStack=[],this._debouncees=[],this._throttlers=[],this._timers=[]}function s(e){return e.onError||e.onErrorTarget&&e.onErrorTarget[e.onErrorMethod]}function a(e){e.begin(),e._autorun=I.setTimeout(function(){e._autorun=null,e.end()})}function l(e,t,n){var r=y();(!e._laterTimer||t<e._laterTimerExpiresAt||e._laterTimerExpiresAt<r)&&(e._laterTimer&&(clearTimeout(e._laterTimer),e._laterTimerExpiresAt<r&&(n=Math.max(0,t-r))),e._laterTimer=I.setTimeout(function(){e._laterTimer=null,e._laterTimerExpiresAt=null,u(e)},n),e._laterTimerExpiresAt=r+n)}function u(e){var t,n,r,i=y();e.run(function(){for(n=_(i,e._timers),t=e._timers.splice(0,n),n=1,r=t.length;r>n;n+=2)e.schedule(e.options.defaultQueue,null,t[n])}),e._timers.length&&l(e,e._timers[0],e._timers[0]-i)}function c(e,t,n){return h(e,t,n)}function d(e,t,n){return h(e,t,n)}function h(e,t,n){for(var r,i=-1,o=0,s=n.length;s>o;o++)if(r=n[o],r[0]===e&&r[1]===t){i=o;break}return i}var f=e.each,p=e.isString,m=e.isFunction,g=e.isNumber,v=e.isCoercableNumber,b=e.wrapInTryCatch,y=e.now,E=t.needsIETryCatchFix,_=n["default"],T=r["default"],C=[].slice,O=[].pop,I=this;if(o.prototype={begin:function(){var e=this.options,t=e&&e.onBegin,n=this.currentInstance;n&&this.instanceStack.push(n),this.currentInstance=new T(this.queueNames,e),t&&t(this.currentInstance,n)},end:function(){var e=this.options,t=e&&e.onEnd,n=this.currentInstance,r=null,i=!1;try{n.flush()}finally{i||(i=!0,this.currentInstance=null,this.instanceStack.length&&(r=this.instanceStack.pop(),this.currentInstance=r),t&&t(n,r))}},run:function(e,t){var n=s(this.options);this.begin(),t||(t=e,e=null),p(t)&&(t=e[t]);var r=C.call(arguments,2),i=!1;if(n)try{return t.apply(e,r)}catch(o){n(o)}finally{i||(i=!0,this.end())}else try{return t.apply(e,r)}finally{i||(i=!0,this.end())}},join:function(e,t){return this.currentInstance?(t||(t=e,e=null),p(t)&&(t=e[t]),t.apply(e,C.call(arguments,2))):this.run.apply(this,arguments)},defer:function(e,t,n){n||(n=t,t=null),p(n)&&(n=t[n]);var r,i=this.DEBUG?new Error:void 0,o=arguments.length;if(o>3){r=new Array(o-3);for(var s=3;o>s;s++)r[s-3]=arguments[s]}else r=void 0;return this.currentInstance||a(this),this.currentInstance.schedule(e,t,n,r,!1,i)},deferOnce:function(e,t,n){n||(n=t,t=null),p(n)&&(n=t[n]);var r,i=this.DEBUG?new Error:void 0,o=arguments.length;if(o>3){r=new Array(o-3);for(var s=3;o>s;s++)r[s-3]=arguments[s]}else r=void 0;return this.currentInstance||a(this),this.currentInstance.schedule(e,t,n,r,!0,i)},setTimeout:function(){function e(){if(b)try{i.apply(a,n)}catch(e){b(e)}else i.apply(a,n)}for(var t=arguments.length,n=new Array(t),r=0;t>r;r++)n[r]=arguments[r];var i,o,a,u,c,d,h=n.length;if(0!==h){if(1===h)i=n.shift(),o=0;else if(2===h)u=n[0],c=n[1],m(c)||m(u[c])?(a=n.shift(),i=n.shift(),o=0):v(c)?(i=n.shift(),o=n.shift()):(i=n.shift(),o=0);else{var f=n[n.length-1];o=v(f)?n.pop():0,u=n[0],d=n[1],m(d)||p(d)&&null!==u&&d in u?(a=n.shift(),i=n.shift()):i=n.shift()}var g=y()+parseInt(o,10);p(i)&&(i=a[i]);var b=s(this.options),E=_(g,this._timers);return this._timers.splice(E,0,g,e),l(this,g,o),e}},throttle:function(e,t){var n,r,i,o,s=this,a=arguments,l=O.call(a);return g(l)||p(l)?(n=l,l=!0):n=O.call(a),n=parseInt(n,10),i=d(e,t,this._throttlers),i>-1?this._throttlers[i]:(o=I.setTimeout(function(){l||s.run.apply(s,a);var n=d(e,t,s._throttlers);n>-1&&s._throttlers.splice(n,1)},n),l&&this.run.apply(this,a),r=[e,t,o],this._throttlers.push(r),r)},debounce:function(e,t){var n,r,i,o,s=this,a=arguments,l=O.call(a);return g(l)||p(l)?(n=l,l=!1):n=O.call(a),n=parseInt(n,10),r=c(e,t,this._debouncees),r>-1&&(i=this._debouncees[r],this._debouncees.splice(r,1),clearTimeout(i[2])),o=I.setTimeout(function(){l||s.run.apply(s,a);var n=c(e,t,s._debouncees);n>-1&&s._debouncees.splice(n,1)},n),l&&-1===r&&s.run.apply(s,a),i=[e,t,o],s._debouncees.push(i),i},cancelTimers:function(){var e=function(e){clearTimeout(e[2])};f(this._throttlers,e),this._throttlers=[],f(this._debouncees,e),this._debouncees=[],this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),this._timers=[],this._autorun&&(clearTimeout(this._autorun),this._autorun=null)},hasTimers:function(){return!!this._timers.length||!!this._debouncees.length||!!this._throttlers.length||this._autorun},cancel:function(e){var t=typeof e;if(e&&"object"===t&&e.queue&&e.method)return e.queue.cancel(e);if("function"!==t)return"[object Array]"===Object.prototype.toString.call(e)?this._cancelItem(d,this._throttlers,e)||this._cancelItem(c,this._debouncees,e):void 0;for(var n=0,r=this._timers.length;r>n;n+=2)if(this._timers[n+1]===e)return this._timers.splice(n,2),0===n&&(this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),this._timers.length>0&&l(this,this._timers[0],this._timers[0]-y())),!0},_cancelItem:function(e,t,n){var r,i;return n.length<3?!1:(i=e(n[0],n[1],t),i>-1&&(r=t[i],r[2]===n[2])?(t.splice(i,1),clearTimeout(n[2]),!0):!1)}},o.prototype.schedule=o.prototype.defer,o.prototype.scheduleOnce=o.prototype.deferOnce,o.prototype.later=o.prototype.setTimeout,E){var D=o.prototype.run;o.prototype.run=b(D);var R=o.prototype.end;o.prototype.end=b(R)}i["default"]=o}),e("backburner.umd",["./backburner"],function(t){"use strict";var n=t["default"];"function"==typeof e&&e.amd?e(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof this&&(this.Backburner=n)}),e("backburner/binary-search",["exports"],function(e){"use strict";e["default"]=function(e,t){for(var n,r,i=0,o=t.length-2;o>i;)r=(o-i)/2,n=i+r-r%2,e>=t[n]?i=n+2:o=n;return e>=t[i]?i+2:i}}),e("backburner/deferred-action-queues",["./utils","./queue","exports"],function(e,t,n){"use strict";function r(e,t){var n=this.queues=Object.create(null);this.queueNames=e=e||[],this.options=t,o(e,function(e){n[e]=new s(e,t[e],t)})}function i(e){throw new Error("You attempted to schedule an action in a queue ("+e+") that doesn't exist")}var o=e.each,s=t["default"];r.prototype={schedule:function(e,t,n,r,o,s){var a=this.queues,l=a[e];return l||i(e),o?l.pushUnique(t,n,r,s):l.push(t,n,r,s)},flush:function(){var e,t,n=this.queues,r=this.queueNames,i=0,o=r.length;for(this.options;o>i;){e=r[i],t=n[e];var s=t._queue.length;0===s?i++:(t.flush(!1),i=0)}}},n["default"]=r}),e("backburner/platform",["exports"],function(e){"use strict";var t=function(e,t){try{t()}catch(e){}return!!e}();e.needsIETryCatchFix=t}),e("backburner/queue",["./utils","exports"],function(e,t){"use strict";function n(e,t,n){this.name=e,this.globalOptions=n||{},this.options=t,this._queue=[],this.targetQueues=Object.create(null),this._queueBeingFlushed=void 0}var r=e.isString;n.prototype={push:function(e,t,n,r){var i=this._queue;return i.push(e,t,n,r),{queue:this,target:e,method:t}},pushUniqueWithoutGuid:function(e,t,n,r){for(var i=this._queue,o=0,s=i.length;s>o;o+=4){var a=i[o],l=i[o+1];if(a===e&&l===t)return i[o+2]=n,void(i[o+3]=r)}i.push(e,t,n,r)},targetQueue:function(e,t,n,r,i){for(var o=this._queue,s=0,a=e.length;a>s;s+=4){var l=e[s],u=e[s+1];if(l===n)return o[u+2]=r,void(o[u+3]=i)}e.push(n,o.push(t,n,r,i)-4)},pushUniqueWithGuid:function(e,t,n,r,i){var o=this.targetQueues[e];return o?this.targetQueue(o,t,n,r,i):this.targetQueues[e]=[n,this._queue.push(t,n,r,i)-4],{queue:this,target:t,method:n}},pushUnique:function(e,t,n,r){var i=(this._queue,this.globalOptions.GUID_KEY);if(e&&i){var o=e[i];if(o)return this.pushUniqueWithGuid(o,e,t,n,r)}return this.pushUniqueWithoutGuid(e,t,n,r),{queue:this,target:e,method:t}},invoke:function(e,t,n,r,i){n&&n.length>0?t.apply(e,n):t.call(e)},invokeWithOnError:function(e,t,n,r,i){try{n&&n.length>0?t.apply(e,n):t.call(e)}catch(o){r(o,i)}},flush:function(e){var t=this._queue,n=t.length;if(0!==n){var i,o,s,a,l=this.globalOptions,u=this.options,c=u&&u.before,d=u&&u.after,h=l.onError||l.onErrorTarget&&l.onErrorTarget[l.onErrorMethod],f=h?this.invokeWithOnError:this.invoke;this.targetQueues=Object.create(null);var p=this._queueBeingFlushed=this._queue.slice();this._queue=[],c&&c();for(var m=0;n>m;m+=4)i=p[m],o=p[m+1],s=p[m+2],a=p[m+3],r(o)&&(o=i[o]),o&&f(i,o,s,h,a);d&&d(),this._queueBeingFlushed=void 0,e!==!1&&this._queue.length>0&&this.flush(!0)}},cancel:function(e){var t,n,r,i,o=this._queue,s=e.target,a=e.method,l=this.globalOptions.GUID_KEY;if(l&&this.targetQueues&&s){var u=this.targetQueues[s[l]];if(u)for(r=0,i=u.length;i>r;r++)u[r]===a&&u.splice(r,1)}for(r=0,i=o.length;i>r;r+=4)if(t=o[r],n=o[r+1],t===s&&n===a)return o.splice(r,4),!0;if(o=this._queueBeingFlushed)for(r=0,i=o.length;i>r;r+=4)if(t=o[r],n=o[r+1],t===s&&n===a)return o[r+1]=null,!0}},t["default"]=n}),e("backburner/utils",["exports"],function(e){"use strict";function t(e,t){for(var n=0;n<e.length;n++)t(e[n])}function n(e){return"string"==typeof e}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return i(e)||a.test(e)}function s(e){return function(){try{return e.apply(this,arguments)}catch(t){throw t}}}var a=/\d+/;e.each=t;var l=Date.now||function(){return(new Date).getTime()};e.now=l,e.isString=n,e.isFunction=r,e.isNumber=i,e.isCoercableNumber=o,e.wrapInTryCatch=s}),e("calculateVersion",[],function(){"use strict";var e=n("fs"),t=n("path");module.exports=function(){var r=n("../package.json").version,i=[r],o=t.join(__dirname,"..",".git"),s=t.join(o,"HEAD");if(r.indexOf("+")>-1){try{if(e.existsSync(s)){var a,l=e.readFileSync(s,{encoding:"utf8"}),u=l.split("/").slice(-1)[0].trim(),c=l.split(" ")[1];if(c){var d=t.join(o,c.trim());a=e.readFileSync(d)}else a=u;i.push(a.slice(0,10))}}catch(h){console.error(h.stack)}return i.join(".")}return r}}),e("container",["container/container","exports"],function(e,t){"use strict";i.MODEL_FACTORY_INJECTIONS=!1,i.ENV&&"undefined"!=typeof i.ENV.MODEL_FACTORY_INJECTIONS&&(i.MODEL_FACTORY_INJECTIONS=!!i.ENV.MODEL_FACTORY_INJECTIONS);var n=e["default"];t["default"]=n}),e("container/container",["ember-metal/core","ember-metal/keys","ember-metal/dictionary","exports"],function(e,t,n,r){"use strict";function i(e){this.parent=e,this.children=[],this.resolver=e&&e.resolver||function(){},this.registry=D(e?e.registry:null),this.cache=D(e?e.cache:null),this.factoryCache=D(e?e.factoryCache:null),this.resolveCache=D(e?e.resolveCache:null),this.typeInjections=D(e?e.typeInjections:null),this.injections=D(null),this.normalizeCache=D(null),this.validationCache=D(e?e.validationCache:null),this.factoryTypeInjections=D(e?e.factoryTypeInjections:null),this.factoryInjections=D(null),this._options=D(e?e._options:null),this._typeOptions=D(e?e._typeOptions:null)}function o(e,t){var n=e.resolveCache[t];if(n)return n;var r=e.resolver(t)||e.registry[t];return e.resolveCache[t]=r,r}function s(e,t){return e.cache[t]?!0:void 0!==e.resolve(t)}function a(e,t,n){if(n=n||{},e.cache[t]&&n.singleton!==!1)return e.cache[t];var r=v(e,t);return void 0!==r?(u(e,t)&&n.singleton!==!1&&(e.cache[t]=r),r):void 0}function l(e){throw new Error(e+" is not currently supported on child containers")}function u(e,t){var n=h(e,t,"singleton");return n!==!1}function c(e,t){var n={};if(!t)return n;d(e,t);for(var r,i=0,o=t.length;o>i;i++)r=t[i],n[r.property]=a(e,r.fullName);return n}function d(e,t){if(t)for(var n,r=0,i=t.length;i>r;r++)if(n=t[r].fullName,!e.has(n))throw new Error("Attempting to inject an unknown injection: `"+n+"`")}function h(e,t,n){var r=e._options[t];if(r&&void 0!==r[n])return r[n];var i=t.split(":")[0];return r=e._typeOptions[i],r?r[n]:void 0}function f(e,t){var n=e.factoryCache;if(n[t])return n[t];var r=e.resolve(t);if(void 0!==r){var i=t.split(":")[0];if(!r||"function"!=typeof r.extend||!O.MODEL_FACTORY_INJECTIONS&&"model"===i)return r&&"function"==typeof r._onLookup&&r._onLookup(t),n[t]=r,r;var o=p(e,t),s=m(e,t);s._toString=e.makeToString(r,t);var a=r.extend(o);return a.reopenClass(s),r&&"function"==typeof r._onLookup&&r._onLookup(t),n[t]=a,a}}function p(e,t){var n=t.split(":"),r=n[0],i=[];return i=i.concat(e.typeInjections[r]||[]),i=i.concat(e.injections[t]||[]),i=c(e,i),i._debugContainerKey=t,i.container=e,i}function m(e,t){var n=t.split(":"),r=n[0],i=[];return i=i.concat(e.factoryTypeInjections[r]||[]),i=i.concat(e.factoryInjections[t]||[]),i=c(e,i),i._debugContainerKey=t,i}function g(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&C(t,n,e[n]);return t}function v(e,t){var n,r,i=f(e,t);if(h(e,t,"instantiate")===!1)return i;if(i){if("function"!=typeof i.create)throw new Error("Failed to create an instance of '"+t+"'. Most likely an improperly defined class or an invalid module export.");return r=e.validationCache,r[t]||"function"!=typeof i._lazyInjections||(n=i._lazyInjections(),d(e,g(n))),r[t]=!0,"function"==typeof i.extend?i.create():i.create(p(e,t))}}function b(e,t){for(var n,r,i=e.cache,o=I(i),s=0,a=o.length;a>s;s++)n=o[s],r=i[n],h(e,n,"instantiate")!==!1&&t(r)}function y(e){b(e,function(e){e.destroy()}),e.cache.dict=D(null)}function E(e,t,n,r){var i=e[t];i||(i=[],e[t]=i),i.push({property:n,fullName:r})}function _(e){if(!R.test(e))throw new TypeError("Invalid Fullname, expected: `type:name` got: "+e);return!0}function T(e,t){return e[t]||(e[t]=[])}function C(e,t,n){e.push({property:t,fullName:n})}var O=e["default"],I=t["default"],D=n["default"];i.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var e=new i(this);return this.children.push(e),e},register:function(e,t,n){if(void 0===t)throw new TypeError("Attempting to register an unknown factory: `"+e+"`");var r=this.normalize(e);if(r in this.cache)throw new Error("Cannot re-register: `"+e+"`, as it has already been looked up.");this.registry[r]=t,this._options[r]=n||{}},unregister:function(e){var t=this.normalize(e);delete this.registry[t],delete this.cache[t],delete this.factoryCache[t],delete this.resolveCache[t],delete this._options[t],delete this.validationCache[t]},resolve:function(e){return o(this,this.normalize(e))},describe:function(e){return e},normalizeFullName:function(e){return e},normalize:function(e){return this.normalizeCache[e]||(this.normalizeCache[e]=this.normalizeFullName(e))},makeToString:function(e,t){return e.toString()},lookup:function(e,t){return a(this,this.normalize(e),t)},lookupFactory:function(e){return f(this,this.normalize(e))},has:function(e){return s(this,this.normalize(e))},optionsForType:function(e,t){this.parent&&l("optionsForType"),this._typeOptions[e]=t},options:function(e,t){t=t||{};var n=this.normalize(e);this._options[n]=t},typeInjection:function(e,t,n){this.parent&&l("typeInjection");var r=n.split(":")[0];if(r===e)throw new Error("Cannot inject a `"+n+"` on other "+e+"(s). Register the `"+n+"` as a different type and perform the typeInjection.");E(this.typeInjections,e,t,n)},injection:function(e,t,n){this.parent&&l("injection"),_(n);var r=this.normalize(n);if(-1===e.indexOf(":"))return this.typeInjection(e,t,r);var i=this.normalize(e);if(this.cache[i])throw new Error("Attempted to register an injection for a type that has already been looked up. ('"+i+"', '"+t+"', '"+n+"')");C(T(this.injections,i),t,r)},factoryTypeInjection:function(e,t,n){this.parent&&l("factoryTypeInjection"),E(this.factoryTypeInjections,e,t,this.normalize(n))},factoryInjection:function(e,t,n){this.parent&&l("injection");var r=this.normalize(e),i=this.normalize(n);if(_(n),-1===e.indexOf(":"))return this.factoryTypeInjection(r,t,i);if(this.factoryCache[r])throw new Error("Attempted to register a factoryInjection for a type that has already been looked up. ('"+r+"', '"+t+"', '"+n+"')");C(T(this.factoryInjections,r),t,i)},destroy:function(){for(var e=0,t=this.children.length;t>e;e++)this.children[e].destroy();this.children=[],b(this,function(e){e.destroy()}),this.parent=void 0,this.isDestroyed=!0},reset:function(){for(var e=0,t=this.children.length;t>e;e++)y(this.children[e]);y(this)}};var R=/^[^:]+.+:[^:]+$/;r["default"]=i}),e("dag-map",["exports"],function(e){"use strict";function t(e,n,r,i){var o,s=e.name,a=e.incoming,l=e.incomingNames,u=l.length;if(r||(r={}),i||(i=[]),!r.hasOwnProperty(s)){for(i.push(s),r[s]=!0,o=0;u>o;o++)t(a[l[o]],n,r,i);n(e,i),i.pop()}}function n(){this.names=[],this.vertices=Object.create(null)}function r(e){this.name=e,this.incoming={},this.incomingNames=[],this.hasOutgoing=!1,this.value=null}n.prototype.add=function(e){if(!e)throw new Error("Can't add Vertex without name");if(void 0!==this.vertices[e])return this.vertices[e];var t=new r(e);return this.vertices[e]=t,this.names.push(e),t},n.prototype.map=function(e,t){this.add(e).value=t},n.prototype.addEdge=function(e,n){function r(e,t){if(e.name===n)throw new Error("cycle detected: "+n+" <- "+t.join(" <- "))}if(e&&n&&e!==n){var i=this.add(e),o=this.add(n);o.incoming.hasOwnProperty(e)||(t(i,r),i.hasOutgoing=!0,o.incoming[e]=i,o.incomingNames.push(e))}},n.prototype.topsort=function(e){var n,r,i={},o=this.vertices,s=this.names,a=s.length;for(n=0;a>n;n++)r=o[s[n]],r.hasOutgoing||t(r,e,i)},n.prototype.addEdges=function(e,t,n,r){var i;if(this.map(e,t),n)if("string"==typeof n)this.addEdge(e,n);else for(i=0;i<n.length;i++)this.addEdge(e,n[i]);if(r)if("string"==typeof r)this.addEdge(r,e);else for(i=0;i<r.length;i++)this.addEdge(r[i],e)},e["default"]=n}),e("dag-map.umd",["./dag-map"],function(t){"use strict";var n=t["default"];"function"==typeof e&&e.amd?e(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof this&&(this.DAG=n)}),e("ember-application",["ember-metal/core","ember-runtime/system/lazy_load","ember-application/system/resolver","ember-application/system/application","ember-application/ext/controller"],function(e,t,n,r,i){"use strict";var o=e["default"],s=t.runLoadHooks,a=n.Resolver,l=n["default"],u=r["default"];o.Application=u,o.Resolver=a,o.DefaultResolver=l,s("Ember.Application",u)}),e("ember-application/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/error","ember-metal/utils","ember-metal/computed","ember-runtime/mixins/controller","ember-routing/system/controller_for","exports"],function(e,t,n,r,i,o,s,a){"use strict";function l(e,t,n){var r,i,o,s=[];for(i=0,o=n.length;o>i;i++)r=n[i],-1===r.indexOf(":")&&(r="controller:"+r),t.has(r)||s.push(r);if(s.length)throw new c(d(e)+" needs [ "+s.join(", ")+" ] but "+(s.length>1?"they":"it")+" could not be found")}var u=(e["default"],t.get),c=n["default"],d=r.inspect,h=i.computed,f=o["default"],p=(r.meta,s["default"]),m=h(function(){var e=this;return{needs:u(e,"needs"),container:u(e,"container"),unknownProperty:function(t){var n,r,i,o=this.needs;for(r=0,i=o.length;i>r;r++)if(n=o[r],n===t)return this.container.lookup("controller:"+t);var s=d(e)+"#needs does not include `"+t+"`. To access the "+t+" controller from "+d(e)+", "+d(e)+" should have a `needs` property that is an array of the controllers it has access to.";throw new ReferenceError(s)},setUnknownProperty:function(t,n){throw new Error("You cannot overwrite the value of `controllers."+t+"` of "+d(e))}}});f.reopen({concatenatedProperties:["needs"],needs:[],init:function(){var e=u(this,"needs"),t=u(e,"length");t>0&&(this.container&&l(this,this.container,e),u(this,"controllers")),this._super.apply(this,arguments)},controllerFor:function(e){return p(u(this,"container"),e)},controllers:m}),a["default"]=f}),e("ember-application/system/application",["dag-map","container/container","ember-metal","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-runtime/system/namespace","ember-runtime/mixins/deferred","ember-application/system/resolver","ember-metal/platform","ember-metal/run_loop","ember-metal/utils","ember-runtime/controllers/controller","ember-metal/enumerable_utils","ember-runtime/controllers/object_controller","ember-runtime/controllers/array_controller","ember-views/views/select","ember-views/system/event_dispatcher","ember-views/system/jquery","ember-routing/system/route","ember-routing/system/router","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/location/none_location","ember-routing/system/cache","ember-extension-support/container_debug_adapter","ember-metal/core","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y,E,_,T,C,O,I,D,R,w){"use strict";function x(e){var t=[];for(var n in e)t.push(n);return t}function k(e){function t(e){return r.resolve(e)}var n=e.get("resolver")||e.get("Resolver")||B,r=n.create({namespace:e});return t.describe=function(e){return r.lookupDescription(e)},t.makeToString=function(e,t){return r.makeToString(e,t)},t.normalize=function(e){return r.normalize?r.normalize(e):e},t.__resolver__=r,t}var S=e["default"],K=t["default"],N=n["default"],A=r.get,P=i.set,L=o.runLoadHooks,M=s["default"],F=a["default"],B=l["default"],$=u.create,j=c["default"],H=(d.canInvoke,h["default"]),z=f["default"],V=p["default"],q=m["default"],U=g["default"],W=v["default"],Y=b["default"],G=y["default"],X=E["default"],Q=_["default"],Z=T["default"],J=C["default"],ee=O["default"],te=I["default"],ne=D["default"],re=R.K,ie=!1,oe=M.extend(F,{_suppressDeferredDeprecation:!0,rootElement:"body",eventDispatcher:null,customEvents:null,init:function(){if(this._readinessDeferrals=1,this.$||(this.$=Y),this.__container__=this.buildContainer(),this.Router=this.defaultRouter(),this._super(),this.scheduleInitialize(),ie||(ie=!0,N.libraries.registerCoreLibrary("jQuery",Y().jquery)),N.LOG_VERSION){N.LOG_VERSION=!1;for(var e=N.libraries._registry,t=z.map(e,function(e){return A(e,"name.length")}),n=Math.max.apply(this,t),r=0,i=e.length;i>r;r++){var o=e[r];new Array(n-o.name.length+1).join(" ")}}},buildContainer:function(){var e=this.__container__=oe.buildContainer(this);return e},defaultRouter:function(){if(this.Router!==!1){var e=this.__container__;return this.Router&&(e.unregister("router:main"),e.register("router:main",this.Router)),e.lookupFactory("router:main")}},scheduleInitialize:function(){!this.$||this.$.isReady?j.schedule("actions",this,"_initialize"):this.$().ready(N.run.bind(this,"_initialize"))},deferReadiness:function(){this._readinessDeferrals++},advanceReadiness:function(){this._readinessDeferrals--,0===this._readinessDeferrals&&j.once(this,this.didBecomeReady)},register:function(){var e=this.__container__;e.register.apply(e,arguments)},inject:function(){var e=this.__container__;e.injection.apply(e,arguments)},initialize:function(){},_initialize:function(){if(!this.isDestroyed){if(this.Router){var e=this.__container__;e.unregister("router:main"),e.register("router:main",this.Router)}return this.runInitializers(),L("application",this),this.advanceReadiness(),this}},reset:function(){function e(){var e=this.__container__.lookup("router:main");e.reset(),j(this.__container__,"destroy"),this.buildContainer(),j.schedule("actions",this,"_initialize")}this._readinessDeferrals=1,j.join(this,e)},runInitializers:function(){for(var e,t=A(this.constructor,"initializers"),n=x(t),r=this.__container__,i=new S,o=this,s=0;s<n.length;s++)e=t[n[s]],i.addEdges(e.name,e.initialize,e.before,e.after);i.topsort(function(e){var t=e.value;t(r,o)})},didBecomeReady:function(){this.setupEventDispatcher(),this.ready(),this.startRouting(),N.testing||(N.Namespace.processAll(),N.BOOTED=!0),this.resolve(this)},setupEventDispatcher:function(){var e=A(this,"customEvents"),t=A(this,"rootElement"),n=this.__container__.lookup("event_dispatcher:main");P(this,"eventDispatcher",n),n.setup(e,t)},startRouting:function(){var e=this.__container__.lookup("router:main");e&&e.startRouting()},handleURL:function(e){var t=this.__container__.lookup("router:main");t.handleURL(e)},ready:re,resolver:null,Resolver:null,willDestroy:function(){N.BOOTED=!1,this.__container__.lookup("router:main").reset(),this.__container__.destroy()},initializer:function(e){this.constructor.initializer(e)},then:function(){this._super.apply(this,arguments)}});oe.reopenClass({initializers:$(null),initializer:function(e){void 0!==this.superclass.initializers&&this.superclass.initializers===this.initializers&&this.reopenClass({initializers:$(this.initializers)}),this.initializers[e.name]=e},buildContainer:function(e){var t=new K;return t.set=P,t.resolver=k(e),t.normalizeFullName=t.resolver.normalize,t.describe=t.resolver.describe,t.makeToString=t.resolver.makeToString,t.optionsForType("component",{singleton:!1}),t.optionsForType("view",{singleton:!1}),t.optionsForType("template",{instantiate:!1}),t.optionsForType("helper",{instantiate:!1}),t.register("application:main",e,{instantiate:!1}),t.register("controller:basic",H,{instantiate:!1}),t.register("controller:object",V,{instantiate:!1}),t.register("controller:array",q,{instantiate:!1}),t.register("view:select",U),t.register("route:basic",G,{instantiate:!1}),t.register("event_dispatcher:main",W),t.register("router:main",X),t.injection("router:main","namespace","application:main"),t.register("location:auto",J),t.register("location:hash",Q),t.register("location:history",Z),t.register("location:none",ee),t.injection("controller","target","router:main"),t.injection("controller","namespace","application:main"),t.register("-bucket-cache:main",te),t.injection("router","_bucketCache","-bucket-cache:main"),t.injection("route","_bucketCache","-bucket-cache:main"),t.injection("controller","_bucketCache","-bucket-cache:main"),t.injection("route","router","router:main"),t.injection("location","rootURL","-location-setting:root-url"),t.register("resolver-for-debugging:main",t.resolver.__resolver__,{instantiate:!1}),t.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main"),t.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main"),t.register("container-debug-adapter:main",ne),t}}),w["default"]=oe}),e("ember-application/system/resolver",["ember-metal/core","ember-metal/property_get","ember-metal/logger","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/system/namespace","ember-htmlbars/helpers","ember-metal/dictionary","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";var u=e["default"],c=t.get,d=n["default"],h=r.classify,f=r.capitalize,p=r.decamelize,m=i["default"],g=o["default"],v=s["default"],b=m.extend({namespace:null,normalize:u.required(Function),resolve:u.required(Function),parseName:u.required(Function),lookupDescription:u.required(Function),makeToString:u.required(Function),resolveOther:u.required(Function),_logLookup:u.required(Function)});l.Resolver=b;var y=a["default"];l["default"]=m.extend({namespace:null,init:function(){this._parseNameCache=y(null)},normalize:function(e){var t=e.split(":",2),n=t[0],r=t[1];if("template"!==n){var i=r;return i.indexOf(".")>-1&&(i=i.replace(/\.(.)/g,function(e){return e.charAt(1).toUpperCase()})),r.indexOf("_")>-1&&(i=i.replace(/_(.)/g,function(e){return e.charAt(1).toUpperCase()})),n+":"+i}return e},resolve:function(e){var t,n=this.parseName(e),r=n.resolveMethodName;if(!n.name||!n.type)throw new TypeError("Invalid fullName: `"+e+"`, must be of the form `type:name` ");return this[r]&&(t=this[r](n)),t||(t=this.resolveOther(n)),n.root&&n.root.LOG_RESOLVER&&this._logLookup(t,n),t},parseName:function(e){return this._parseNameCache[e]||(this._parseNameCache[e]=this._parseName(e))},_parseName:function(e){var t=e.split(":"),n=t[0],r=t[1],i=r,o=c(this,"namespace"),s=o;if("template"!==n&&-1!==i.indexOf("/")){var a=i.split("/");i=a[a.length-1];var l=f(a.slice(0,-1).join("."));s=g.byName(l)}return{fullName:e,type:n,fullNameWithoutType:r,name:i,root:s,resolveMethodName:"resolve"+h(n)}},lookupDescription:function(e){var t,n=this.parseName(e);return"template"===n.type?"template at "+n.fullNameWithoutType.replace(/\./g,"/"):(t=n.root+"."+h(n.name).replace(/\./g,""),"model"!==n.type&&(t+=h(n.type)),t)},makeToString:function(e,t){return e.toString()},useRouterNaming:function(e){e.name=e.name.replace(/\./g,"_"),"basic"===e.name&&(e.name="")},resolveTemplate:function(e){var t=e.fullNameWithoutType.replace(/\./g,"/");return u.TEMPLATES[t]?u.TEMPLATES[t]:(t=p(t),u.TEMPLATES[t]?u.TEMPLATES[t]:void 0)},resolveView:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveController:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveRoute:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveModel:function(e){var t=h(e.name),n=c(e.root,t);return n?n:void 0},resolveHelper:function(e){return this.resolveOther(e)||v[e.fullNameWithoutType]},resolveOther:function(e){var t=h(e.name)+h(e.type),n=c(e.root,t);return n?n:void 0},_logLookup:function(e,t){var n,r;n=e?"[✓]":"[ ]",r=t.fullName.length>60?".":new Array(60-t.fullName.length).join("."),d.info(n,t.fullName,r,this.lookupDescription(t.fullName))}})}),e("ember-extension-support",["ember-metal/core","ember-extension-support/data_adapter","ember-extension-support/container_debug_adapter"],function(e,t,n){"use strict";var r=e["default"],i=t["default"],o=n["default"];r.DataAdapter=i,r.ContainerDebugAdapter=o}),e("ember-extension-support/container_debug_adapter",["ember-metal/core","ember-runtime/system/native_array","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","exports"],function(e,t,n,r,i,o,s){"use strict";var a=e["default"],l=t.A,u=n.typeOf,c=r.dasherize,d=r.classify,h=i["default"],f=o["default"];

s["default"]=f.extend({container:null,resolver:null,canCatalogEntriesByType:function(e){return"model"===e||"template"===e?!1:!0},catalogEntriesByType:function(e){var t=l(h.NAMESPACES),n=l(),r=new RegExp(d(e)+"$");return t.forEach(function(e){if(e!==a)for(var t in e)if(e.hasOwnProperty(t)&&r.test(t)){var i=e[t];"class"===u(i)&&n.push(c(t.replace(r,"")))}}),n}})}),e("ember-extension-support/data_adapter",["ember-metal/property_get","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/native_array","ember-application/system/application","exports"],function(e,t,n,r,i,o,s,a){"use strict";var l=e.get,u=t["default"],c=n.dasherize,d=r["default"],h=i["default"],f=o.A,p=s["default"];a["default"]=h.extend({init:function(){this._super(),this.releaseMethods=f()},container:null,containerDebugAdapter:void 0,attributeLimit:3,releaseMethods:f(),getFilters:function(){return f()},watchModelTypes:function(e,t){var n,r=this.getModelTypes(),i=this,o=f();n=r.map(function(e){var n=e.klass,r=i.wrapModelType(n,e.name);return o.push(i.observeModelType(n,t)),r}),e(n);var s=function(){o.forEach(function(e){e()}),i.releaseMethods.removeObject(s)};return this.releaseMethods.pushObject(s),s},_nameToClass:function(e){return"string"==typeof e&&(e=this.container.lookupFactory("model:"+e)),e},watchRecords:function(e,t,n,r){var i,o=this,s=f(),a=this.getRecords(e),l=function(e){n([e])},u=a.map(function(e){return s.push(o.observeRecord(e,l)),o.wrapRecord(e)}),c=function(e,n,i,a){for(var u=n;n+a>u;u++){var c=e.objectAt(u),d=o.wrapRecord(c);s.push(o.observeRecord(c,l)),t([d])}i&&r(n,i)},d={didChange:c,willChange:function(){return this}};return a.addArrayObserver(o,d),i=function(){s.forEach(function(e){e()}),a.removeArrayObserver(o,d),o.releaseMethods.removeObject(i)},t(u),this.releaseMethods.pushObject(i),i},willDestroy:function(){this._super(),this.releaseMethods.forEach(function(e){e()})},detect:function(e){return!1},columnsForType:function(e){return f()},observeModelType:function(e,t){var n=this,r=this.getRecords(e),i=function(){t([n.wrapModelType(e)])},o={didChange:function(){u.scheduleOnce("actions",this,i)},willChange:function(){return this}};r.addArrayObserver(this,o);var s=function(){r.removeArrayObserver(n,o)};return s},wrapModelType:function(e,t){var n,r=this.getRecords(e);return n={name:t||e.toString(),count:l(r,"length"),columns:this.columnsForType(e),object:e}},getModelTypes:function(){var e,t=this,n=this.get("containerDebugAdapter");return e=n.canCatalogEntriesByType("model")?n.catalogEntriesByType("model"):this._getObjectsOnNamespaces(),e=f(e).map(function(e){return{klass:t._nameToClass(e),name:e}}),e=f(e).filter(function(e){return t.detect(e.klass)}),f(e)},_getObjectsOnNamespaces:function(){var e=f(d.NAMESPACES),t=f(),n=this;return e.forEach(function(e){for(var r in e)if(e.hasOwnProperty(r)&&n.detect(e[r])){var i=c(r);e instanceof p||!e.toString()||(i=e+"/"+i),t.push(i)}}),t},getRecords:function(e){return f()},wrapRecord:function(e){var t={object:e};return t.columnValues=this.getRecordColumnValues(e),t.searchKeywords=this.getRecordKeywords(e),t.filterValues=this.getRecordFilterValues(e),t.color=this.getRecordColor(e),t},getRecordColumnValues:function(e){return{}},getRecordKeywords:function(e){return f()},getRecordFilterValues:function(e){return{}},getRecordColor:function(e){return null},observeRecord:function(e,t){return function(){}}})}),e("ember-htmlbars",["ember-metal/core","ember-template-compiler","ember-htmlbars/hooks/inline","ember-htmlbars/hooks/content","ember-htmlbars/hooks/component","ember-htmlbars/hooks/block","ember-htmlbars/hooks/element","ember-htmlbars/hooks/subexpr","ember-htmlbars/hooks/attribute","ember-htmlbars/hooks/concat","ember-htmlbars/hooks/get","ember-htmlbars/hooks/set","morph","ember-htmlbars/system/make-view-helper","ember-htmlbars/system/make_bound_helper","ember-htmlbars/helpers","ember-htmlbars/helpers/binding","ember-htmlbars/helpers/view","ember-htmlbars/helpers/yield","ember-htmlbars/helpers/with","ember-htmlbars/helpers/log","ember-htmlbars/helpers/debugger","ember-htmlbars/helpers/bind-attr","ember-htmlbars/helpers/if_unless","ember-htmlbars/helpers/loc","ember-htmlbars/helpers/partial","ember-htmlbars/helpers/template","ember-htmlbars/helpers/input","ember-htmlbars/helpers/text_area","ember-htmlbars/helpers/collection","ember-htmlbars/helpers/each","ember-htmlbars/helpers/unbound","ember-htmlbars/system/bootstrap","ember-htmlbars/compat","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y,E,_,T,C,O,I,D,R,w,x,k,S,K,N,A){"use strict";var P=e["default"],L=t.precompile,M=t.compile,F=t.template,B=t.registerPlugin,$=n["default"],j=r["default"],H=i["default"],z=o["default"],V=s["default"],q=a["default"],U=l["default"],W=u["default"],Y=c["default"],G=d["default"],X=h.DOMHelper,Q=f["default"],Z=p["default"],J=m.registerHelper,ee=m["default"],te=g.bindHelper,ne=v.viewHelper,re=b.yieldHelper,ie=y.withHelper,oe=E.logHelper,se=_.debuggerHelper,ae=T.bindAttrHelper,le=T.bindAttrHelperDeprecated,ue=C.ifHelper,ce=C.unlessHelper,de=C.unboundIfHelper,he=C.boundIfHelper,fe=O.locHelper,pe=I.partialHelper,me=D.templateHelper,ge=R.inputHelper,ve=w.textareaHelper,be=x.collectionHelper,ye=k.eachHelper,Ee=S.unboundHelper;J("bindHelper",te),J("bind",te),J("view",ne),J("yield",re),J("with",ie),J("if",ue),J("unless",ce),J("unboundIf",de),J("boundIf",he),J("log",oe),J("debugger",se),J("loc",fe),J("partial",pe),J("template",me),J("bind-attr",ae),J("bindAttr",le),J("input",ge),J("textarea",ve),J("collection",be),J("each",ye),J("unbound",Ee),J("concat",W),P.HTMLBars={_registerHelper:J,template:F,compile:M,precompile:L,makeViewHelper:Q,makeBoundHelper:Z,registerPlugin:B};var _e={dom:new X,hooks:{get:Y,set:G,inline:$,content:j,block:z,element:V,subexpr:q,component:H,attribute:U,concat:W},helpers:ee,useFragmentCache:!0};A.defaultEnv=_e}),e("ember-htmlbars/compat",["ember-metal/core","ember-htmlbars/helpers","ember-htmlbars/compat/helper","ember-htmlbars/compat/handlebars-get","ember-htmlbars/compat/make-bound-helper","ember-htmlbars/compat/register-bound-helper","ember-htmlbars/system/make-view-helper","ember-htmlbars/utils/string","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";var u,c=e["default"],d=t["default"],h=n.registerHandlebarsCompatibleHelper,f=n.handlebarsHelper,p=r["default"],m=i["default"],g=o["default"],v=s["default"],b=a.SafeString,y=a.escapeExpression;u=c.Handlebars=c.Handlebars||{},u.helpers=d,u.helper=f,u.registerHelper=h,u.registerBoundHelper=g,u.makeBoundHelper=m,u.get=p,u.makeViewHelper=v,u.SafeString=b,u.Utils={escapeExpression:y},l["default"]=u}),e("ember-htmlbars/compat/handlebars-get",["exports"],function(e){"use strict";e["default"]=function(e,t,n){return n.data.view.getStream(t).value()}}),e("ember-htmlbars/compat/helper",["ember-metal/merge","ember-htmlbars/helpers","ember-views/views/view","ember-views/views/component","ember-htmlbars/system/make-view-helper","ember-htmlbars/compat/make-bound-helper","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s,a){"use strict";function l(e){if(v(e))return"ID";var t=typeof e;return t.toUpperCase()}function u(e){this.helperFunction=function(t,n,r,i){var o,s,a,u=this,c={hash:{},types:new Array(t.length),hashTypes:{}};h(c,r),h(c,i),c.hash={},r.isBlock&&(c.fn=function(){s=r.template.render(u,i,r.morph.contextualElement)});for(var d in n)o=n[d],c.hashTypes[d]=l(o),c.hash[d]=v(o)?o._label:o;for(var f=new Array(t.length),p=0,m=t.length;m>p;p++)o=t[p],c.types[p]=l(o),f[p]=v(o)?o._label:o;return f.push(c),a=e.apply(this,f),r.isBlock?s:a},this.isHTMLBars=!0}function c(e,t){var n;n=t&&t.isHTMLBars?t:new u(t),f[e]=n}function d(e,t){if(p.detect(t))f[e]=m(t);else{var n=b.call(arguments,1),r=g.apply(this,n);f[e]=r}}var h=e["default"],f=t["default"],p=n["default"],m=(r["default"],i["default"]),g=o["default"],v=s.isStream,b=[].slice;u.prototype={preprocessArguments:function(){}},a.registerHandlebarsCompatibleHelper=c,a.handlebarsHelper=d,a["default"]=u}),e("ember-htmlbars/compat/make-bound-helper",["ember-metal/core","ember-metal/mixin","ember-htmlbars/system/helper","ember-metal/streams/stream","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o){"use strict";var s=(e["default"],t.IS_BINDING),a=n["default"],l=r["default"],u=i.readArray,c=i.scanArray,d=i.scanHash,h=i.readHash,f=i.isStream;o["default"]=function(e,t){function n(t,n,o,a){function p(){for(var r=u(t),i=new Array(t.length),o=0,s=t.length;s>o;o++)m=t[o],i[o]=f(m)?m._label:m;return r.push({hash:h(n),data:{properties:i}}),e.apply(g,r)}var m,g=this,v=t.length;for(var b in n)s.test(b)&&(n[b.slice(0,-7)]=g.getStream(n[b]),delete n[b]);var y=c(t)||d(n);if(a.data.isUnbound||!y)return p();var E=new l(p);for(i=0;v>i;i++)m=t[i],f(m)&&m.subscribe(E.notify,E);for(b in n)m=n[b],f(m)&&m.subscribe(E.notify,E);if(v>0){var _=t[0];if(f(_)){var T=function(e){e.value(),E.notify()};for(i=0;i<r.length;i++){var C=_.get(r[i]);C.value(),C.subscribe(T)}}}return E}for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);return new a(n)}}),e("ember-htmlbars/compat/register-bound-helper",["ember-htmlbars/helpers","ember-htmlbars/compat/make-bound-helper","exports"],function(e,t,n){"use strict";var r=e["default"],i=t["default"],o=[].slice;n["default"]=function(e,t){var n=o.call(arguments,1),s=i.apply(this,n);r[e]=s}}),e("ember-htmlbars/helpers",["ember-metal/platform","ember-htmlbars/system/helper","exports"],function(e,t,n){"use strict";function r(e,t){var n;n=t&&t.isHelper?t:new s(t),o[e]=n}var i=e.create,o=i(null),s=t["default"];n.registerHelper=r,n["default"]=o}),e("ember-htmlbars/helpers/bind-attr",["ember-metal/core","ember-runtime/system/string","ember-views/attr_nodes/attr_node","ember-views/attr_nodes/legacy_bind","ember-metal/keys","ember-htmlbars/helpers","ember-metal/enumerable_utils","ember-metal/streams/utils","ember-views/streams/class_name_binding","exports"],function(e,t,n,r,i,o,s,a,l,u){"use strict";function c(e,t,n,r){var i=n.element,o=this,s=t["class"];if(null!==s&&void 0!==s){b(s)||(s=d(s,o));var a=new f("class",s);a._morph=r.dom.createAttrMorph(i,"class"),o.appendChild(a)}for(var l,u,c,h,g=m(t),v=0,y=g.length;y>v;v++)l=g[v],"class"!==l&&(u=t[l],c=b(u)?u:o.getStream(u),h=new p(l,c),h._morph=r.dom.createAttrMorph(i,l),o.appendChild(h))}function d(e,t){var n=e.split(" "),r=v(n,function(e){return E(t,e)}),i=y(r," ");return i}function h(){return g["bind-attr"].helperFunction.apply(this,arguments)}var f=(e["default"],t.fmt,n["default"]),p=r["default"],m=i["default"],g=o["default"],v=s.map,b=a.isStream,y=a.concat,E=l.streamifyClassNameBinding;u["default"]=c,u.bindAttrHelper=c,u.bindAttrHelperDeprecated=h}),e("ember-htmlbars/helpers/binding",["ember-metal/is_none","ember-metal/run_loop","ember-metal/property_get","ember-metal/streams/simple","ember-views/views/bound_view","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e){return!c(e)}function l(e,t,n,r,i,o,s,a,l){var u,c=m(e)?e:this.getStream(e);if(a){u=new f(c);for(var g=function(e){e.value(),u.notify()},v=0;v<a.length;v++){var b=c.get(a[v]);b.value(),b.subscribe(g)}}else u=c;var y=l||p,E={_morph:n.morph,preserveContext:i,shouldDisplayFunc:o,valueNormalizerFunc:s,displayTemplate:n.template,inverseTemplate:n.inverse,lazyValue:u,previousContext:h(this,"context"),isEscaped:!t.unescaped,templateHash:t,helperName:n.helperName};n.keywords&&(E._keywords=n.keywords);var _=this.createChildView(y,E);this.appendChild(_),u.subscribe(this._wrapAsScheduled(function(){d.scheduleOnce("render",_,"rerenderIfNeeded")}))}function u(e,t,n,r){var i=e[0];return"string"==typeof i&&(i=this.getStream(i)),n.template?(n.helperName="bind",void l.call(this,i,t,n,r,!1,a)):i}var c=e["default"],d=t["default"],h=n.get,f=r["default"],p=i["default"],m=o.isStream;s.bind=l,s.bindHelper=u}),e("ember-htmlbars/helpers/collection",["ember-metal/core","ember-metal/mixin","ember-runtime/system/string","ember-metal/property_get","ember-htmlbars/helpers/view","ember-views/views/collection_view","ember-views/streams/utils","ember-metal/enumerable_utils","ember-views/streams/class_name_binding","ember-metal/binding","exports"],function(e,t,n,r,i,o,s,a,l,u,c){"use strict";function d(e,t,n,r){var i,o=e[0],s=r.data,a=n.template,l=n.inverse,u=s.view,c=f(u,"controller"),d=c&&c.container?c.container:u.container;i=o?g(o,d):m;var E,_,T={},C=i.proto();_=t.itemView?g(t.itemView,d):t.itemViewClass?g(t.itemViewClass,d):C.itemViewClass,"string"==typeof _&&(_=d.lookupFactory("view:"+_)),delete t.itemViewClass,delete t.itemView;for(var O in t)if("itemController"!==O&&"itemClassBinding"!==O&&t.hasOwnProperty(O)&&(E=O.match(/^item(.)(.*)$/))){var I=E[1].toLowerCase()+E[2];T[I]=h.test(O)?u._getBindingForStream(t[O]):t[O],delete t[O]}a&&(T.template=a,delete n.template);var D;l?(D=f(C,"emptyViewClass"),D=D.extend({template:l,tagName:T.tagName})):t.emptyViewClass&&(D=g(t.emptyViewClass,d)),D&&(t.emptyView=D),T._contextBinding=y.oneWay(t.keyword?"_parentView.context":"content");var R=p.propertiesFromHTMLOptions(T,{},{data:s});if(t.itemClassBinding){var w=t.itemClassBinding.split(" ");R.classNameBindings=v(w,function(e){return b(u,e)})}return t.itemViewClass=_,t._itemViewProps=R,n.helperName=n.helperName||"collection",r.helpers.view.helperFunction.call(this,[i],t,n,r)}var h=(e["default"],t.IS_BINDING),f=(n.fmt,r.get),p=i.ViewHelper,m=o["default"],g=s.readViewFactory,v=a.map,b=l.streamifyClassNameBinding,y=u.Binding;c.collectionHelper=d}),e("ember-htmlbars/helpers/debugger",["ember-metal/logger","exports"],function(e,t){"use strict";function n(){r.info("Use `this` to access the view context.")}var r=e["default"];t.debuggerHelper=n}),e("ember-htmlbars/helpers/each",["ember-metal/core","ember-views/views/each","exports"],function(e,t,n){"use strict";function r(e,t,n,r){var o="each",s=e[0]||this.getStream("");return n.template&&n.template.blockParams&&(t.keyword=!0),t.dataSource=s,n.helperName=n.helperName||o,r.helpers.collection.helperFunction.call(this,[i],t,n,r)}var i=(e["default"],t["default"]);n.EachView=i,n.eachHelper=r}),e("ember-htmlbars/helpers/if_unless",["ember-metal/core","ember-htmlbars/helpers/binding","ember-metal/property_get","ember-metal/utils","ember-views/streams/conditional_stream","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e){var t=e&&f(e,"isTruthy");return"boolean"==typeof t?t:p(e)?0!==f(e,"length"):!!e}function l(e,t,n,r){return n.helperName=n.helperName||"boundIf",h.call(this,e[0],t,n,r,!0,a,a,["isTruthy","length"])}function u(e,t,n,r){var i=n.template,o=e[0];return m(e[0])&&(o=e[0].value()),a(o)||(i=n.inverse||g),i.render(this,r,n.morph.contextualElement)}function c(e,t,n,r){return n.inverse=n.inverse||g,n.helperName=n.helperName||"if ",r.data.isUnbound?(r.data.isUnbound=!1,r.helpers.unboundIf.helperFunction.call(this,e,t,n,r)):r.helpers.boundIf.helperFunction.call(this,e,t,n,r)}function d(e,t,n,r){var i=n.template,o=n.inverse||g,s="unless";return n.template=o,n.inverse=i,n.helperName=n.helperName||s,r.data.isUnbound?(r.data.isUnbound=!1,r.helpers.unboundIf.helperFunction.call(this,e,t,n,r)):r.helpers.boundIf.helperFunction.call(this,e,t,n,r)}var h=(e["default"],t.bind),f=n.get,p=r.isArray,m=(i["default"],o.isStream),g={isHTMLBars:!0,render:function(){return""}};s.ifHelper=c,s.boundIfHelper=l,s.unboundIfHelper=u,s.unlessHelper=d}),e("ember-htmlbars/helpers/input",["ember-views/views/checkbox","ember-views/views/text_field","ember-metal/streams/utils","ember-metal/core","exports"],function(e,t,n,r,i){"use strict";function o(e,t,n,r){var i,o=t.on;i=l(t.type),"checkbox"===i?(delete t.type,r.helpers.view.helperFunction.call(this,[s],t,n,r)):(delete t.on,t.onEvent=o||"enter",r.helpers.view.helperFunction.call(this,[a],t,n,r))}{var s=e["default"],a=t["default"],l=n.read;r["default"]}i.inputHelper=o}),e("ember-htmlbars/helpers/loc",["ember-metal/core","ember-runtime/system/string","ember-metal/streams/utils","exports"],function(e,t,n,r){"use strict";function i(e,t,n,r){return o.apply(this,e)}{var o=(e["default"],t.loc);n.isStream}r.locHelper=i}),e("ember-htmlbars/helpers/log",["ember-metal/logger","ember-metal/streams/utils","exports"],function(e,t,n){"use strict";function r(e,t,n,r){for(var s=i.log,a=[],l=0;l<e.length;l++)a.push(o(e[l]));s.apply(s,a)}var i=e["default"],o=t.read;n.logHelper=r}),e("ember-htmlbars/helpers/partial",["ember-metal/core","ember-metal/is_none","./binding","ember-metal/streams/utils","exports"],function(e,t,n,r,i){"use strict";function o(e,t,n,r){n.helperName=n.helperName||"partial";var i=e[0];return h(i)?(n.template=u(i),void d.call(this,i,t,n,r,!0,s)):l(i,this,r,n.morph.contextualElement)}function s(e){return!c(e)}function a(e,t){var n=t.split("/"),r=n[n.length-1];n[n.length-1]="_"+r;var i=n.join("/"),o=e.templateForName(i);return o||(o=e.templateForName(t)),o}function l(e,t,n,r){var i=a(t,e);return i.render(t,n,r)}function u(e){return{isHTMLBars:!0,render:function(t,n,r){return l(e.value(),t,n,r)}}}var c=(e["default"],t["default"]),d=n.bind,h=r.isStream;i.partialHelper=o}),e("ember-htmlbars/helpers/template",["ember-metal/core","exports"],function(e,t){"use strict";function n(e,t,n,r){return n.helperName=n.helperName||"template",r.helpers.partial.helperFunction.call(this,e,t,n,r)}e["default"];t.templateHelper=n}),e("ember-htmlbars/helpers/text_area",["ember-metal/core","ember-views/views/text_area","exports"],function(e,t,n){"use strict";function r(e,t,n,r){return r.helpers.view.helperFunction.call(this,[i],t,n,r)}var i=(e["default"],t["default"]);n.textareaHelper=r}),e("ember-htmlbars/helpers/unbound",["ember-htmlbars/system/lookup-helper","ember-metal/streams/utils","ember-metal/error","exports"],function(e,t,n,r){"use strict";function i(e,t,n,r){var i,l=e.length;if(n.helperName=n.helperName||"unbound",1===l)i=s(e[0]);else if(l>=2){r.data.isUnbound=!0;for(var u=e[0]._label,c=[],d=1,h=e.length;h>d;d++){var f=s(e[d]);c.push(f)}var p=o(u,this,r);if(!p)throw new a("HTMLBars error: Could not find component or helper named "+u+".");i=p.helperFunction.call(this,c,t,n,r),delete r.data.isUnbound}return i}var o=e["default"],s=t.read,a=n["default"];r.unboundHelper=i}),e("ember-htmlbars/helpers/view",["ember-metal/core","ember-runtime/system/object","ember-metal/property_get","ember-metal/streams/simple","ember-metal/keys","ember-metal/mixin","ember-metal/streams/utils","ember-views/streams/utils","ember-views/views/view","ember-metal/enumerable_utils","ember-views/streams/class_name_binding","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d){"use strict";function h(e,t,n){for(var r in e){var i=e[r];"class"===r&&E(i)?(e.classBinding=i._label,delete e["class"]):"classBinding"!==r&&(b.test(r)?E(i)||"string"==typeof i&&(e[r]=n._getBindingForStream(i)):E(i)&&"id"!==r&&(e[r+"Binding"]=n._getBindingForStream(i),delete e[r]))}}function f(e,t,n,r){var i,o=this.container||y(this._keywords.view).container;if(0===e.length)i=o?o.lookupFactory("view:toplevel"):T;else{var s=e[0];i=_(s,o)}return n.helperName=n.helperName||"view",I.helper(i,t,n,r)}var p=(e["default"],t["default"]),m=n.get,g=r["default"],v=i["default"],b=o.IS_BINDING,y=s.read,E=s.isStream,_=a.readViewFactory,T=l["default"],C=u.map,O=c.streamifyClassNameBinding,I=p.create({propertiesFromHTMLOptions:function(e,t,n){var r=n.data.view,i=y(e["class"]),o={helperName:t.helperName||""};e.id&&(o.elementId=y(e.id)),e.tag&&(o.tagName=e.tag),i&&(i=i.split(" "),o.classNames=i),e.classBinding&&(o.classNameBindings=e.classBinding.split(" ")),e.classNameBindings&&(void 0===o.classNameBindings&&(o.classNameBindings=[]),o.classNameBindings=o.classNameBindings.concat(e.classNameBindings.split(" "))),e.attributeBindings&&(o.attributeBindings=null);for(var s=v(e),a=0,l=s.length;l>a;a++){var u=s[a];"classNameBindings"!==u&&(o[u]=e[u])}return o.classNameBindings&&(o.classNameBindings=C(o.classNameBindings,function(e){var t=O(r,e);return E(t)?t:new g(t)})),o},helper:function(e,t,n,r){var i,o=r.data,s=n.template;h(t,n,r.data.view);var a=this.propertiesFromHTMLOptions(t,n,r),l=o.view;i=T.detectInstance(e)?e:e.proto(),s&&(a.template=s),i.controller||i.controllerBinding||a.controller||a.controllerBinding||(a._context=m(l,"context")),a._morph=n.morph,l.appendChild(e,a)},instanceHelper:function(e,t,n,r){var i=r.data,o=n.template;h(t,n,r.data.view);var s=this.propertiesFromHTMLOptions(t,n,r),a=i.view;o&&(s.template=o),e.controller||e.controllerBinding||s.controller||s.controllerBinding||(s._context=m(a,"context")),s._morph=n.morph,a.appendChild(e,s)}});d.ViewHelper=I,d.viewHelper=f}),e("ember-htmlbars/helpers/with",["ember-metal/core","ember-metal/is_none","ember-htmlbars/helpers/binding","ember-views/views/with_view","exports"],function(e,t,n,r,i){"use strict";function o(e,t,n,r){var i;i=n.template.blockParams?!0:!1,l.call(this,e[0],t,n,r,i,s,void 0,void 0,u)}function s(e){return!a(e)}var a=(e["default"],t["default"]),l=n.bind,u=r["default"];i.withHelper=o}),e("ember-htmlbars/helpers/yield",["ember-metal/core","ember-metal/property_get","exports"],function(e,t,n){"use strict";function r(e,t,n,r){for(var o=this;o&&!i(o,"layout");)o=o._contextView?o._contextView:i(o,"_parentView");return o._yield(null,r,n.morph,e)}var i=(e["default"],t.get);n.yieldHelper=r}),e("ember-htmlbars/hooks/attribute",["ember-views/attr_nodes/attr_node","ember-metal/error","ember-metal/streams/utils","ember-views/system/sanitize_attribute_value","exports"],function(e,t,n,r,i){"use strict";var o=e["default"],s=t["default"],a=n.isStream,l=r["default"],u=!1;i["default"]=function(e,t,n,r,i){if(u){var c=new o(r,i);c._morph=t,e.data.view.appendChild(c)}else{if(a(i))throw new s("Bound attributes are not yet supported in Ember.js");var d=l(n,r,i);e.dom.setProperty(n,r,d)}}}),e("ember-htmlbars/hooks/block",["ember-views/views/simple_bound_view","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper","exports"],function(e,t,n,r){"use strict";var i=e.appendSimpleBoundView,o=t.isStream,s=n["default"];r["default"]=function(e,t,n,r,a,l,u,c){var d=s(r,n,e),h={morph:t,template:u,inverse:c,isBlock:!0},f=d.helperFunction.call(n,a,l,h,e);o(f)?i(n,t,f):t.setContent(f)}}),e("ember-htmlbars/hooks/component",["ember-metal/core","ember-htmlbars/system/lookup-helper","exports"],function(e,t,n){"use strict";var r=(e["default"],t["default"]);n["default"]=function(e,t,n,i,o,s){var a=r(i,n,e);return a.helperFunction.call(n,[],o,{morph:t,template:s},e)}}),e("ember-htmlbars/hooks/concat",["ember-metal/streams/utils","exports"],function(e,t){"use strict";var n=e.concat;t["default"]=function(e,t){return n(t,"")}}),e("ember-htmlbars/hooks/content",["ember-views/views/simple_bound_view","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper","exports"],function(e,t,n,r){"use strict";var i=e.appendSimpleBoundView,o=t.isStream,s=n["default"];r["default"]=function(e,t,n,r){var a,l=s(r,n,e);if(l){var u={morph:t,isInline:!0};a=l.helperFunction.call(n,[],{},u,e)}else a=n.getStream(r);o(a)?i(n,t,a):t.setContent(a)}}),e("ember-htmlbars/hooks/element",["ember-metal/core","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper","exports"],function(e,t,n,r){"use strict";var i=(e["default"],t.read),o=n["default"];r["default"]=function(e,t,n,r,s,a){var l,u=o(r,n,e);if(u){var c={element:t};l=u.helperFunction.call(n,s,a,c,e)}else l=n.getStream(r);var d=i(l);if(d)for(var h=d.toString().split(/\s+/),f=0,p=h.length;p>f;f++){var m=h[f].split("="),g=m[0],v=m[1];v=v.replace(/^['"]/,"").replace(/['"]$/,""),e.dom.setAttribute(t,g,v)}}}),e("ember-htmlbars/hooks/get",["exports"],function(e){"use strict";e["default"]=function(e,t,n){return t.getStream(n)}}),e("ember-htmlbars/hooks/inline",["ember-views/views/simple_bound_view","ember-metal/streams/utils","ember-htmlbars/system/lookup-helper","exports"],function(e,t,n,r){"use strict";var i=e.appendSimpleBoundView,o=t.isStream,s=n["default"];r["default"]=function(e,t,n,r,a,l){var u=s(r,n,e),c=u.helperFunction.call(n,a,l,{morph:t},e);o(c)?i(n,t,c):t.setContent(c)}}),e("ember-htmlbars/hooks/set",["ember-metal/core","ember-metal/error","exports"],function(e,t,n){"use strict";e["default"],t["default"];n["default"]=function(e,t,n,r){t._keywords[n]=r}}),e("ember-htmlbars/hooks/subexpr",["ember-htmlbars/system/lookup-helper","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t,r,i,o){var s=n(r,t,e),a={isInline:!0};return s.helperFunction.call(t,i,o,a,e)}}),e("ember-htmlbars/system/bootstrap",["ember-metal/core","ember-views/component_lookup","ember-views/system/jquery","ember-metal/error","ember-runtime/system/lazy_load","ember-template-compiler/system/compile","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e){var t='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';h(t,e).each(function(){var e=h(this),t="text/x-raw-handlebars"===e.attr("type")?h.proxy(Handlebars.compile,Handlebars):m,n=e.attr("data-template-name")||e.attr("id")||"application",r=t(e.html());if(void 0!==c.TEMPLATES[n])throw new f('Template named "'+n+'" already exists.');c.TEMPLATES[n]=r,e.remove()})}function l(){a(h(document))}function u(e){e.register("component-lookup:main",d)}var c=e["default"],d=t["default"],h=n["default"],f=r["default"],p=i.onLoad,m=o["default"];p("Ember.Application",function(e){e.initializer({name:"domTemplates",initialize:l}),e.initializer({name:"registerComponentLookup",after:"domTemplates",initialize:u})}),s["default"]=a}),e("ember-htmlbars/system/helper",["exports"],function(e){"use strict";function t(e){this.helperFunction=e,this.isHelper=!0,this.isHTMLBars=!0}e["default"]=t}),e("ember-htmlbars/system/lookup-helper",["ember-metal/core","ember-metal/cache","ember-htmlbars/system/make-view-helper","ember-htmlbars/compat/helper","exports"],function(e,t,n,r,i){"use strict";var o=(e["default"],t["default"]),s=n["default"],a=r["default"],l=new o(1e3,function(e){return-1===e.indexOf("-")});i.ISNT_HELPER_CACHE=l,i["default"]=function(e,t,n){var r=n.helpers[e];if(r)return r;var i=t.container;if(i&&!l.get(e)){var o="helper:"+e;if(r=i.lookup(o),!r){var u=i.lookup("component-lookup:main"),c=u.lookupFactory(e,i);c&&(r=s(c),i.register(o,r))}return r&&!r.isHTMLBars&&(r=new a(r),i.unregister(o),i.register(o,r)),r}}}),e("ember-htmlbars/system/make-view-helper",["ember-metal/core","ember-htmlbars/system/helper","exports"],function(e,t,n){"use strict";var r=(e["default"],t["default"]);n["default"]=function(e){function t(t,n,r,i){return i.helpers.view.helperFunction.call(this,[e],n,r,i)}return new r(t)}}),e("ember-htmlbars/system/make_bound_helper",["ember-metal/core","ember-htmlbars/system/helper","ember-metal/streams/stream","ember-metal/streams/utils","exports"],function(e,t,n,r,i){"use strict";var o=(e["default"],t["default"]),s=n["default"],a=r.readArray,l=r.readHash,u=r.subscribe,c=r.scanHash,d=r.scanArray;i["default"]=function(e){function t(t,n,r,i){function o(){return e.call(p,a(t),l(n),r,i)}var h,f,p=this,m=t.length,g=d(t)||c(n);if(i.data.isUnbound||!g)return o();for(var v=new s(o),b=0;m>b;b++)h=t[b],u(h,v.notify,v);for(f in n)h=n[f],u(h,v.notify,v);return v}return new o(t)}}),e("ember-htmlbars/templates/component",["ember-template-compiler/system/template","exports"],function(e,t){"use strict";var n=e["default"],r=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("");e.appendChild(t,n);var n=e.createTextNode("");return e.appendChild(t,n),t},render:function(e,t,n){var r=t.dom,i=t.hooks,o=i.content;r.detectNamespace(n);var s;t.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r),this.cachedFragment&&r.repairClonedNode(s,[0,1]);var a=r.createMorphAt(s,0,1,n);return o(t,a,e,"yield"),s}}}();t["default"]=n(r)}),e("ember-htmlbars/templates/select",["ember-template-compiler/system/template","exports"],function(e,t){"use strict";var n=e["default"],r=function(){var e=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createElement("option");return e.setAttribute(t,"value",""),t},render:function(e,t,n){var r=t.dom,i=t.hooks,o=i.content;r.detectNamespace(n);var s;t.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(s=this.build(r),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=r.cloneNode(this.cachedFragment,!0))):s=this.build(r);var a=r.createMorphAt(s,-1,-1);return o(t,a,e,"view.prompt"),s}}}(),t=function(){var e=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("");e.appendChild(t,n);var n=e.createTextNode("");return e.appendChild(t,n),t},render:function(e,t,n){var r=t.dom,i=t.hooks,o=i.get,s=i.inline;r.detectNamespace(n);var a;t.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(a=this.build(r),this.hasRendered?this.cachedFragment=a:this.hasRendered=!0),this.cachedFragment&&(a=r.cloneNode(this.cachedFragment,!0))):a=this.build(r),this.cachedFragment&&r.repairClonedNode(a,[0,1]);var l=r.createMorphAt(a,0,1,n);return s(t,l,e,"view",[o(t,e,"view.groupView")],{content:o(t,e,"group.content"),label:o(t,e,"group.label")}),a}}}();return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("");e.appendChild(t,n);var n=e.createTextNode("");return e.appendChild(t,n),t},render:function(t,n,r){var i=n.dom,o=n.hooks,s=o.get,a=o.block;i.detectNamespace(r);var l;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(l=this.build(i),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=i.cloneNode(this.cachedFragment,!0))):l=this.build(i),this.cachedFragment&&i.repairClonedNode(l,[0,1]);var u=i.createMorphAt(l,0,1,r);return a(n,u,t,"each",[s(n,t,"view.groupedContent")],{keyword:"group"},e,null),l}}}(),n=function(){var e=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("");e.appendChild(t,n);var n=e.createTextNode("");return e.appendChild(t,n),t},render:function(e,t,n){var r=t.dom,i=t.hooks,o=i.get,s=i.inline;r.detectNamespace(n);var a;t.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(a=this.build(r),this.hasRendered?this.cachedFragment=a:this.hasRendered=!0),this.cachedFragment&&(a=r.cloneNode(this.cachedFragment,!0))):a=this.build(r),this.cachedFragment&&r.repairClonedNode(a,[0,1]);var l=r.createMorphAt(a,0,1,n);return s(t,l,e,"view",[o(t,e,"view.optionView")],{content:o(t,e,"item")}),a}}}();return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("");e.appendChild(t,n);var n=e.createTextNode("");return e.appendChild(t,n),t},render:function(t,n,r){var i=n.dom,o=n.hooks,s=o.get,a=o.block;i.detectNamespace(r);var l;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(l=this.build(i),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=i.cloneNode(this.cachedFragment,!0))):l=this.build(i),this.cachedFragment&&i.repairClonedNode(l,[0,1]);var u=i.createMorphAt(l,0,1,r);return a(n,u,t,"each",[s(n,t,"view.content")],{keyword:"item"},e,null),l}}}();return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("");e.appendChild(t,n);var n=e.createTextNode("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},render:function(r,i,o){var s=i.dom,a=i.hooks,l=a.get,u=a.block;s.detectNamespace(o);var c;i.useFragmentCache&&s.canClone?(null===this.cachedFragment&&(c=this.build(s),this.hasRendered?this.cachedFragment=c:this.hasRendered=!0),this.cachedFragment&&(c=s.cloneNode(this.cachedFragment,!0))):c=this.build(s),
this.cachedFragment&&s.repairClonedNode(c,[0,1]);var d=s.createMorphAt(c,0,1,o),h=s.createMorphAt(c,1,2,o);return u(i,d,r,"if",[l(i,r,"view.prompt")],{},e,null),u(i,h,r,"if",[l(i,r,"view.optionGroupPath")],{},t,n),c}}}();t["default"]=n(r)}),e("ember-htmlbars/utils/string",["htmlbars-util","ember-runtime/system/string","exports"],function(e,t,n){"use strict";function r(e){return null===e||void 0===e?"":("string"!=typeof e&&(e=""+e),new o(e))}var o=e.SafeString,s=e.escapeExpression,a=t["default"];a.htmlSafe=r,(i.EXTEND_PROTOTYPES===!0||i.EXTEND_PROTOTYPES.String)&&(String.prototype.htmlSafe=function(){return r(this)}),n.SafeString=o,n.htmlSafe=r,n.escapeExpression=s}),e("ember-metal-views",["ember-metal-views/renderer","exports"],function(e,t){"use strict";var n=e["default"];t.Renderer=n}),e("ember-metal-views/renderer",["morph","exports"],function(e,t){"use strict";function n(){this._uuid=0,this._views=new Array(2e3),this._queue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._parents=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._elements=new Array(17),this._inserts={},this._dom=new l}function r(e,t,n){var r=this._views;r[0]=e;var i=void 0===n?-1:n,o=0,s=1,a=t?t._level+1:0,l=null==t?e:t._root,u=!!l._morph,c=this._queue;c[0]=0;for(var d,h,f,p=1,m=-1,g=this._parents,v=t||null,b=this._elements,y=null,E=null,_=0,T=e;p;){if(b[_]=y,T._morph||(T._morph=null),T._root=l,this.uuid(T),T._level=a+_,T._elementCreated&&this.remove(T,!1,!0),this.willCreateElement(T),E=T._morph&&T._morph.contextualElement,!E&&v&&v._childViewsMorph&&(E=v._childViewsMorph.contextualElement),!E&&T._didCreateElementWithoutMorph&&(E=document.body),y=this.createElement(T,E),g[_++]=m,m=o,v=T,c[p++]=o,d=this.childViews(T))for(h=d.length-1;h>=0;h--)f=d[h],o=s++,r[o]=f,c[p++]=o,T=f;for(o=c[--p],T=r[o];m===o;){if(_--,T._elementCreated=!0,this.didCreateElement(T),u&&this.willInsertElement(T),0===_){p--;break}m=g[_],v=-1===m?t:r[m],this.insertElement(T,v,y,-1),o=c[--p],T=r[o],y=b[_],b[_]=null}}for(this.insertElement(T,t,y,i),h=s-1;h>=0;h--)u&&(r[h]._elementInserted=!0,this.didInsertElement(r[h])),r[h]=null;return y}function i(e,t,n){var r=this.uuid(e);if(this._inserts[r]&&(this.cancelRender(this._inserts[r]),this._inserts[r]=void 0),e._elementCreated){var i,o,s,a,l,u,c,d=[],h=[],f=e._morph;for(d.push(e),i=0;i<d.length;i++)if(s=d[i],a=!t&&s._childViewsMorph?d:h,this.beforeRemove(d[i]),l=s._childViews)for(u=0,c=l.length;c>u;u++)a.push(l[u]);for(i=0;i<h.length;i++)if(s=h[i],this.beforeRemove(h[i]),l=s._childViews)for(u=0,c=l.length;c>u;u++)h.push(l[u]);for(f&&!n&&f.destroy(),i=0,o=d.length;o>i;i++)this.afterRemove(d[i],!1);for(i=0,o=h.length;o>i;i++)this.afterRemove(h[i],!0);n&&(e._morph=f)}}function o(e,t,n,r){null!==n&&void 0!==n&&(e._morph?e._morph.setContent(n):t&&(e._morph=-1===r?t._childViewsMorph.append(n):t._childViewsMorph.insert(r,n)))}function s(e){e._elementCreated&&this.willDestroyElement(e),e._elementInserted&&this.willRemoveElement(e)}function a(e,t){e._elementInserted=!1,e._morph=null,e._childViewsMorph=null,e._elementCreated&&(e._elementCreated=!1,this.didDestroyElement(e)),t&&this.destroyView(e)}var l=e.DOMHelper;n.prototype.uuid=function(e){return void 0===e._uuid&&(e._uuid=++this._uuid,e._renderer=this),e._uuid},n.prototype.scheduleInsert=function(e,t){if(e._morph||e._elementCreated)throw new Error("You cannot insert a View that has already been rendered");e._morph=t;var n=this.uuid(e);this._inserts[n]=this.scheduleRender(this,function(){this._inserts[n]=null,this.renderTree(e)})},n.prototype.appendTo=function(e,t){var n=this._dom.appendMorph(t);this.scheduleInsert(e,n)},n.prototype.replaceIn=function(e,t){var n=this._dom.createMorph(t,null,null);this.scheduleInsert(e,n)},n.prototype.remove=i,n.prototype.destroy=function(e){this.remove(e,!0)},n.prototype.renderTree=r,n.prototype.insertElement=o,n.prototype.beforeRemove=s,n.prototype.afterRemove=a;var u=function(){};n.prototype.willCreateElement=u,n.prototype.createElement=u,n.prototype.didCreateElement=u,n.prototype.willInsertElement=u,n.prototype.didInsertElement=u,n.prototype.willRemoveElement=u,n.prototype.willDestroyElement=u,n.prototype.didDestroyElement=u,n.prototype.destroyView=u,n.prototype.childViews=u,t["default"]=n}),e("ember-metal",["ember-metal/core","ember-metal/merge","ember-metal/instrumentation","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/cache","ember-metal/platform","ember-metal/array","ember-metal/logger","ember-metal/property_get","ember-metal/events","ember-metal/observer_set","ember-metal/property_events","ember-metal/properties","ember-metal/property_set","ember-metal/map","ember-metal/get_properties","ember-metal/set_properties","ember-metal/watch_key","ember-metal/chains","ember-metal/watch_path","ember-metal/watching","ember-metal/expand_properties","ember-metal/computed","ember-metal/computed_macros","ember-metal/observer","ember-metal/mixin","ember-metal/binding","ember-metal/run_loop","ember-metal/libraries","ember-metal/is_none","ember-metal/is_empty","ember-metal/is_blank","ember-metal/is_present","ember-metal/keys","backburner","exports"],function(e,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y,E,_,T,C,O,I,D,R,w,x,k,S,K,N,A,P,L,M,F){"use strict";var B=e["default"],$=n["default"],j=r.instrument,H=r.reset,z=r.subscribe,V=r.unsubscribe,q=i.EMPTY_META,U=i.GUID_KEY,W=i.META_DESC,Y=i.apply,G=i.applyStr,X=i.canInvoke,Q=i.generateGuid,Z=i.getMeta,J=i.guidFor,ee=i.inspect,te=i.isArray,ne=i.makeArray,re=i.meta,ie=i.metaPath,oe=i.setMeta,se=i.tryCatchFinally,ae=i.tryFinally,le=i.tryInvoke,ue=i.typeOf,ce=i.uuid,de=i.wrap,he=o["default"],fe=s["default"],pe=a["default"],me=l.create,ge=l.hasPropertyAccessors,ve=u.filter,be=u.forEach,ye=u.indexOf,Ee=u.map,_e=c["default"],Te=d._getPath,Ce=d.get,Oe=d.getWithDefault,Ie=d.normalizeTuple,De=h.accumulateListeners,Re=h.addListener,we=h.hasListeners,xe=h.listenersFor,ke=h.on,Se=h.removeListener,Ke=h.sendEvent,Ne=h.suspendListener,Ae=h.suspendListeners,Pe=h.watchedEvents,Le=f["default"],Me=p.beginPropertyChanges,Fe=p.changeProperties,Be=p.endPropertyChanges,$e=p.overrideChains,je=p.propertyDidChange,He=p.propertyWillChange,ze=m.Descriptor,Ve=m.defineProperty,qe=g.set,Ue=g.trySet,We=v.Map,Ye=v.MapWithDefault,Ge=v.OrderedSet,Xe=b["default"],Qe=y["default"],Ze=E.watchKey,Je=E.unwatchKey,et=_.ChainNode,tt=_.finishChains,nt=_.flushPendingChains,rt=_.removeChainWatcher,it=T.watchPath,ot=T.unwatchPath,st=C.destroy,at=C.isWatching,lt=C.rewatch,ut=C.unwatch,ct=C.watch,dt=O["default"],ht=I.ComputedProperty,ft=I.computed,pt=I.cacheFor,mt=R._suspendBeforeObserver,gt=R._suspendBeforeObservers,vt=R._suspendObserver,bt=R._suspendObservers,yt=R.addBeforeObserver,Et=R.addObserver,_t=R.beforeObserversFor,Tt=R.observersFor,Ct=R.removeBeforeObserver,Ot=R.removeObserver,It=w.IS_BINDING,Dt=w.Mixin,Rt=w.aliasMethod,wt=w.beforeObserver,xt=w.immediateObserver,kt=w.mixin,St=w.observer,Kt=w.required,Nt=x.Binding,At=x.bind,Pt=x.isGlobalPath,Lt=x.oneWay,Mt=k["default"],Ft=S["default"],Bt=K["default"],$t=N["default"],jt=A["default"],Ht=P["default"],zt=L["default"],Vt=M["default"],qt=B.Instrumentation={};qt.instrument=j,qt.subscribe=z,qt.unsubscribe=V,qt.reset=H,B.instrument=j,B.subscribe=z,B._Cache=pe,B.generateGuid=Q,B.GUID_KEY=U,B.create=me,B.keys=zt,B.platform={defineProperty:Ve,hasPropertyAccessors:ge};var Ut=B.ArrayPolyfills={};Ut.map=Ee,Ut.forEach=be,Ut.filter=ve,Ut.indexOf=ye,B.Error=he,B.guidFor=J,B.META_DESC=W,B.EMPTY_META=q,B.meta=re,B.getMeta=Z,B.setMeta=oe,B.metaPath=ie,B.inspect=ee,B.typeOf=ue,B.tryCatchFinally=se,B.isArray=te,B.makeArray=ne,B.canInvoke=X,B.tryInvoke=le,B.tryFinally=ae,B.wrap=de,B.apply=Y,B.applyStr=G,B.uuid=ce,B.Logger=_e,B.get=Ce,B.getWithDefault=Oe,B.normalizeTuple=Ie,B._getPath=Te,B.EnumerableUtils=fe,B.on=ke,B.addListener=Re,B.removeListener=Se,B._suspendListener=Ne,B._suspendListeners=Ae,B.sendEvent=Ke,B.hasListeners=we,B.watchedEvents=Pe,B.listenersFor=xe,B.accumulateListeners=De,B._ObserverSet=Le,B.propertyWillChange=He,B.propertyDidChange=je,B.overrideChains=$e,B.beginPropertyChanges=Me,B.endPropertyChanges=Be,B.changeProperties=Fe,B.Descriptor=ze,B.defineProperty=Ve,B.set=qe,B.trySet=Ue,B.OrderedSet=Ge,B.Map=We,B.MapWithDefault=Ye,B.getProperties=Xe,B.setProperties=Qe,B.watchKey=Ze,B.unwatchKey=Je,B.flushPendingChains=nt,B.removeChainWatcher=rt,B._ChainNode=et,B.finishChains=tt,B.watchPath=it,B.unwatchPath=ot,B.watch=ct,B.isWatching=at,B.unwatch=ut,B.rewatch=lt,B.destroy=st,B.expandProperties=dt,B.ComputedProperty=ht,B.computed=ft,B.cacheFor=pt,B.addObserver=Et,B.observersFor=Tt,B.removeObserver=Ot,B.addBeforeObserver=yt,B._suspendBeforeObserver=mt,B._suspendBeforeObservers=gt,B._suspendObserver=vt,B._suspendObservers=bt,B.beforeObserversFor=_t,B.removeBeforeObserver=Ct,B.IS_BINDING=It,B.required=Kt,B.aliasMethod=Rt,B.observer=St,B.immediateObserver=xt,B.beforeObserver=wt,B.mixin=kt,B.Mixin=Dt,B.oneWay=Lt,B.bind=At,B.Binding=Nt,B.isGlobalPath=Pt,B.run=Mt,B.Backburner=Vt,B.libraries=new Ft,B.libraries.registerCoreLibrary("Ember",B.VERSION),B.isNone=Bt,B.isEmpty=$t,B.isBlank=jt,B.isPresent=Ht,B.merge=$,B.onerror=null,B.__loader.registry["ember-debug"]&&t("ember-debug"),F["default"]=B}),e("ember-metal/alias",["ember-metal/property_get","ember-metal/property_set","ember-metal/core","ember-metal/error","ember-metal/properties","ember-metal/computed","ember-metal/platform","ember-metal/utils","ember-metal/dependent_keys","exports"],function(e,t,n,r,i,o,s,a,l,u){"use strict";function c(e){this.altKey=e,this._dependentKeys=[e]}function d(e,t,n){throw new m('Cannot set read-only property "'+t+'" on object: '+_(e))}function h(e,t,n){return v(e,t,null),p(e,t,n)}var f=e.get,p=t.set,m=(n["default"],r["default"]),g=i.Descriptor,v=i.defineProperty,b=o.ComputedProperty,y=s.create,E=a.meta,_=a.inspect,T=l.addDependentKeys,C=l.removeDependentKeys;u["default"]=function(e){return new c(e)},u.AliasedProperty=c,c.prototype=y(g.prototype),c.prototype.get=function(e,t){return f(e,this.altKey)},c.prototype.set=function(e,t,n){return p(e,this.altKey,n)},c.prototype.willWatch=function(e,t){T(this,e,t,E(e))},c.prototype.didUnwatch=function(e,t){C(this,e,t,E(e))},c.prototype.setup=function(e,t){var n=E(e);n.watching[t]&&T(this,e,t,n)},c.prototype.teardown=function(e,t){var n=E(e);n.watching[t]&&C(this,e,t,n)},c.prototype.readOnly=function(){return this.set=d,this},c.prototype.oneWay=function(){return this.set=h,this},c.prototype._meta=void 0,c.prototype.meta=b.prototype.meta}),e("ember-metal/array",["exports"],function(e){"use strict";var t=Array.prototype,n=function(e){return e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1},r=function(e,t){return n(e)?e:t},o=r(t.map,function(e){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,r=new Array(n),i=arguments[1],o=0;n>o;o++)o in t&&(r[o]=e.call(i,t[o],o,t));return r}),s=r(t.forEach,function(e){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,r=arguments[1],i=0;n>i;i++)i in t&&e.call(r,t[i],i,t)}),a=r(t.indexOf,function(e,t){null===t||void 0===t?t=0:0>t&&(t=Math.max(0,this.length+t));for(var n=t,r=this.length;r>n;n++)if(this[n]===e)return n;return-1}),l=r(t.lastIndexOf,function(e,t){var n,r=this.length;for(t=void 0===t?r-1:0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=r),n=t;n>=0;n--)if(this[n]===e)return n;return-1}),u=r(t.filter,function(e,t){var n,r,i=[],o=this.length;for(n=0;o>n;n++)this.hasOwnProperty(n)&&(r=this[n],e.call(t,r,n,this)&&i.push(r));return i});i.SHIM_ES5&&(t.map=t.map||o,t.forEach=t.forEach||s,t.filter=t.filter||u,t.indexOf=t.indexOf||a,t.lastIndexOf=t.lastIndexOf||l),e.map=o,e.forEach=s,e.filter=u,e.indexOf=a,e.lastIndexOf=l}),e("ember-metal/binding",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/run_loop","ember-metal/path_cache","exports"],function(e,t,n,r,i,o,s,a){"use strict";function l(e,t){return p(_(t)?f.lookup:e,t)}function u(e,t){this._direction=void 0,this._from=t,this._to=e,this._readyToSync=void 0,this._oneWay=void 0}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function d(e,t,n){return new u(t,n).connect(e)}function h(e,t,n){return new u(t,n).oneWay().connect(e)}var f=e["default"],p=t.get,m=n.trySet,g=r.guidFor,v=i.addObserver,b=i.removeObserver,y=i._suspendObserver,E=o["default"],_=s.isGlobal;f.LOG_BINDINGS=!1||!!f.ENV.LOG_BINDINGS,u.prototype={copy:function(){var e=new u(this._to,this._from);return this._oneWay&&(e._oneWay=!0),e},from:function(e){return this._from=e,this},to:function(e){return this._to=e,this},oneWay:function(){return this._oneWay=!0,this},toString:function(){var e=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+g(this)+">("+this._from+" -> "+this._to+")"+e},connect:function(e){var t=this._from,n=this._to;return m(e,n,l(e,t)),v(e,t,this,this.fromDidChange),this._oneWay||v(e,n,this,this.toDidChange),this._readyToSync=!0,this},disconnect:function(e){var t=!this._oneWay;return b(e,this._from,this,this.fromDidChange),t&&b(e,this._to,this,this.toDidChange),this._readyToSync=!1,this},fromDidChange:function(e){this._scheduleSync(e,"fwd")},toDidChange:function(e){this._scheduleSync(e,"back")},_scheduleSync:function(e,t){var n=this._direction;void 0===n&&(E.schedule("sync",this,this._sync,e),this._direction=t),"back"===n&&"fwd"===t&&(this._direction="fwd")},_sync:function(e){var t=f.LOG_BINDINGS;if(!e.isDestroyed&&this._readyToSync){var n=this._direction,r=this._from,i=this._to;if(this._direction=void 0,"fwd"===n){var o=l(e,this._from);t&&f.Logger.log(" ",this.toString(),"->",o,e),this._oneWay?m(e,i,o):y(e,i,this,this.toDidChange,function(){m(e,i,o)})}else if("back"===n){var s=p(e,this._to);t&&f.Logger.log(" ",this.toString(),"<-",s,e),y(e,r,this,this.fromDidChange,function(){m(_(r)?f.lookup:e,r,s)})}}}},c(u,{from:function(e){var t=this;return new t(void 0,e)},to:function(e){var t=this;return new t(e,void 0)},oneWay:function(e,t){var n=this;return new n(void 0,e).oneWay(t)}}),a.bind=d,a.oneWay=h,a.Binding=u,a.isGlobalPath=_}),e("ember-metal/cache",["ember-metal/dictionary","exports"],function(e,t){"use strict";function n(e,t){this.store=r(null),this.size=0,this.misses=0,this.hits=0,this.limit=e,this.func=t}var r=e["default"];t["default"]=n;var i=function(){};n.prototype={set:function(e,t){return this.limit>this.size&&(this.size++,this.store[e]=void 0===t?i:t),t},get:function(e){var t=this.store[e];return void 0===t?(this.misses++,t=this.set(e,this.func(e))):t===i?(this.hits++,t=void 0):this.hits++,t},purge:function(){this.store=r(null),this.size=0,this.hits=0,this.misses=0}}}),e("ember-metal/chains",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/array","ember-metal/watch_key","exports"],function(e,t,n,r,i,o){"use strict";function s(e){return e.match(_)[0]}function a(){if(0!==T.length){var e=T;T=[],v.call(e,function(e){e[0].add(e[1])}),E("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",0===T.length)}}function l(e,t,n){if(e&&"object"==typeof e){var r=g(e),i=r.chainWatchers;r.hasOwnProperty("chainWatchers")||(i=r.chainWatchers={}),i[t]||(i[t]=[]),i[t].push(n),b(e,t,r)}}function u(e,t,n){if(e&&"object"==typeof e){var r=e.__ember_meta__;if(!r||r.hasOwnProperty("chainWatchers")){var i=r&&r.chainWatchers;if(i&&i[t]){i=i[t];for(var o=0,s=i.length;s>o;o++)if(i[o]===n){i.splice(o,1);break}}y(e,t,r)}}}function c(e,t,n){this._parent=e,this._key=t,this._watching=void 0===n,this._value=n,this._paths={},this._watching&&(this._object=e.value(),this._object&&l(this._object,this._key,this)),this._parent&&"@each"===this._parent._key&&this.value()}function d(e,t){if(!e)return void 0;var n=e.__ember_meta__;if(n&&n.proto===e)return void 0;if("@each"===t)return p(e,t);var r=n&&n.descs[t];return r&&r._cacheable?t in n.cache?n.cache[t]:void 0:p(e,t)}function h(e){var t,n,r,i=e.__ember_meta__;if(i){if(n=i.chainWatchers)for(var o in n)if(n.hasOwnProperty(o)&&(r=n[o]))for(var s=0,a=r.length;a>s;s++)r[s].didChange(null);t=i.chains,t&&t.value()!==e&&(g(e).chains=t=t.copy(e))}}var f=e["default"],p=t.get,m=t.normalizeTuple,g=n.meta,v=r.forEach,b=i.watchKey,y=i.unwatchKey,E=f.warn,_=/^([^\.]+)/,T=[];o.flushPendingChains=a;var C=c.prototype;C.value=function(){if(void 0===this._value&&this._watching){var e=this._parent.value();this._value=d(e,this._key)}return this._value},C.destroy=function(){if(this._watching){var e=this._object;e&&u(e,this._key,this),this._watching=!1}},C.copy=function(e){var t,n=new c(null,null,e),r=this._paths;for(t in r)r[t]<=0||n.add(t);return n},C.add=function(e){var t,n,r,i,o;if(o=this._paths,o[e]=(o[e]||0)+1,t=this.value(),n=m(t,e),n[0]&&n[0]===t)e=n[1],r=s(e),e=e.slice(r.length+1);else{if(!n[0])return T.push([this,e]),void(n.length=0);i=n[0],r=e.slice(0,0-(n[1].length+1)),e=n[1]}n.length=0,this.chain(r,e,i)},C.remove=function(e){var t,n,r,i,o;o=this._paths,o[e]>0&&o[e]--,t=this.value(),n=m(t,e),n[0]===t?(e=n[1],r=s(e),e=e.slice(r.length+1)):(i=n[0],r=e.slice(0,0-(n[1].length+1)),e=n[1]),n.length=0,this.unchain(r,e)},C.count=0,C.chain=function(e,t,n){var r,i=this._chains;i||(i=this._chains={}),r=i[e],r||(r=i[e]=new c(this,e,n)),r.count++,t&&(e=s(t),t=t.slice(e.length+1),r.chain(e,t))},C.unchain=function(e,t){var n=this._chains,r=n[e];if(t&&t.length>1){var i=s(t),o=t.slice(i.length+1);r.unchain(i,o)}r.count--,r.count<=0&&(delete n[r._key],r.destroy())},C.willChange=function(e){var t=this._chains;if(t)for(var n in t)t.hasOwnProperty(n)&&t[n].willChange(e);this._parent&&this._parent.chainWillChange(this,this._key,1,e)},C.chainWillChange=function(e,t,n,r){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainWillChange(this,t,n+1,r):(n>1&&r.push(this.value(),t),t="this."+t,this._paths[t]>0&&r.push(this.value(),t))},C.chainDidChange=function(e,t,n,r){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainDidChange(this,t,n+1,r):(n>1&&r.push(this.value(),t),t="this."+t,this._paths[t]>0&&r.push(this.value(),t))},C.didChange=function(e){if(this._watching){var t=this._parent.value();t!==this._object&&(u(this._object,this._key,this),this._object=t,l(t,this._key,this)),this._value=void 0,this._parent&&"@each"===this._parent._key&&this.value()}var n=this._chains;if(n)for(var r in n)n.hasOwnProperty(r)&&n[r].didChange(e);null!==e&&this._parent&&this._parent.chainDidChange(this,this._key,1,e)},o.finishChains=h,o.removeChainWatcher=u,o.ChainNode=c}),e("ember-metal/computed",["ember-metal/property_set","ember-metal/utils","ember-metal/expand_properties","ember-metal/error","ember-metal/properties","ember-metal/property_events","ember-metal/dependent_keys","exports"],function(e,t,n,r,i,o,s,a){"use strict";function l(){}function u(e,t){e.__ember_arity__=e.length,this.func=e,this._dependentKeys=void 0,this._suspended=void 0,this._meta=void 0,this._cacheable=t&&void 0!==t.cacheable?t.cacheable:!0,this._dependentKeys=t&&t.dependentKeys,this._readOnly=t&&(void 0!==t.readOnly||!!t.readOnly)||!1}function c(e){for(var t=0,n=e.length;n>t;t++)e[t].didChange(null)}function d(e){var t;if(arguments.length>1&&(t=I.call(arguments),e=t.pop()),"function"!=typeof e)throw new v("Computed Property declared without a property function");var n=new u(e);return t&&n.property.apply(n,t),n}function h(e,t){var n=e.__ember_meta__,r=n&&n.cache,i=r&&r[t];return i===l?void 0:i}var f=e.set,p=t.meta,m=t.inspect,g=n["default"],v=r["default"],b=i.Descriptor,y=i.defineProperty,E=o.propertyWillChange,_=o.propertyDidChange,T=s.addDependentKeys,C=s.removeDependentKeys,O=p,I=[].slice;u.prototype=new b;var D=u.prototype;D.cacheable=function(e){return this._cacheable=e!==!1,this},D["volatile"]=function(){return this._cacheable=!1,this},D.readOnly=function(e){return this._readOnly=void 0===e||!!e,this},D.property=function(){var e,t=function(t){e.push(t)};e=[];for(var n=0,r=arguments.length;r>n;n++)g(arguments[n],t);return this._dependentKeys=e,this},D.meta=function(e){return 0===arguments.length?this._meta||{}:(this._meta=e,this)},D.didChange=function(e,t){if(this._cacheable&&this._suspended!==e){var n=O(e);void 0!==n.cache[t]&&(n.cache[t]=void 0,C(this,e,t,n))}},D.get=function(e,t){var n,r,i,o;if(this._cacheable){i=O(e),r=i.cache;var s=r[t];if(s===l)return void 0;if(void 0!==s)return s;n=this.func.call(e,t),r[t]=void 0===n?l:n,o=i.chainWatchers&&i.chainWatchers[t],o&&c(o),T(this,e,t,i)}else n=this.func.call(e,t);return n},D.set=function(e,t,n){var r=this._suspended;this._suspended=e;try{this._set(e,t,n)}finally{this._suspended=r}},D._set=function(e,t,n){var r,i,o,s=this._cacheable,a=this.func,u=O(e,s),c=u.cache,d=!1;if(this._readOnly)throw new v('Cannot set read-only property "'+t+'" on object: '+m(e));if(s&&void 0!==c[t]&&(c[t]!==l&&(i=c[t]),d=!0),r=a.wrappedFunction?a.wrappedFunction.__ember_arity__:a.__ember_arity__,3===r)o=a.call(e,t,n,i);else{if(2!==r)return y(e,t,null,i),void f(e,t,n);o=a.call(e,t,n)}if(!d||i!==o){var h=u.watching[t];return h&&E(e,t),d&&(c[t]=void 0),s&&(d||T(this,e,t,u),c[t]=void 0===o?l:o),h&&_(e,t),o}},D.teardown=function(e,t){var n=O(e);return t in n.cache&&C(this,e,t,n),this._cacheable&&delete n.cache[t],null},h.set=function(e,t,n){e[t]=void 0===n?l:n},h.get=function(e,t){var n=e[t];return n===l?void 0:n},h.remove=function(e,t){e[t]=void 0},a.ComputedProperty=u,a.computed=d,a.cacheFor=h}),e("ember-metal/computed_macros",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/is_empty","ember-metal/is_none","ember-metal/alias"],function(e,t,n,r,i,o,s){"use strict";function a(e,t){for(var n={},r=0;r<t.length;r++)n[t[r]]=d(e,t[r]);return n}function l(e,t){f[e]=function(e){var n=v.call(arguments);return f(e,function(){return t.apply(this,n)})}}function u(e,t){f[e]=function(){var e=v.call(arguments),n=f(function(){return t.apply(this,[a(this,e)])});return n.property.apply(n,e)}}var c=e["default"],d=t.get,h=n.set,f=r.computed,p=i["default"],m=o["default"],g=s["default"],v=[].slice;f.empty=function(e){return f(e+".length",function(){return p(d(this,e))})},f.notEmpty=function(e){return f(e+".length",function(){return!p(d(this,e))})},l("none",function(e){return m(d(this,e))}),l("not",function(e){return!d(this,e)}),l("bool",function(e){return!!d(this,e)}),l("match",function(e,t){var n=d(this,e);return"string"==typeof n?t.test(n):!1}),l("equal",function(e,t){return d(this,e)===t}),l("gt",function(e,t){return d(this,e)>t}),l("gte",function(e,t){return d(this,e)>=t}),l("lt",function(e,t){return d(this,e)<t}),l("lte",function(e,t){return d(this,e)<=t}),u("and",function(e){for(var t in e)if(e.hasOwnProperty(t)&&!e[t])return!1;return!0}),u("or",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0;return!1}),u("any",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return e[t];return null}),u("collect",function(e){var t=c.A();for(var n in e)e.hasOwnProperty(n)&&t.push(m(e[n])?null:e[n]);return t}),f.alias=g,f.oneWay=function(e){return g(e).oneWay()},f.reads=f.oneWay,f.readOnly=function(e){return g(e).readOnly()},f.defaultTo=function(e){return f(function(t,n,r){return 1===arguments.length?d(this,e):null!=n?n:d(this,e)})},f.deprecatingAlias=function(e){return f(e,function(t,n){return arguments.length>1?(h(this,e,n),n):d(this,e)})}}),e("ember-metal/core",["exports"],function(e){"use strict";function t(){return this}"undefined"==typeof i&&(i={}),i.imports=i.imports||this,i.lookup=i.lookup||this;var n=i.exports=i.exports||this;n.Em=n.Ember=i,i.isNamespace=!0,i.toString=function(){return"Ember"},i.VERSION="1.10.0",i.ENV||(i.ENV="undefined"!=typeof EmberENV?EmberENV:"undefined"!=typeof ENV?ENV:{}),i.config=i.config||{},"undefined"==typeof i.ENV.DISABLE_RANGE_API&&(i.ENV.DISABLE_RANGE_API=!0),"undefined"==typeof MetamorphENV&&(n.MetamorphENV={}),MetamorphENV.DISABLE_RANGE_API=i.ENV.DISABLE_RANGE_API,i.FEATURES=i.ENV.FEATURES||{},i.FEATURES.isEnabled=function(e){var t=i.FEATURES[e];return i.ENV.ENABLE_ALL_FEATURES?!0:t===!0||t===!1||void 0===t?t:i.ENV.ENABLE_OPTIONAL_FEATURES?!0:!1},i.EXTEND_PROTOTYPES=i.ENV.EXTEND_PROTOTYPES,"undefined"==typeof i.EXTEND_PROTOTYPES&&(i.EXTEND_PROTOTYPES=!0),i.LOG_STACKTRACE_ON_DEPRECATION=i.ENV.LOG_STACKTRACE_ON_DEPRECATION!==!1,i.SHIM_ES5=i.ENV.SHIM_ES5===!1?!1:i.EXTEND_PROTOTYPES,i.LOG_VERSION=i.ENV.LOG_VERSION===!1?!1:!0,e.K=t,i.K=t,"undefined"==typeof i.assert&&(i.assert=t),"undefined"==typeof i.warn&&(i.warn=t),"undefined"==typeof i.debug&&(i.debug=t),"undefined"==typeof i.runInDebug&&(i.runInDebug=t),"undefined"==typeof i.deprecate&&(i.deprecate=t),"undefined"==typeof i.deprecateFunc&&(i.deprecateFunc=function(e,t){return t}),e["default"]=i}),e("ember-metal/dependent_keys",["ember-metal/platform","ember-metal/watching","exports"],function(e,t,n){function r(e,t){var n=e[t];return n?e.hasOwnProperty(t)||(n=e[t]=a(n)):n=e[t]={},n}function i(e){return r(e,"deps")}function o(e,t,n,o){var s,a,u,c,d,h=e._dependentKeys;if(h)for(s=i(o),a=0,u=h.length;u>a;a++)c=h[a],d=r(s,c),d[n]=(d[n]||0)+1,l(t,c,o)}function s(e,t,n,o){var s,a,l,c,d,h=e._dependentKeys;if(h)for(s=i(o),a=0,l=h.length;l>a;a++)c=h[a],d=r(s,c),d[n]=(d[n]||0)-1,u(t,c,o)}var a=e.create,l=t.watch,u=t.unwatch;n.addDependentKeys=o,n.removeDependentKeys=s}),e("ember-metal/deprecate_property",["ember-metal/core","ember-metal/platform","ember-metal/properties","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,n,r,i,o){"use strict";function s(e,t,n){function r(){}a&&l(e,t,{configurable:!0,enumerable:!1,set:function(e){r(),c(this,n,e)},get:function(){return r(),u(this,n)}})}var a=(e["default"],t.hasPropertyAccessors),l=n.defineProperty,u=r.get,c=i.set;o.deprecateProperty=s}),e("ember-metal/dictionary",["ember-metal/platform","exports"],function(e,t){"use strict";var n=e.create;t["default"]=function(e){var t=n(e);return t._dict=null,delete t._dict,t}}),e("ember-metal/enumerable_utils",["ember-metal/array","exports"],function(e,t){"use strict";function n(e,t,n){return e.map?e.map(t,n):m.call(e,t,n)}function r(e,t,n){return e.forEach?e.forEach(t,n):f.call(e,t,n)}function i(e,t,n){return e.filter?e.filter(t,n):h.call(e,t,n)}function o(e,t,n){return e.indexOf?e.indexOf(t,n):p.call(e,t,n)}function s(e,t){return void 0===t?[]:n(t,function(t){return o(e,t)})}function a(e,t){var n=o(e,t);-1===n&&e.push(t)}function l(e,t){var n=o(e,t);-1!==n&&e.splice(n,1)}function u(e,t,n,r){for(var i,o,s=[].concat(r),a=[],l=6e4,u=t,c=n;s.length;)i=c>l?l:c,0>=i&&(i=0),o=s.splice(0,l),o=[u,i].concat(o),u+=l,c-=i,a=a.concat(g.apply(e,o));return a}function c(e,t,n,r){return e.replace?e.replace(t,n,r):u(e,t,n,r)}function d(e,t){var n=[];return r(e,function(e){o(t,e)>=0&&n.push(e)}),n}var h=e.filter,f=e.forEach,p=e.indexOf,m=e.map,g=Array.prototype.splice;t.map=n,t.forEach=r,t.filter=i,t.indexOf=o,t.indexesOf=s,t.addObject=a,t.removeObject=l,t._replace=u,t.replace=c,t.intersection=d,t["default"]={_replace:u,addObject:a,filter:i,forEach:r,indexOf:o,indexesOf:s,intersection:d,map:n,removeObject:l,replace:c}}),e("ember-metal/error",["ember-metal/platform","exports"],function(e,t){"use strict";function n(){var e=Error.apply(this,arguments);Error.captureStackTrace&&Error.captureStackTrace(this,i.Error);for(var t=0;t<o.length;t++)this[o[t]]=e[o[t]]}var r=e.create,o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=r(Error.prototype),t["default"]=n}),e("ember-metal/events",["ember-metal/core","ember-metal/utils","ember-metal/platform","exports"],function(e,t,n,r){function i(e,t,n){for(var r=-1,i=e.length-3;i>=0;i-=3)if(t===e[i]&&n===e[i+1]){r=i;break}return r}function o(e,t){var n,r=v(e,!0),i=r.listeners;return i?i.__source__!==e&&(i=r.listeners=_(i),i.__source__=e):(i=r.listeners=_(null),i.__source__=e),n=i[t],n&&n.__source__!==e?(n=i[t]=i[t].slice(),n.__source__=e):n||(n=i[t]=[],n.__source__=e),n}function s(e,t,n){var r=e.__ember_meta__,o=r&&r.listeners&&r.listeners[t];if(o){for(var s=[],a=o.length-3;a>=0;a-=3){var l=o[a],u=o[a+1],c=o[a+2],d=i(n,l,u);-1===d&&(n.push(l,u,c),s.push(l,u,c))}return s}}function a(e,t,n,r,s){r||"function"!=typeof n||(r=n,n=null);var a=o(e,t),l=i(a,n,r),u=0;s&&(u|=C),-1===l&&(a.push(n,r,u),"function"==typeof e.didAddListener&&e.didAddListener(t,n,r))}function l(e,t,n,r){function s(n,r){var s=o(e,t),a=i(s,n,r);-1!==a&&(s.splice(a,3),"function"==typeof e.didRemoveListener&&e.didRemoveListener(t,n,r))}if(r||"function"!=typeof n||(r=n,n=null),r)s(n,r);else{var a=e.__ember_meta__,l=a&&a.listeners&&a.listeners[t];if(!l)return;for(var u=l.length-3;u>=0;u-=3)s(l[u],l[u+1])}}function u(e,t,n,r,s){function a(){return s.call(n)}function l(){-1!==c&&(u[c+2]&=~O)}r||"function"!=typeof n||(r=n,n=null);var u=o(e,t),c=i(u,n,r);return-1!==c&&(u[c+2]|=O),b(a,l)}function c(e,t,n,r,s){function a(){return s.call(n)}function l(){for(var e=0,t=f.length;t>e;e++){var n=f[e];p[e][n+2]&=~O}}r||"function"!=typeof n||(r=n,n=null);var u,c,d,h,f=[],p=[];for(d=0,h=t.length;h>d;d++){u=t[d],c=o(e,u);var m=i(c,n,r);-1!==m&&(c[m+2]|=O,f.push(m),p.push(c))}return b(a,l)}function d(e){var t=e.__ember_meta__.listeners,n=[];if(t)for(var r in t)"__source__"!==r&&t[r]&&n.push(r);return n}function h(e,t,n,r){if(e!==g&&"function"==typeof e.sendEvent&&e.sendEvent(t,n),!r){var i=e.__ember_meta__;r=i&&i.listeners&&i.listeners[t]}if(r){for(var o=r.length-3;o>=0;o-=3){var s=r[o],a=r[o+1],u=r[o+2];a&&(u&O||(u&C&&l(e,t,s,a),s||(s=e),"string"==typeof a?n?E(s,a,n):s[a]():n?y(s,a,n):a.call(s)))}return!0}}function f(e,t){var n=e.__ember_meta__,r=n&&n.listeners&&n.listeners[t];return!(!r||!r.length)}function p(e,t){var n=[],r=e.__ember_meta__,i=r&&r.listeners&&r.listeners[t];if(!i)return n;for(var o=0,s=i.length;s>o;o+=3){var a=i[o],l=i[o+1];n.push([a,l])}return n}function m(){var e=T.call(arguments,-1)[0],t=T.call(arguments,0,-1);return e.__ember_listens__=t,e}var g=e["default"],v=t.meta,b=t.tryFinally,y=t.apply,E=t.applyStr,_=n.create,T=[].slice,C=1,O=2;r.accumulateListeners=s,r.addListener=a,r.suspendListener=u,r.suspendListeners=c,r.watchedEvents=d,r.sendEvent=h,r.hasListeners=f,r.listenersFor=p,r.on=m,r.removeListener=l}),e("ember-metal/expand_properties",["ember-metal/core","ember-metal/error","ember-metal/enumerable_utils","exports"],function(e,t,n,r){"use strict";function i(e,t){if("string"===s.typeOf(e)){var n=e.split(u),r=[n];l(n,function(e,t){e.indexOf(",")>=0&&(r=o(r,e.split(","),t))}),l(r,function(e){t(e.join(""))})}else t(e)}function o(e,t,n){var r=[];return l(e,function(e){l(t,function(t){var i=e.slice(0);i[n]=t,r.push(i)})}),r}var s=e["default"],a=t["default"],l=n.forEach,u=/\{|\}/;r["default"]=function(e,t){if(e.indexOf(" ")>-1)throw new a("Brace expanded properties cannot contain spaces, e.g. `user.{firstName, lastName}` should be `user.{firstName,lastName}`");return i(e,t)}}),e("ember-metal/get_properties",["ember-metal/property_get","ember-metal/utils","exports"],function(e,t,n){"use strict";var r=e.get,i=t.typeOf;n["default"]=function(e){var t={},n=arguments,o=1;2===arguments.length&&"array"===i(arguments[1])&&(o=0,n=arguments[1]);for(var s=n.length;s>o;o++)t[n[o]]=r(e,n[o]);return t}}),e("ember-metal/injected_property",["ember-metal/core","ember-metal/computed","ember-metal/alias","ember-metal/properties","ember-metal/platform","ember-metal/utils","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e,t){this.type=e,this.name=t,this._super$Constructor(l),g.oneWay.call(this)}function l(e){var t=f(this).descs[e];return this.container.lookup(t.type+":"+(t.name||e))}var u=(e["default"],t.ComputedProperty),c=n.AliasedProperty,d=r.Descriptor,h=i.create,f=o.meta;a.prototype=h(d.prototype);var p=a.prototype,m=u.prototype,g=c.prototype;p._super$Constructor=u,p.get=m.get,p.readOnly=m.readOnly,p.teardown=m.teardown,s["default"]=a}),e("ember-metal/instrumentation",["ember-metal/core","ember-metal/utils","exports"],function(e,t,n){"use strict";function r(e,t,n,r){if(arguments.length<=3&&"function"==typeof t&&(r=n,n=t,t=void 0),0===c.length)return n.call(r);

var o=t||{},s=i(e,function(){return o});if(s){var a=function(){return n.call(r)},l=function(e){o.exception=e};return u(a,l,s)}return n.call(r)}function i(e,t){var n=d[e];if(n||(n=h(e)),0!==n.length){var r,i=t(),o=l.STRUCTURED_PROFILE;o&&(r=e+": "+i.object,console.time(r));var s,a,u=n.length,c=new Array(u),p=f();for(s=0;u>s;s++)a=n[s],c[s]=a.before(e,p,i);return function(){var t,s,a,l=f();for(t=0,s=n.length;s>t;t++)a=n[t],a.after(e,l,i,c[t]);o&&console.timeEnd(r)}}}function o(e,t){for(var n,r=e.split("."),i=[],o=0,s=r.length;s>o;o++)n=r[o],i.push("*"===n?"[^\\.]*":n);i=i.join("\\."),i+="(\\..*)?";var a={pattern:e,regex:new RegExp("^"+i+"$"),object:t};return c.push(a),d={},a}function s(e){for(var t,n=0,r=c.length;r>n;n++)c[n]===e&&(t=n);c.splice(t,1),d={}}function a(){c.length=0,d={}}var l=e["default"],u=t.tryCatchFinally,c=[];n.subscribers=c;var d={},h=function(e){for(var t,n=[],r=0,i=c.length;i>r;r++)t=c[r],t.regex.test(e)&&n.push(t.object);return d[e]=n,n},f=function(){var e="undefined"!=typeof window?window.performance||{}:{},t=e.now||e.mozNow||e.webkitNow||e.msNow||e.oNow;return t?t.bind(e):function(){return+new Date}}();n.instrument=r,n._instrumentStart=i,n.subscribe=o,n.unsubscribe=s,n.reset=a}),e("ember-metal/is_blank",["ember-metal/is_empty","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e){return n(e)||"string"==typeof e&&null===e.match(/\S/)}}),e("ember-metal/is_empty",["ember-metal/property_get","ember-metal/is_none","exports"],function(e,t,n){"use strict";function r(e){var t=o(e);if(t)return t;if("number"==typeof e.size)return!e.size;var n=typeof e;if("object"===n){var r=i(e,"size");if("number"==typeof r)return!r}if("number"==typeof e.length&&"function"!==n)return!e.length;if("object"===n){var s=i(e,"length");if("number"==typeof s)return!s}return!1}var i=e.get,o=t["default"];n["default"]=r}),e("ember-metal/is_none",["exports"],function(e){"use strict";function t(e){return null===e||void 0===e}e["default"]=t}),e("ember-metal/is_present",["ember-metal/is_blank","exports"],function(e,t){"use strict";var n,r=e["default"];n=function(e){return!r(e)},t["default"]=n}),e("ember-metal/keys",["ember-metal/platform","exports"],function(e,t){"use strict";var n=e.canDefineNonEnumerableProperties,r=Object.keys;r&&n||(r=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,a=[];for(o in i)"_super"!==o&&0!==o.lastIndexOf("__",0)&&e.call(i,o)&&a.push(o);if(t)for(s=0;r>s;s++)e.call(i,n[s])&&a.push(n[s]);return a}}()),t["default"]=r}),e("ember-metal/libraries",["ember-metal/core","ember-metal/enumerable_utils","exports"],function(e,t,n){"use strict";function r(){this._registry=[],this._coreLibIndex=0}var i=(e["default"],t.forEach),o=t.indexOf;r.prototype={constructor:r,_getLibraryByName:function(e){for(var t=this._registry,n=t.length,r=0;n>r;r++)if(t[r].name===e)return t[r]},register:function(e,t,n){var r=this._registry.length;this._getLibraryByName(e)||(n&&(r=this._coreLibIndex++),this._registry.splice(r,0,{name:e,version:t}))},registerCoreLibrary:function(e,t){this.register(e,t,!0)},deRegister:function(e){var t,n=this._getLibraryByName(e);n&&(t=o(this._registry,n),this._registry.splice(t,1))},each:function(e){i(this._registry,function(t){e(t.name,t.version)})}},n["default"]=r}),e("ember-metal/logger",["ember-metal/core","ember-metal/error","exports"],function(e,t,n){"use strict";function r(){return this}function i(e){var t,n;s.imports.console?t=s.imports.console:"undefined"!=typeof console&&(t=console);var r="object"==typeof t?t[e]:null;return r?"function"==typeof r.bind?(n=r.bind(t),n.displayName="console."+e,n):"function"==typeof r.apply?(n=function(){r.apply(t,arguments)},n.displayName="console."+e,n):function(){var e=Array.prototype.join.call(arguments,", ");r(e)}:void 0}function o(e,t){if(!e)try{throw new a("assertion failed: "+t)}catch(n){setTimeout(function(){throw n},0)}}var s=e["default"],a=t["default"];n["default"]={log:i("log")||r,warn:i("warn")||r,error:i("error")||r,info:i("info")||r,debug:i("debug")||i("info")||r,assert:i("assert")||o}}),e("ember-metal/map",["ember-metal/utils","ember-metal/array","ember-metal/platform","ember-metal/deprecate_property","exports"],function(e,t,n,r,o){"use strict";function s(e){throw new TypeError(""+Object.prototype.toString.call(e)+" is not a function")}function a(e){throw new TypeError("Constructor "+e+"requires 'new'")}function l(e){var t=m(null);for(var n in e)t[n]=e[n];return t}function u(e,t){var n=e.keys.copy(),r=l(e.values);return t.keys=n,t.values=r,t.size=e.size,t}function c(){this instanceof c?(this.clear(),this._silenceRemoveDeprecation=!1):a("OrderedSet")}function d(){this instanceof this.constructor?(this.keys=c.create(),this.keys._silenceRemoveDeprecation=!0,this.values=m(null),this.size=0):a("OrderedSet")}function h(e){this._super$constructor(),this.defaultValue=e.defaultValue}var f=e.guidFor,p=t.indexOf,m=n.create,g=r.deprecateProperty;c.create=function(){var e=this;return new e},c.prototype={constructor:c,clear:function(){this.presenceSet=m(null),this.list=[],this.size=0},add:function(e,t){var n=t||f(e),r=this.presenceSet,i=this.list;return r[n]!==!0?(r[n]=!0,this.size=i.push(e),this):void 0},remove:function(e,t){return this["delete"](e,t)},"delete":function(e,t){var n=t||f(e),r=this.presenceSet,i=this.list;if(r[n]===!0){delete r[n];var o=p.call(i,e);return o>-1&&i.splice(o,1),this.size=i.length,!0}return!1},isEmpty:function(){return 0===this.size},has:function(e){if(0===this.size)return!1;var t=f(e),n=this.presenceSet;return n[t]===!0},forEach:function(e){if("function"!=typeof e&&s(e),0!==this.size){var t,n=this.list,r=arguments.length;if(2===r)for(t=0;t<n.length;t++)e.call(arguments[1],n[t]);else for(t=0;t<n.length;t++)e(n[t])}},toArray:function(){return this.list.slice()},copy:function(){var e=this.constructor,t=new e;return t._silenceRemoveDeprecation=this._silenceRemoveDeprecation,t.presenceSet=l(this.presenceSet),t.list=this.toArray(),t.size=this.size,t}},g(c.prototype,"length","size"),i.Map=d,d.create=function(){var e=this;return new e},d.prototype={constructor:d,size:0,get:function(e){if(0!==this.size){var t=this.values,n=f(e);return t[n]}},set:function(e,t){var n=this.keys,r=this.values,i=f(e),o=e===-0?0:e;return n.add(o,i),r[i]=t,this.size=n.size,this},remove:function(e){return this["delete"](e)},"delete":function(e){if(0===this.size)return!1;var t=this.keys,n=this.values,r=f(e);return t["delete"](e,r)?(delete n[r],this.size=t.size,!0):!1},has:function(e){return this.keys.has(e)},forEach:function(e){if("function"!=typeof e&&s(e),0!==this.size){var t,n,r=arguments.length,i=this;2===r?(n=arguments[1],t=function(t){e.call(n,i.get(t),t,i)}):t=function(t){e(i.get(t),t,i)},this.keys.forEach(t)}},clear:function(){this.keys.clear(),this.values=m(null),this.size=0},copy:function(){return u(this,new d)}},g(d.prototype,"length","size"),h.create=function(e){return e?new h(e):new d},h.prototype=m(d.prototype),h.prototype.constructor=h,h.prototype._super$constructor=d,h.prototype._super$get=d.prototype.get,h.prototype.get=function(e){var t=this.has(e);if(t)return this._super$get(e);var n=this.defaultValue(e);return this.set(e,n),n},h.prototype.copy=function(){var e=this.constructor;return u(this,new e({defaultValue:this.defaultValue}))},o["default"]=d,o.OrderedSet=c,o.Map=d,o.MapWithDefault=h}),e("ember-metal/merge",["ember-metal/keys","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){if(!t||"object"!=typeof t)return e;for(var r,i=n(t),o=i.length,s=0;o>s;s++)r=i[s],e[r]=t[r];return e}}),e("ember-metal/mixin",["ember-metal/core","ember-metal/merge","ember-metal/array","ember-metal/platform","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/expand_properties","ember-metal/properties","ember-metal/computed","ember-metal/binding","ember-metal/observer","ember-metal/events","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p){function m(){var e,t=this.__nextSuper;if(t){var n=arguments.length;return this.__nextSuper=null,e=0===n?t.call(this):1===n?t.call(this,arguments[0]):2===n?t.call(this,arguments[0],arguments[1]):t.apply(this,arguments),this.__nextSuper=t,e}}function g(e){var t=ee(e,!0),n=t.mixins;return n?t.hasOwnProperty("mixins")||(n=t.mixins=G(n)):n=t.mixins={},n}function v(e){return"function"==typeof e&&e.isMethod!==!1&&e!==Boolean&&e!==Object&&e!==Number&&e!==Array&&e!==Date&&e!==String}function b(e,t){var n;return t instanceof P?(n=J(t),e[n]?be:(e[n]=t,t.properties)):t}function y(e,t,n,r){var i;return i=n[e]||r[e],t[e]&&(i=i?i.concat(t[e]):t[e]),i}function E(e,t,n,r,i){var o;return void 0===r[t]&&(o=i[t]),o=o||e.descs[t],void 0!==o&&o instanceof se?(n=G(n),n.func=te(n.func,o.func),n):n}function _(e,t,n,r,i){var o;if(void 0===i[t]&&(o=r[t]),o=o||e[t],void 0===o||"function"!=typeof o)return n;var s;return ye&&(s=n.__hasSuper,void 0===s&&(s=n.toString().indexOf("_super")>-1,n.__hasSuper=s)),ye===!1||s?te(n,o):n}function T(e,t,n,r){var i=r[t]||e[t];return i?"function"==typeof i.concat?null===n||void 0===n?i:i.concat(n):ne(i).concat(n):ne(n)}function C(e,t,n,r){var i=r[t]||e[t];if(!i)return n;var o=U({},i),s=!1;for(var a in n)if(n.hasOwnProperty(a)){var l=n[a];v(l)?(s=!0,o[a]=_(e,a,l,i,{})):o[a]=l}return s&&(o._super=m),o}function O(e,t,n,r,i,o,s,a){if(n instanceof ie){if(n===V&&i[t])return be;n.func&&(n=E(r,t,n,o,i)),i[t]=n,o[t]=void 0}else s&&W.call(s,t)>=0||"concatenatedProperties"===t||"mergedProperties"===t?n=T(e,t,n,o):a&&W.call(a,t)>=0?n=C(e,t,n,o):v(n)&&(n=_(e,t,n,o,i)),i[t]=void 0,o[t]=n}function I(e,t,n,r,i,o){function s(e){delete n[e],delete r[e]}for(var a,l,u,c,d,h,f=0,p=e.length;p>f;f++)if(a=e[f],l=b(t,a),l!==be)if(l){h=ee(i),i.willMergeMixin&&i.willMergeMixin(l),c=y("concatenatedProperties",l,r,i),d=y("mergedProperties",l,r,i);for(u in l)l.hasOwnProperty(u)&&(o.push(u),O(i,u,l[u],h,n,r,c,d));l.hasOwnProperty("toString")&&(i.toString=l.toString)}else a.mixins&&(I(a.mixins,t,n,r,i,o),a._without&&Y.call(a._without,s))}function D(e,t,n,r){if(Ee.test(t)){var i=r.bindings;i?r.hasOwnProperty("bindings")||(i=r.bindings=G(r.bindings)):i=r.bindings={},i[t]=n}}function R(e,t,n){var r=function(n){he(e,t,null,i,function(){Z(e,t,n.value())})},i=function(){n.setValue(X(e,t),r)};Q(e,t,n.value()),le(e,t,null,i),n.subscribe(r),void 0===e._streamBindingSubscriptions&&(e._streamBindingSubscriptions=G(null)),e._streamBindingSubscriptions[t]=r}function w(e,t){var n,r,i,o=t.bindings;if(o){for(n in o)if(r=o[n]){if(i=n.slice(0,-7),me(r)){R(e,i,r);continue}r instanceof ae?(r=r.copy(),r.to(i)):r=new ae(i,r),r.connect(e),e[n]=r}t.bindings={}}}function x(e,t){return w(e,t||ee(e)),e}function k(e,t,n,r,i){var o,s=t.methodName;return r[s]||i[s]?(o=i[s],t=r[s]):n.descs[s]?(t=n.descs[s],o=void 0):(t=void 0,o=e[s]),{desc:t,value:o}}function S(e,t,n,r,i){var o=n[r];if(o)for(var s=0,a=o.length;a>s;s++)i(e,o[s],null,t)}function K(e,t,n){var r=e[t];"function"==typeof r&&(S(e,t,r,"__ember_observesBefore__",de),S(e,t,r,"__ember_observes__",ue),S(e,t,r,"__ember_listens__",pe)),"function"==typeof n&&(S(e,t,n,"__ember_observesBefore__",ce),S(e,t,n,"__ember_observes__",le),S(e,t,n,"__ember_listens__",fe))}function N(e,t,n){var r,i,o,s={},a={},l=ee(e),u=[];e._super=m,I(t,g(e),s,a,e,u);for(var c=0,d=u.length;d>c;c++)if(r=u[c],"constructor"!==r&&a.hasOwnProperty(r)&&(o=s[r],i=a[r],o!==V)){for(;o&&o instanceof B;){var h=k(e,o,l,s,a);o=h.desc,i=h.value}(void 0!==o||void 0!==i)&&(K(e,r,i),D(e,r,i,l),oe(e,r,o,i,l))}return n||x(e,l),e}function A(e){var t=ge.call(arguments,1);return N(e,t,!1),e}function P(e,t){this.properties=t;var n=e&&e.length;if(n>0){for(var r=new Array(n),i=0;n>i;i++){var o=e[i];r[i]=o instanceof P?o:new P(void 0,o)}this.mixins=r}else this.mixins=void 0;this.ownerConstructor=void 0}function L(e,t,n){var r=J(e);if(n[r])return!1;if(n[r]=!0,e===t)return!0;for(var i=e.mixins,o=i?i.length:0;--o>=0;)if(L(i[o],t,n))return!0;return!1}function M(e,t,n){if(!n[J(t)])if(n[J(t)]=!0,t.properties){var r=t.properties;for(var i in r)r.hasOwnProperty(i)&&(e[i]=!0)}else t.mixins&&Y.call(t.mixins,function(t){M(e,t,n)})}function F(){return V}function B(e){this.methodName=e}function $(e){return new B(e)}function j(){var e,t=ge.call(arguments,-1)[0],n=function(t){e.push(t)},r=ge.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],r=ge.call(arguments,1)),e=[];for(var i=0;i<r.length;++i)re(r[i],n);if("function"!=typeof t)throw new q.Error("Ember.observer called without a function");return t.__ember_observes__=e,t}function H(){for(var e=0,t=arguments.length;t>e;e++){arguments[e]}return j.apply(this,arguments)}function z(){var e,t=ge.call(arguments,-1)[0],n=function(t){e.push(t)},r=ge.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],r=ge.call(arguments,1)),e=[];for(var i=0;i<r.length;++i)re(r[i],n);if("function"!=typeof t)throw new q.Error("Ember.beforeObserver called without a function");return t.__ember_observesBefore__=e,t}var V,q=e["default"],U=t["default"],W=n.indexOf,Y=n.forEach,G=r.create,X=i.get,Q=o.set,Z=o.trySet,J=s.guidFor,ee=s.meta,te=s.wrap,ne=s.makeArray,re=(s.isArray,a["default"]),ie=l.Descriptor,oe=l.defineProperty,se=u.ComputedProperty,ae=c.Binding,le=d.addObserver,ue=d.removeObserver,ce=d.addBeforeObserver,de=d.removeBeforeObserver,he=d._suspendObserver,fe=h.addListener,pe=h.removeListener,me=f.isStream,ge=[].slice,ve={__nextSuper:function(e,t,n,r){}};m.call(ve),m.call(ve,1),m.call(ve,1,2),m.call(ve,1,2,3);var be={},ye=function(){return this}.toString().indexOf("return this;")>-1,Ee=/^.+Binding$/;p.mixin=A,p["default"]=P,P._apply=N,P.applyPartial=function(e){var t=ge.call(arguments,1);return N(e,t,!0)},P.finishPartial=x,q.anyUnprocessedMixins=!1,P.create=function(){q.anyUnprocessedMixins=!0;for(var e=this,t=arguments.length,n=new Array(t),r=0;t>r;r++)n[r]=arguments[r];return new e(n,void 0)};var _e=P.prototype;_e.reopen=function(){var e;this.properties?(e=new P(void 0,this.properties),this.properties=void 0,this.mixins=[e]):this.mixins||(this.mixins=[]);var t,n=arguments.length,r=this.mixins;for(t=0;n>t;t++)e=arguments[t],r.push(e instanceof P?e:new P(void 0,e));return this},_e.apply=function(e){return N(e,[this],!1)},_e.applyPartial=function(e){return N(e,[this],!0)},_e.detect=function(e){if(!e)return!1;if(e instanceof P)return L(e,this,{});var t=e.__ember_meta__,n=t&&t.mixins;return n?!!n[J(this)]:!1},_e.without=function(){var e=new P([this]);return e._without=ge.call(arguments),e},_e.keys=function(){var e={},t={},n=[];M(e,this,t);for(var r in e)e.hasOwnProperty(r)&&n.push(r);return n},P.mixins=function(e){var t=e.__ember_meta__,n=t&&t.mixins,r=[];if(!n)return r;for(var i in n){var o=n[i];o.properties||r.push(o)}return r},V=new ie,V.toString=function(){return"(Required Property)"},p.required=F,B.prototype=new ie,p.aliasMethod=$,p.observer=j,p.immediateObserver=H,p.beforeObserver=z,p.IS_BINDING=Ee,p.Mixin=P}),e("ember-metal/observer",["ember-metal/watching","ember-metal/array","ember-metal/events","exports"],function(e,t,n,r){"use strict";function i(e){return e+O}function o(e){return e+I}function s(e,t,n,r){return E(e,i(t),n,r),g(e,t),this}function a(e,t){return y(e,i(t))}function l(e,t,n,r){return v(e,t),_(e,i(t),n,r),this}function u(e,t,n,r){return E(e,o(t),n,r),g(e,t),this}function c(e,t,n,r,i){return C(e,o(t),n,r,i)}function d(e,t,n,r,o){return C(e,i(t),n,r,o)}function h(e,t,n,r,i){var s=b.call(t,o);return T(e,s,n,r,i)}function f(e,t,n,r,o){var s=b.call(t,i);return T(e,s,n,r,o)}function p(e,t){return y(e,o(t))}function m(e,t,n,r){return v(e,t),_(e,o(t),n,r),this}var g=e.watch,v=e.unwatch,b=t.map,y=n.listenersFor,E=n.addListener,_=n.removeListener,T=n.suspendListeners,C=n.suspendListener,O=":change",I=":before";r.addObserver=s,r.observersFor=a,r.removeObserver=l,r.addBeforeObserver=u,r._suspendBeforeObserver=c,r._suspendObserver=d,r._suspendBeforeObservers=h,r._suspendObservers=f,r.beforeObserversFor=p,r.removeBeforeObserver=m}),e("ember-metal/observer_set",["ember-metal/utils","ember-metal/events","exports"],function(e,t,n){"use strict";function r(){this.clear()}var i=e.guidFor,o=t.sendEvent;n["default"]=r,r.prototype.add=function(e,t,n){var r,o=this.observerSet,s=this.observers,a=i(e),l=o[a];return l||(o[a]=l={}),r=l[t],void 0===r&&(r=s.push({sender:e,keyName:t,eventName:n,listeners:[]})-1,l[t]=r),s[r].listeners},r.prototype.flush=function(){var e,t,n,r,i=this.observers;for(this.clear(),e=0,t=i.length;t>e;++e)n=i[e],r=n.sender,r.isDestroying||r.isDestroyed||o(r,n.eventName,[r,n.keyName],n.listeners)},r.prototype.clear=function(){this.observerSet={},this.observers=[]}}),e("ember-metal/path_cache",["ember-metal/cache","exports"],function(e,t){"use strict";function n(e){return h.get(e)}function r(e){return f.get(e)}function i(e){return p.get(e)}function o(e){return-1!==m.get(e)}function s(e){return g.get(e)}function a(e){return v.get(e)}var l=e["default"],u=/^([A-Z$]|([0-9][A-Z$]))/,c=/^([A-Z$]|([0-9][A-Z$])).*[\.]/,d="this.",h=new l(1e3,function(e){return u.test(e)}),f=new l(1e3,function(e){return c.test(e)}),p=new l(1e3,function(e){return 0===e.lastIndexOf(d,0)}),m=new l(1e3,function(e){return e.indexOf(".")}),g=new l(1e3,function(e){var t=m.get(e);return-1===t?e:e.slice(0,t)}),v=new l(1e3,function(e){var t=m.get(e);return-1!==t?e.slice(t+1):void 0}),b={isGlobalCache:h,isGlobalPathCache:f,hasThisCache:p,firstDotIndexCache:m,firstKeyCache:g,tailPathCache:v};t.caches=b,t.isGlobal=n,t.isGlobalPath=r,t.hasThis=i,t.isPath=o,t.getFirstKey=s,t.getTailPath=a}),e("ember-metal/platform",["ember-metal/platform/define_property","ember-metal/platform/define_properties","ember-metal/platform/create","exports"],function(e,t,n,r){"use strict";var i=e.hasES5CompliantDefineProperty,o=e.defineProperty,s=t["default"],a=n["default"],l=i,u=i;r.create=a,r.defineProperty=o,r.defineProperties=s,r.hasPropertyAccessors=l,r.canDefineNonEnumerableProperties=u}),e("ember-metal/platform/create",["ember-metal/platform/define_properties","exports"],function(e,t){var n,r=e["default"];if(!Object.create||Object.create(null).hasOwnProperty){var i,o=!({__proto__:null}instanceof Object);i=o||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function e(){}var t=document.createElement("iframe"),n=document.body||document.documentElement;t.style.display="none",n.appendChild(t),t.src="javascript:";var r=t.contentWindow.Object.prototype;return n.removeChild(t),t=null,delete r.constructor,delete r.hasOwnProperty,delete r.propertyIsEnumerable,delete r.isPrototypeOf,delete r.toLocaleString,delete r.toString,delete r.valueOf,e.prototype=r,i=function(){return new e},new e},n=Object.create=function(e,t){function n(){}var o;if(null===e)o=i();else{if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object or null");n.prototype=e,o=new n}return void 0!==t&&r(o,t),o}}else n=Object.create;t["default"]=n}),e("ember-metal/platform/define_properties",["ember-metal/platform/define_property","exports"],function(e,t){"use strict";var n=e.defineProperty,r=Object.defineProperties;r||(r=function(e,t){for(var r in t)t.hasOwnProperty(r)&&"__proto__"!==r&&n(e,r,t[r]);return e},Object.defineProperties=r),t["default"]=r}),e("ember-metal/platform/define_property",["exports"],function(e){"use strict";var t=function(e){if(e)try{var t=5,n={};if(e(n,"a",{configurable:!0,enumerable:!0,get:function(){return t},set:function(e){t=e}}),5!==n.a)return;if(n.a=10,10!==t)return;e(n,"a",{configurable:!0,enumerable:!1,writable:!0,value:!0});for(var r in n)if("a"===r)return;if(n.a!==!0)return;if(e(n,"a",{enumerable:!1}),n.a!==!0)return;return e}catch(i){return}}(Object.defineProperty),n=!!t;if(n&&"undefined"!=typeof document){var r=function(){try{return t(document.createElement("div"),"definePropertyOnDOM",{}),!0}catch(e){}return!1}();r||(t=function(e,t,n){var r;return r="object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,r?e[t]=n.value:Object.defineProperty(e,t,n)})}n||(t=function(e,t,n){n.get||(e[t]=n.value)}),e.hasES5CompliantDefineProperty=n,e.defineProperty=t}),e("ember-metal/properties",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/property_events","exports"],function(e,t,n,r,i){"use strict";function o(){}function s(e){return function(e){}}function a(e){return function(){var t=this.__ember_meta__;return t&&t.values[e]}}function l(e,t,n,r,i){var s,a,l,h;i||(i=u(e)),s=i.descs,a=i.descs[t];var f=i.watching[t];return l=void 0!==f&&f>0,a instanceof o&&a.teardown(e,t),n instanceof o?(h=n,s[t]=n,e[t]=void 0,n.setup&&n.setup(e,t)):(s[t]=void 0,null==n?(h=r,e[t]=r):(h=n,c(e,t,n))),l&&d(e,t,i),e.didDefineProperty&&e.didDefineProperty(e,t,h),this}var u=(e["default"],t.meta),c=n.defineProperty,d=(n.hasPropertyAccessors,r.overrideChains);i.Descriptor=o,i.MANDATORY_SETTER_FUNCTION=s,i.DEFAULT_GETTER_FUNCTION=a,i.defineProperty=l}),e("ember-metal/property_events",["ember-metal/utils","ember-metal/events","ember-metal/observer_set","exports"],function(e,t,n,r){"use strict";function i(e,t){var n=e.__ember_meta__,r=n&&n.watching[t]>0||"length"===t,i=n&&n.proto,o=n&&n.descs[t];r&&i!==e&&(o&&o.willChange&&o.willChange(e,t),s(e,t,n),c(e,t,n),g(e,t))}function o(e,t){var n=e.__ember_meta__,r=n&&n.watching[t]>0||"length"===t,i=n&&n.proto,o=n&&n.descs[t];i!==e&&(o&&o.didChange&&o.didChange(e,t),(r||"length"===t)&&(n&&n.deps&&n.deps[t]&&a(e,t,n),d(e,t,n,!1),v(e,t)))}function s(e,t,n){if(!e.isDestroying){var r;if(n&&n.deps&&(r=n.deps[t])){var o=b,s=!o;s&&(o=b={}),u(i,e,r,t,o,n),s&&(b=null)}}}function a(e,t,n){if(!e.isDestroying){var r;if(n&&n.deps&&(r=n.deps[t])){var i=y,s=!i;s&&(i=y={}),u(o,e,r,t,i,n),s&&(y=null)}}}function l(e){var t=[];for(var n in e)t.push(n);return t}function u(e,t,n,r,i,o){var s,a,u,c,d=E(t),h=i[d];if(h||(h=i[d]={}),!h[r]&&(h[r]=!0,n)){s=l(n);var f=o.descs;for(u=0;u<s.length;u++)a=s[u],c=f[a],c&&c._suspended===t||e(t,a)}}function c(e,t,n){if(n.hasOwnProperty("chainWatchers")&&n.chainWatchers[t]){var r,o,s=n.chainWatchers[t],a=[];for(r=0,o=s.length;o>r;r++)s[r].willChange(a);for(r=0,o=a.length;o>r;r+=2)i(a[r],a[r+1])}}function d(e,t,n,r){if(n&&n.hasOwnProperty("chainWatchers")&&n.chainWatchers[t]){var i,s,a=n.chainWatchers[t],l=r?null:[];for(i=0,s=a.length;s>i;i++)a[i].didChange(l);if(!r)for(i=0,s=l.length;s>i;i+=2)o(l[i],l[i+1])}}function h(e,t,n){d(e,t,n,!0)}function f(){R++}function p(){R--,0>=R&&(I.clear(),D.flush())}function m(e,t){f(),_(e,p,t)}function g(e,t){if(!e.isDestroying){var n,r,i=t+":before";R?(n=I.add(e,t,i),r=C(e,i,n),T(e,i,[e,t],r)):T(e,i,[e,t])}}function v(e,t){if(!e.isDestroying){var n,r=t+":change";R?(n=D.add(e,t,r),C(e,r,n)):T(e,r,[e,t])}}var b,y,E=e.guidFor,_=e.tryFinally,T=t.sendEvent,C=t.accumulateListeners,O=n["default"],I=new O,D=new O,R=0;r.propertyWillChange=i,r.propertyDidChange=o,r.overrideChains=h,r.beginPropertyChanges=f,r.endPropertyChanges=p,r.changeProperties=m}),e("ember-metal/property_get",["ember-metal/core","ember-metal/error","ember-metal/path_cache","ember-metal/platform","exports"],function(e,t,n,r,i){"use strict";function o(e,t){var n,r=h(t),i=!r&&c(t);if((!e||i)&&(e=l.lookup),r&&(t=t.slice(5)),e===l.lookup&&(n=t.match(f)[0],e=p(e,n),t=t.slice(n.length+1)),!t||0===t.length)throw new u("Path cannot be empty");return[e,t]}function s(e,t){var n,r,i,s,a;if(null===e&&!d(t))return p(l.lookup,t);for(n=h(t),(!e||n)&&(i=o(e,t),e=i[0],t=i[1],i.length=0),r=t.split("."),a=r.length,s=0;null!=e&&a>s;s++)if(e=p(e,r[s],!0),e&&e.isDestroyed)return void 0;return e}function a(e,t,n){var r=p(e,t);return void 0===r?n:r}var l=e["default"],u=t["default"],c=n.isGlobalPath,d=n.isPath,h=n.hasThis,f=(r.hasPropertyAccessors,/^([^\.]+)/),p=function(e,t){if(""===t)return e;if(t||"string"!=typeof e||(t=e,e=null),null===e){var n=s(e,t);return n}var r,i=e.__ember_meta__,o=i&&i.descs[t];return void 0===o&&d(t)?s(e,t):o?o.get(e,t):(r=e[t],void 0!==r||"object"!=typeof e||t in e||"function"!=typeof e.unknownProperty?r:e.unknownProperty(t))};i.getWithDefault=a,i["default"]=p,i.get=p,i.normalizeTuple=o,i._getPath=s}),e("ember-metal/property_set",["ember-metal/core","ember-metal/property_get","ember-metal/property_events","ember-metal/properties","ember-metal/error","ember-metal/path_cache","ember-metal/platform","exports"],function(e,t,n,r,i,o,s,a){"use strict";function l(e,t,n,r){var i;if(i=t.slice(t.lastIndexOf(".")+1),t=t===i?i:t.slice(0,t.length-(i.length+1)),"this"!==t&&(e=c(e,t)),!i||0===i.length)throw new f("Property set failed: You passed an empty path");if(!e){if(r)return;throw new f('Property set failed: object in path "'+t+'" could not be found or was destroyed.')}return m(e,i,n)}function u(e,t,n){return m(e,t,n,!0)}var c=(e["default"],t._getPath),d=n.propertyWillChange,h=n.propertyDidChange,f=(r.defineProperty,i["default"]),p=o.isPath,m=(s.hasPropertyAccessors,function(e,t,n,r){if("string"==typeof e&&(n=t,t=e,e=null),!e)return l(e,t,n,r);var i,o,s=e.__ember_meta__,a=s&&s.descs[t];if(void 0===a&&p(t))return l(e,t,n,r);if(void 0!==a)a.set(e,t,n);else{if("object"==typeof e&&null!==e&&void 0!==n&&e[t]===n)return n;i="object"==typeof e&&!(t in e),i&&"function"==typeof e.setUnknownProperty?e.setUnknownProperty(t,n):s&&s.watching[t]>0?(s.proto!==e&&(o=e[t]),n!==o&&(d(e,t),e[t]=n,h(e,t))):e[t]=n}return n});a.trySet=u,a.set=m}),e("ember-metal/run_loop",["ember-metal/core","ember-metal/utils","ember-metal/array","ember-metal/property_events","backburner","exports"],function(e,t,n,r,i,o){"use strict";function s(e){l.currentRunLoop=e}function a(e,t){l.currentRunLoop=t}function l(){return v.run.apply(v,arguments)}function u(){!l.currentRunLoop}var c=e["default"],d=t.apply,h=t.GUID_KEY,f=n.indexOf,p=r.beginPropertyChanges,m=r.endPropertyChanges,g=i["default"],v=new g(["sync","actions","destroy"],{GUID_KEY:h,sync:{before:p,after:m},defaultQueue:"actions",onBegin:s,onEnd:a,onErrorTarget:c,onErrorMethod:"onerror"}),b=[].slice;o["default"]=l,l.join=function(){return v.join.apply(v,arguments)},l.bind=function(e,t){var n=b.call(arguments);return function(){return l.join.apply(l,n.concat(b.call(arguments)))}},l.backburner=v,l.currentRunLoop=null,l.queues=v.queueNames,l.begin=function(){v.begin()},l.end=function(){v.end()},l.schedule=function(e,t,n){u(),v.schedule.apply(v,arguments)},l.hasScheduledTimers=function(){return v.hasTimers()},l.cancelTimers=function(){v.cancelTimers()},l.sync=function(){v.currentInstance&&v.currentInstance.queues.sync.flush()},l.later=function(){return v.later.apply(v,arguments)},l.once=function(){u();var e=arguments.length,t=new Array(e);t[0]="actions";for(var n=0;e>n;n++)t[n+1]=arguments[n];return d(v,v.scheduleOnce,t)},l.scheduleOnce=function(){return u(),v.scheduleOnce.apply(v,arguments)},l.next=function(){var e=b.call(arguments);return e.push(1),d(v,v.later,e)},l.cancel=function(e){return v.cancel(e)},l.debounce=function(){return v.debounce.apply(v,arguments)},l.throttle=function(){return v.throttle.apply(v,arguments)},l._addQueue=function(e,t){-1===f.call(l.queues,e)&&l.queues.splice(f.call(l.queues,t)+1,0,e)}}),e("ember-metal/set_properties",["ember-metal/property_events","ember-metal/property_set","ember-metal/keys","exports"],function(e,t,n,r){"use strict";var i=e.changeProperties,o=t.set,s=n["default"];r["default"]=function(e,t){return t&&"object"==typeof t?(i(function(){for(var n,r=s(t),i=0,a=r.length;a>i;i++)n=r[i],o(e,n,t[n])}),e):e}}),e("ember-metal/streams/simple",["ember-metal/merge","ember-metal/streams/stream","ember-metal/platform","ember-metal/streams/utils","exports"],function(e,t,n,r,i){"use strict";function o(e){this.init(),this.source=e,c(e)&&e.subscribe(this._didChange,this)}var s=e["default"],a=t["default"],l=n.create,u=r.read,c=r.isStream;o.prototype=l(a.prototype),s(o.prototype,{valueFn:function(){return u(this.source)},setValue:function(e){var t=this.source;c(t)&&t.setValue(e)},setSource:function(e){var t=this.source;e!==t&&(c(t)&&t.unsubscribe(this._didChange,this),c(e)&&e.subscribe(this._didChange,this),this.source=e,this.notify())},_didChange:function(){this.notify()},_super$destroy:a.prototype.destroy,destroy:function(){return this._super$destroy()?(c(this.source)&&this.source.unsubscribe(this._didChange,this),this.source=void 0,!0):void 0}}),i["default"]=o}),e("ember-metal/streams/stream",["ember-metal/platform","ember-metal/path_cache","exports"],function(e,t,n){"use strict";function r(e){this.init(),this.valueFn=e}var i=e.create,o=t.getFirstKey,s=t.getTailPath;r.prototype={isStream:!0,init:function(){this.state="dirty",this.cache=void 0,this.subscribers=void 0,this.children=void 0,this._label=void 0},get:function(e){var t=o(e),n=s(e);void 0===this.children&&(this.children=i(null));var r=this.children[t];return void 0===r&&(r=this._makeChildStream(t,e),this.children[t]=r),void 0===n?r:r.get(n)},value:function(){return"clean"===this.state?this.cache:"dirty"===this.state?(this.state="clean",this.cache=this.valueFn()):void 0},valueFn:function(){throw new Error("Stream error: valueFn not implemented")},setValue:function(){throw new Error("Stream error: setValue not implemented")},notify:function(){this.notifyExcept()},notifyExcept:function(e,t){"clean"===this.state&&(this.state="dirty",this._notifySubscribers(e,t))},subscribe:function(e,t){void 0===this.subscribers?this.subscribers=[e,t]:this.subscribers.push(e,t)},unsubscribe:function(e,t){var n=this.subscribers;if(void 0!==n)for(var r=0,i=n.length;i>r;r+=2)if(n[r]===e&&n[r+1]===t)return void n.splice(r,2)},_notifySubscribers:function(e,t){var n=this.subscribers;if(void 0!==n)for(var r=0,i=n.length;i>r;r+=2){var o=n[r],s=n[r+1];(o!==e||s!==t)&&(void 0===s?o(this):o.call(s,this))}},destroy:function(){if("destroyed"!==this.state){this.state="destroyed";var e=this.children;for(var t in e)e[t].destroy();return!0}},isGlobal:function(){for(var e=this;void 0!==e;){if(e._isRoot)return e._isGlobal;e=e.source}}},n["default"]=r}),e("ember-metal/streams/stream_binding",["ember-metal/platform","ember-metal/merge","ember-metal/run_loop","ember-metal/streams/stream","exports"],function(e,t,n,r,i){"use strict";function o(e){this.init(),this.stream=e,this.senderCallback=void 0,this.senderContext=void 0,this.senderValue=void 0,e.subscribe(this._onNotify,this)}var s=e.create,a=t["default"],l=n["default"],u=r["default"];o.prototype=s(u.prototype),a(o.prototype,{valueFn:function(){return this.stream.value()},_onNotify:function(){this._scheduleSync(void 0,void 0,this)},setValue:function(e,t,n){this._scheduleSync(e,t,n)},_scheduleSync:function(e,t,n){void 0===this.senderCallback&&void 0===this.senderContext?(this.senderCallback=t,this.senderContext=n,this.senderValue=e,l.schedule("sync",this,this._sync)):this.senderContext!==this&&(this.senderCallback=t,this.senderContext=n,this.senderValue=e)},_sync:function(){if("destroyed"!==this.state){this.senderContext!==this&&this.stream.setValue(this.senderValue);var e=this.senderCallback,t=this.senderContext;this.senderCallback=void 0,this.senderContext=void 0,this.senderValue=void 0,this.state="clean",this.notifyExcept(e,t)}},_super$destroy:u.prototype.destroy,destroy:function(){return this._super$destroy()?(this.stream.unsubscribe(this._onNotify,this),!0):void 0}}),i["default"]=o}),e("ember-metal/streams/utils",["./stream","exports"],function(e,t){"use strict";function n(e){return e&&e.isStream}function r(e,t,n){e&&e.isStream&&e.subscribe(t,n)}function i(e,t,n){e&&e.isStream&&e.unsubscribe(t,n)}function o(e){return e&&e.isStream?e.value():e}function s(e){for(var t=e.length,n=new Array(t),r=0;t>r;r++)n[r]=o(e[r]);return n}function a(e){var t={};for(var n in e)t[n]=o(e[n]);return t}function l(e){for(var t=e.length,r=!1,i=0;t>i;i++)if(n(e[i])){r=!0;break}return r}function u(e){var t=!1;for(var r in e)if(n(e[r])){
t=!0;break}return t}function c(e,t){var n=l(e);if(n){var i,o,a=new h(function(){return s(e).join(t)});for(i=0,o=e.length;o>i;i++)r(e[i],a.notify,a);return a}return e.join(t)}function d(e,t){if(n(e)){var i=new h(t);return r(e,i.notify,i),i}return t()}var h=e["default"];t.isStream=n,t.subscribe=r,t.unsubscribe=i,t.read=o,t.readArray=s,t.readHash=a,t.scanArray=l,t.scanHash=u,t.concat=c,t.chain=d}),e("ember-metal/utils",["ember-metal/core","ember-metal/platform","ember-metal/array","exports"],function(e,t,n,r){function i(){return++R}function o(e){var t={};t[e]=1;for(var n in t)if(n===e)return n;return e}function s(e,t){t||(t=w);var n=t+i();return e&&(null===e[S]?e[S]=n:(K.value=n,C(e,S,K))),n}function a(e){if(void 0===e)return"(undefined)";if(null===e)return"(null)";var t,n=typeof e;switch(n){case"number":return t=x[e],t||(t=x[e]="nu"+e),t;case"string":return t=k[e],t||(t=k[e]="st"+i()),t;case"boolean":return e?"(true)":"(false)";default:return e[S]?e[S]:e===Object?"(Object)":e===Array?"(Array)":(t=w+i(),null===e[S]?e[S]=t:(K.value=t,C(e,S,K)),t)}}function l(e){this.descs={},this.watching={},this.cache={},this.cacheMeta={},this.source=e,this.deps=void 0,this.listeners=void 0,this.mixins=void 0,this.bindings=void 0,this.chains=void 0,this.values=void 0,this.proto=void 0}function u(e,t){var n=e.__ember_meta__;return t===!1?n||A:(n?n.source!==e&&(O&&C(e,"__ember_meta__",N),n=I(n),n.descs=I(n.descs),n.watching=I(n.watching),n.cache={},n.cacheMeta={},n.source=e,e.__ember_meta__=n):(O&&C(e,"__ember_meta__",N),n=new l(e),e.__ember_meta__=n,n.descs.constructor=null),n)}function c(e,t){var n=u(e,!1);return n[t]}function d(e,t,n){var r=u(e,!0);return r[t]=n,n}function h(e,t,n){for(var r,i,o=u(e,n),s=0,a=t.length;a>s;s++){if(r=t[s],i=o[r]){if(i.__ember_source__!==e){if(!n)return void 0;i=o[r]=I(i),i.__ember_source__=e}}else{if(!n)return void 0;i=o[r]={__ember_source__:e}}o=i}return i}function f(e,t){function n(){var n,r=this&&this.__nextSuper,i=arguments.length;if(this&&(this.__nextSuper=t),0===i)n=e.call(this);else if(1===i)n=e.call(this,arguments[0]);else if(2===i)n=e.call(this,arguments[0],arguments[1]);else{for(var o=new Array(i),s=0;i>s;s++)o[s]=arguments[s];n=E(this,e,o)}return this&&(this.__nextSuper=r),n}return n.wrappedFunction=e,n.wrappedFunction.__ember_arity__=e.length,n.__ember_observes__=e.__ember_observes__,n.__ember_observesBefore__=e.__ember_observesBefore__,n.__ember_listens__=e.__ember_listens__,n}function p(e){var t,n;return"undefined"==typeof P&&(t="ember-runtime/mixins/array",T.__loader.registry[t]&&(P=T.__loader.require(t)["default"])),!e||e.setInterval?!1:Array.isArray&&Array.isArray(e)?!0:P&&P.detect(e)?!0:(n=b(e),"array"===n?!0:void 0!==e.length&&"object"===n?!0:!1)}function m(e){return null===e||void 0===e?[]:p(e)?e:[e]}function g(e,t){return!(!e||"function"!=typeof e[t])}function v(e,t,n){return g(e,t)?n?_(e,t,n):_(e,t):void 0}function b(e){var t,n;return"undefined"==typeof j&&(n="ember-runtime/system/object",T.__loader.registry[n]&&(j=T.__loader.require(n)["default"])),t=null===e||void 0===e?String(e):B[H.call(e)]||"object","function"===t?j&&j.detect(e)&&(t="class"):"object"===t&&(e instanceof Error?t="error":j&&e instanceof j?t="instance":e instanceof Date&&(t="date")),t}function y(e){var t=b(e);if("array"===t)return"["+e+"]";if("object"!==t)return e+"";var n,r=[];for(var i in e)if(e.hasOwnProperty(i)){if(n=e[i],"toString"===n)continue;"function"===b(n)&&(n="function() { ... }"),r.push(n&&"function"!=typeof n.toString?i+": "+H.call(n):i+": "+n)}return"{"+r.join(", ")+"}"}function E(e,t,n){var r=n&&n.length;if(!n||!r)return t.call(e);switch(r){case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function _(e,t,n){var r=n&&n.length;if(!n||!r)return e[t]();switch(r){case 1:return e[t](n[0]);case 2:return e[t](n[0],n[1]);case 3:return e[t](n[0],n[1],n[2]);case 4:return e[t](n[0],n[1],n[2],n[3]);case 5:return e[t](n[0],n[1],n[2],n[3],n[4]);default:return e[t].apply(e,n)}}var T=e["default"],C=t.defineProperty,O=t.canDefineNonEnumerableProperties,I=(t.hasPropertyAccessors,t.create),D=n.forEach,R=0;r.uuid=i;var w="ember",x=[],k={},S=o("__ember"+ +new Date),K={writable:!1,configurable:!1,enumerable:!1,value:null};r.generateGuid=s,r.guidFor=a;var N={writable:!0,configurable:!1,enumerable:!1,value:null};l.prototype={chainWatchers:null},O||(l.prototype.__preventPlainObject__=!0,l.prototype.toJSON=function(){});var A=new l(null);r.getMeta=c,r.setMeta=d,r.metaPath=h,r.wrap=f;var P;r.makeArray=m,r.tryInvoke=v;var L,M=function(){var e=0;try{try{}finally{throw e++,new Error("needsFinallyFixTest")}}catch(t){}return 1!==e}();L=M?function(e,t,n){var r,i,o;n=n||this;try{r=e.call(n)}finally{try{i=t.call(n)}catch(s){o=s}}if(o)throw o;return void 0===i?r:i}:function(e,t,n){var r,i;n=n||this;try{r=e.call(n)}finally{i=t.call(n)}return void 0===i?r:i};var F;F=M?function(e,t,n,r){var i,o,s;r=r||this;try{i=e.call(r)}catch(a){i=t.call(r,a)}finally{try{o=n.call(r)}catch(l){s=l}}if(s)throw s;return void 0===o?i:o}:function(e,t,n,r){var i,o;r=r||this;try{i=e.call(r)}catch(s){i=t.call(r,s)}finally{o=n.call(r)}return void 0===o?i:o};var B={},$="Boolean Number String Function Array Date RegExp Object".split(" ");D.call($,function(e){B["[object "+e+"]"]=e.toLowerCase()});var j,H=Object.prototype.toString;r.inspect=y,r.apply=E,r.applyStr=_,r.GUID_KEY=S,r.META_DESC=N,r.EMPTY_META=A,r.meta=u,r.typeOf=b,r.tryCatchFinally=F,r.isArray=p,r.canInvoke=g,r.tryFinally=L}),e("ember-metal/watch_key",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/properties","exports"],function(e,t,n,r,i){"use strict";function o(e,t,n){if("length"!==t||"array"!==l(e)){var r=n||a(e),i=r.watching;if(i[t])i[t]=(i[t]||0)+1;else{i[t]=1;var o=r.descs[t];o&&o.willWatch&&o.willWatch(e,t),"function"==typeof e.willWatchProperty&&e.willWatchProperty(t)}}}function s(e,t,n){var r=n||a(e),i=r.watching;if(1===i[t]){i[t]=0;var o=r.descs[t];o&&o.didUnwatch&&o.didUnwatch(e,t),"function"==typeof e.didUnwatchProperty&&e.didUnwatchProperty(t)}else i[t]>1&&i[t]--}{var a=(e["default"],t.meta),l=t.typeOf;n.defineProperty,n.hasPropertyAccessors,r.MANDATORY_SETTER_FUNCTION,r.DEFAULT_GETTER_FUNCTION}i.watchKey=o,i.unwatchKey=s}),e("ember-metal/watch_path",["ember-metal/utils","ember-metal/chains","exports"],function(e,t,n){"use strict";function r(e,t){var n=t||s(e),r=n.chains;return r?r.value()!==e&&(r=n.chains=r.copy(e)):r=n.chains=new l(null,null,e),r}function i(e,t,n){if("length"!==t||"array"!==a(e)){var i=n||s(e),o=i.watching;o[t]?o[t]=(o[t]||0)+1:(o[t]=1,r(e,i).add(t))}}function o(e,t,n){var i=n||s(e),o=i.watching;1===o[t]?(o[t]=0,r(e,i).remove(t)):o[t]>1&&o[t]--}var s=e.meta,a=e.typeOf,l=t.ChainNode;n.watchPath=i,n.unwatchPath=o}),e("ember-metal/watching",["ember-metal/utils","ember-metal/chains","ember-metal/watch_key","ember-metal/watch_path","ember-metal/path_cache","exports"],function(e,t,n,r,i,o){"use strict";function s(e,t,n){("length"!==t||"array"!==c(e))&&(v(t)?m(e,t,n):f(e,t,n))}function a(e,t){var n=e.__ember_meta__;return(n&&n.watching[t])>0}function l(e,t,n){("length"!==t||"array"!==c(e))&&(v(t)?g(e,t,n):p(e,t,n))}function u(e){var t,n,r,i,o=e.__ember_meta__;if(o&&(e.__ember_meta__=null,t=o.chains))for(b.push(t);b.length>0;){if(t=b.pop(),n=t._chains)for(r in n)n.hasOwnProperty(r)&&b.push(n[r]);t._watching&&(i=t._object,i&&d(i,t._key,t))}}var c=e.typeOf,d=t.removeChainWatcher,h=t.flushPendingChains,f=n.watchKey,p=n.unwatchKey,m=r.watchPath,g=r.unwatchPath,v=i.isPath;o.watch=s,o.isWatching=a,s.flushPending=h,o.unwatch=l;var b=[];o.destroy=u}),e("ember-routing-htmlbars",["ember-metal/core","ember-htmlbars/helpers","ember-routing-htmlbars/helpers/outlet","ember-routing-htmlbars/helpers/render","ember-routing-htmlbars/helpers/link-to","ember-routing-htmlbars/helpers/action","ember-routing-htmlbars/helpers/query-params","exports"],function(e,t,n,r,i,o,s,a){"use strict";var l=e["default"],u=t.registerHelper,c=n.outletHelper,d=r.renderHelper,h=i.linkToHelper,f=i.deprecatedLinkToHelper,p=o.actionHelper,m=s.queryParamsHelper;u("outlet",c),u("render",d),u("link-to",h),u("linkTo",f),u("action",p),u("query-params",m),a["default"]=l}),e("ember-routing-htmlbars/helpers/action",["ember-metal/core","ember-metal/utils","ember-metal/run_loop","ember-views/streams/utils","ember-views/system/utils","ember-views/system/action_manager","ember-metal/array","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(e,t){var n,r,i;if(void 0===t)for(n=new Array(e.length),r=0,i=e.length;i>r;r++)n[r]=f(e[r]);else for(n=new Array(e.length+1),n[0]=t,r=0,i=e.length;i>r;r++)n[r+1]=f(e[r]);return n}function c(e,t,n,r){var i;i=t.target?g(t.target)?t.target:this.getStream(t.target):this.getStream("controller");var o={eventName:t.on||"click",parameters:e.slice(1),view:this,bubbles:t.bubbles,preventDefault:t.preventDefault,target:i,withKeyCode:t.withKeyCode},s=v.registerAction(e[0],o,t.allowedKeys);r.dom.setAttribute(n.element,"data-ember-action",s)}var d=(e["default"],t.uuid),h=n["default"],f=r.readUnwrappedModel,p=i.isSimpleClick,m=o["default"],g=(s.indexOf,a.isStream),v={};v.registeredActions=m.registeredActions,l.ActionHelper=v;var b=["alt","shift","meta","ctrl"],y=/^click|mouse|touch/,E=function(e,t){if("undefined"==typeof t){if(y.test(e.type))return p(e);t=""}if(t.indexOf("any")>=0)return!0;for(var n=0,r=b.length;r>n;n++)if(e[b[n]+"Key"]&&-1===t.indexOf(b[n]))return!1;return!0};v.registerAction=function(e,t,n){var r=d(),i=t.eventName,o=t.parameters;return m.registeredActions[r]={eventName:i,handler:function(r){if(!E(r,n))return!0;t.preventDefault!==!1&&r.preventDefault(),t.bubbles===!1&&r.stopPropagation();var i,s=t.target.value();i=g(e)?e.value():e,h(function(){s.send?s.send.apply(s,u(o,i)):s[i].apply(s,u(o))})}},t.view.on("willClearRender",function(){delete m.registeredActions[r]}),r},l.actionHelper=c}),e("ember-routing-htmlbars/helpers/link-to",["ember-metal/core","ember-routing-views/views/link","ember-metal/streams/utils","ember-runtime/mixins/controller","ember-htmlbars/utils/string","ember-htmlbars","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e,t,n,r){var i,o=!t.unescaped,s=e[e.length-1];if(s&&s.isQueryParams&&(t.queryParamsObject=i=e.pop()),t.disabledWhen&&(t.disabled=t.disabledWhen,delete t.disabledWhen),!n.template){var a=e.shift();d(a)&&(t.linkTitle={stream:a}),n.template={isHTMLBars:!0,render:function(){var e=c(a);return e?o?f(e):e:""}}}for(var l=0;l<e.length;l++)if(d(e[l])){var p=e[l];if(!p._isController)for(;h.detect(p.value());)p=p.get("model");e[l]=p}return t.params=e,n.helperName=n.helperName||"link-to",r.helpers.view.helperFunction.call(this,[u],t,n,r)}function l(e,t,n,r){return r.helpers["link-to"].helperFunction.call(this,e,t,n,r)}var u=(e["default"],t.LinkView),c=n.read,d=n.isStream,h=r["default"],f=i.escapeExpression;s.deprecatedLinkToHelper=l,s.linkToHelper=a}),e("ember-routing-htmlbars/helpers/outlet",["ember-metal/core","ember-metal/property_set","ember-routing-views/views/outlet","exports"],function(e,t,n,r){"use strict";function i(e,t,n,r){var i,a,l,u,c=e[0]||"main";for(i=this;!i.get("template.isTop");)i=i.get("_parentView");return o(this,"outletSource",i),a=t.view,a&&(u="view:"+a),l=a?this.container.lookupFactory(u):t.viewClass||s,t.currentViewBinding="_view.outletSource._outlets."+c,n.helperName=n.helperName||"outlet",r.helpers.view.helperFunction.call(this,[l],t,n,r)}var o=(e["default"],t.set),s=n.OutletView;r.outletHelper=i}),e("ember-routing-htmlbars/helpers/query-params",["ember-metal/core","ember-routing/system/query_params","exports"],function(e,t,n){"use strict";function r(e,t){return i.create({values:t})}var i=(e["default"],t["default"]);n.queryParamsHelper=r}),e("ember-routing-htmlbars/helpers/render",["ember-metal/core","ember-metal/error","ember-runtime/system/string","ember-routing/system/generate_controller","ember-htmlbars/helpers/view","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e,t,n,r){var i,o,s,a,f,p=e[0],m=e[1];if(i=this._keywords.controller.value().container,o=i.lookup("router:main"),1===e.length);else{if(2!==e.length)throw new l("You must pass a templateName to render");f=m.value()}p=p.replace(/\//g,"."),a=i.lookup("view:"+p)||i.lookup("view:default");var g=t.controller||p,v="controller:"+g,b=this._keywords.controller.value();if(e.length>1){var y=i.lookupFactory(v)||c(i,g,f);s=y.create({modelBinding:m,parentController:b,target:b}),a.one("willDestroyElement",function(){s.destroy()})}else s=i.lookup(v)||d(i,g),s.setProperties({target:b,parentController:b});t.viewName=u(p);var E="template:"+p;t.template=i.lookup(E),t.controller=s,o&&!f&&o._connectActiveView(p,a),n.helperName=n.helperName||'render "'+p+'"',h.instanceHelper(a,t,n,r)}{var l=(e["default"],t["default"]),u=n.camelize,c=r.generateControllerFactory,d=r["default"],h=i.ViewHelper;o.isStream}s.renderHelper=a}),e("ember-routing-views",["ember-metal/core","ember-routing-views/views/link","ember-routing-views/views/outlet","exports"],function(e,t,n,r){"use strict";var i=e["default"],o=t.LinkView,s=n.OutletView;i.LinkView=o,i.OutletView=s,r["default"]=i}),e("ember-routing-views/views/link",["ember-metal/core","ember-metal/property_get","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-runtime/system/string","ember-metal/keys","ember-views/system/utils","ember-views/views/component","ember-routing/utils","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d){"use strict";function h(e,t){var n=e.queryParamsObject,r={};if(!n)return r;var i=n.values;for(var o in i)i.hasOwnProperty(o)&&(r[o]=C(i[o]));return r}function f(e){for(var t=0,n=e.length;n>t;++t){var r=e[t];if(null===r||"undefined"==typeof r)return!1}return!0}function p(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;for(n in t)if(t.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}var m=e["default"],g=t.get,v=n["default"],b=r["default"],y=i.computed,E=(o.fmt,s["default"],a.isSimpleClick),_=l["default"],T=u.routeArgs,C=c.read,O=c.subscribe,I=function(e,t){for(var n=0,r=0,i=t.length;i>r&&(n+=t[r].names.length,t[r].handler!==e);r++);return n},D=m.LinkView=_.extend({tagName:"a",currentWhen:null,"current-when":null,title:null,rel:null,tabindex:null,target:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:!1,replace:!1,attributeBindings:["href","title","rel","tabindex"],classNameBindings:["active","loading","disabled"],eventName:"click",init:function(){this._super.apply(this,arguments);var e=g(this,"eventName");this.on(e,this,this._invoke)},_paramsChanged:function(){this.notifyPropertyChange("resolvedParams")},_setupPathObservers:function(){var e=this.params,t=this._wrapAsScheduled(this.rerender),n=this._wrapAsScheduled(this._paramsChanged);if(this.linkTitle){var r=this.linkTitle.stream||this.linkTitle;O(r,t,this)}for(var i=0;i<e.length;i++)O(e[i],n,this);var o=this.queryParamsObject;if(o){var s=o.values;for(var a in s)s.hasOwnProperty(a)&&O(s[a],n,this)}},afterRender:function(){this._super.apply(this,arguments),this._setupPathObservers()},disabled:y(function(e,t){return void 0!==t&&this.set("_isDisabled",t),t?g(this,"disabledClass"):!1}),active:y("loadedParams",function(){function e(e){var i=t.router.recognizer.handlersFor(e),s=i[i.length-1].handler,a=I(e,i);r.length>a&&(e=s);var l=T(e,r,null),u=t.isActive.apply(t,l);if(!u)return!1;var c=m.isEmpty(m.keys(n.queryParams));if(!o&&!c&&u){var d={};v(d,n.queryParams),t._prepareQueryParams(n.targetRouteName,n.models,d),u=p(d,t.router.state.queryParams)}return u}if(g(this,"loading"))return!1;var t=g(this,"router"),n=g(this,"loadedParams"),r=n.models,i=this["current-when"]||this.currentWhen,o=Boolean(i);i=i||n.targetRouteName,i=i.split(" ");for(var s=0,a=i.length;a>s;s++)if(e(i[s]))return g(this,"activeClass")}),loading:y("loadedParams",function(){return g(this,"loadedParams")?void 0:g(this,"loadingClass")}),router:y(function(){var e=g(this,"controller");return e&&e.container?e.container.lookup("router:main"):void 0}),_invoke:function(e){if(!E(e))return!0;if(this.preventDefault!==!1){var t=g(this,"target");t&&"_self"!==t||e.preventDefault()}if(this.bubbles===!1&&e.stopPropagation(),g(this,"_isDisabled"))return!1;if(g(this,"loading"))return m.Logger.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid."),!1;var n=g(this,"target");if(n&&"_self"!==n)return!1;var r=g(this,"router"),i=g(this,"loadedParams"),o=r._doTransition(i.targetRouteName,i.models,i.queryParams);g(this,"replace")&&o.method("replace");var s=T(i.targetRouteName,i.models,o.state.queryParams),a=r.router.generate.apply(r.router,s);b.scheduleOnce("routerTransitions",this,this._eagerUpdateUrl,o,a)},_eagerUpdateUrl:function(e,t){if(e.isActive&&e.urlMethod){0===t.indexOf("#")&&(t=t.slice(1));var n=g(this,"router.router");"update"===e.urlMethod?n.updateURL(t):"replace"===e.urlMethod&&n.replaceURL(t),e.method(null)}},resolvedParams:y("router.url",function(){var e,t=this.params,n=[],r=0===t.length;if(r){var i=this.container.lookup("controller:application");e=g(i,"currentRouteName")}else{e=C(t[0]);for(var o=1;o<t.length;o++)n.push(C(t[o]))}var s=h(this,e);return{targetRouteName:e,models:n,queryParams:s}}),loadedParams:y("resolvedParams",function(){var e=g(this,"router");if(e){var t=g(this,"resolvedParams"),n=t.targetRouteName;if(n&&f(t.models))return t}}),queryParamsObject:null,href:y("loadedParams",function(){if("a"===g(this,"tagName")){var e=g(this,"router"),t=g(this,"loadedParams");if(!t)return g(this,"loadingHref");var n={};v(n,t.queryParams),e._prepareQueryParams(t.targetRouteName,t.models,n);var r=T(t.targetRouteName,t.models,n),i=e.generate.apply(e,r);return i}}),loadingHref:"#"});D.toString=function(){return"LinkView"},D.reopen({attributeBindings:["target"],target:null}),d.LinkView=D}),e("ember-routing-views/views/outlet",["ember-views/views/container_view","ember-views/views/metamorph_view","exports"],function(e,t,n){"use strict";var r=e["default"],i=t._Metamorph,o=r.extend(i);n.OutletView=o}),e("ember-routing",["ember-metal/core","ember-routing/ext/run_loop","ember-routing/ext/controller","ember-routing/ext/view","ember-routing/location/api","ember-routing/location/none_location","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/system/generate_controller","ember-routing/system/controller_for","ember-routing/system/dsl","ember-routing/system/router","ember-routing/system/route","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p){"use strict";var m=e["default"],g=i["default"],v=o["default"],b=s["default"],y=a["default"],E=l["default"],_=u.generateControllerFactory,T=u["default"],C=c["default"],O=d["default"],I=h["default"],D=f["default"];m.Location=g,m.AutoLocation=E,m.HashLocation=b,m.HistoryLocation=y,m.NoneLocation=v,m.controllerFor=C,m.generateControllerFactory=_,m.generateController=T,m.RouterDSL=O,m.Router=I,m.Route=D,p["default"]=m}),e("ember-routing/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/utils","ember-metal/merge","ember-runtime/mixins/controller","exports"],function(e,t,n,r,i,o,s,a){"use strict";function l(e,t){var n,r=e;"string"===f(r)&&(n={},n[r]={as:null},r=n);for(var i in r){if(!r.hasOwnProperty(i))return;var o=r[i];"string"===f(o)&&(o={as:o}),n=t[i]||{as:null,scope:"model"},m(n,o),t[i]=n}}function u(e){var t=c(e,"_normalizedQueryParams");for(var n in t)t.hasOwnProperty(n)&&e.addObserver(n+".[]",e,e._qpChanged)}var c=(e["default"],t.get),d=n.set,h=r.computed,f=i.typeOf,p=i.meta,m=o["default"],g=s["default"];g.reopen({concatenatedProperties:["queryParams","_pCacheMeta"],init:function(){this._super.apply(this,arguments),u(this)},queryParams:null,_qpDelegate:null,_normalizedQueryParams:h(function(){var e=p(this);if(e.proto!==this)return c(e.proto,"_normalizedQueryParams");var t=c(this,"queryParams");if(t._qpMap)return t._qpMap;for(var n=t._qpMap={},r=0,i=t.length;i>r;++r)l(t[r],n);return n}),_cacheMeta:h(function(){var e=p(this);if(e.proto!==this)return c(e.proto,"_cacheMeta");var t={},n=c(this,"_normalizedQueryParams");for(var r in n)if(n.hasOwnProperty(r)){var i,o=n[r],s=o.scope;"controller"===s&&(i=[]),t[r]={parts:i,values:null,scope:s,prefix:"",def:c(this,r)}}return t}),_updateCacheParams:function(e){var t=c(this,"_cacheMeta");for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.values=e;var i=this._calculateCacheKey(r.prefix,r.parts,r.values),o=this._bucketCache;if(o){var s=o.lookup(i,n,r.def);d(this,n,s)}}},_qpChanged:function(e,t){var n=t.substr(0,t.length-3),r=c(e,"_cacheMeta"),i=r[n],o=e._calculateCacheKey(i.prefix||"",i.parts,i.values),s=c(e,n),a=this._bucketCache;a&&e._bucketCache.stash(o,n,s);var l=e._qpDelegate;l&&l(e,n)},_calculateCacheKey:function(e,t,n){for(var r=t||[],i="",o=0,s=r.length;s>o;++o){var a=r[o],l=c(n,a);i+="::"+a+":"+l}return e+i.replace(v,"-")},transitionToRoute:function(){var e=c(this,"target"),t=e.transitionToRoute||e.transitionTo;return t.apply(e,arguments)},transitionTo:function(){return this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var e=c(this,"target"),t=e.replaceRoute||e.replaceWith;return t.apply(e,arguments)},replaceWith:function(){return this.replaceRoute.apply(this,arguments)}});var v=/\./g;a["default"]=g}),e("ember-routing/ext/run_loop",["ember-metal/run_loop"],function(e){"use strict";var t=e["default"];t._addQueue("routerTransitions","actions")}),e("ember-routing/ext/view",["ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-views/views/view","exports"],function(e,t,n,r,i){"use strict";var o=e.get,s=t.set,a=n["default"],l=r["default"];l.reopen({init:function(){this._outlets={},this._super()},connectOutlet:function(e,t){if(this._pendingDisconnections&&delete this._pendingDisconnections[e],this._hasEquivalentView(e,t))return void t.destroy();var n=o(this,"_outlets"),r=o(this,"container"),i=r&&r.lookup("router:main"),a=o(t,"renderedName");s(n,e,t),i&&a&&i._connectActiveView(a,t)},_hasEquivalentView:function(e,t){var n=o(this,"_outlets."+e);return n&&n.constructor===t.constructor&&n.get("template")===t.get("template")&&n.get("context")===t.get("context")},disconnectOutlet:function(e){this._pendingDisconnections||(this._pendingDisconnections={}),this._pendingDisconnections[e]=!0,a.once(this,"_finishDisconnections")},_finishDisconnections:function(){if(!this.isDestroyed){var e=o(this,"_outlets"),t=this._pendingDisconnections;this._pendingDisconnections=null;for(var n in t)s(e,n,null)}}}),i["default"]=l}),e("ember-routing/location/api",["ember-metal/core","exports"],function(e,t){"use strict";e["default"];t["default"]={create:function(e){var t=e&&e.implementation,n=this.implementations[t];return n.create.apply(n,arguments)},registerImplementation:function(e,t){this.implementations[e]=t},implementations:{},_location:window.location,_getHash:function(){var e=(this._location||this.location).href,t=e.indexOf("#");return-1===t?"":e.substr(t)}}}),e("ember-routing/location/auto_location",["ember-metal/core","ember-metal/property_set","ember-routing/location/api","ember-routing/location/history_location","ember-routing/location/hash_location","ember-routing/location/none_location","exports"],function(e,t,n,r,i,o,s){"use strict";var a=(e["default"],t.set),l=n["default"],u=r["default"],c=i["default"],d=o["default"];s["default"]={cancelRouterSetup:!1,rootURL:"/",_window:window,_location:window.location,_history:window.history,_HistoryLocation:u,_HashLocation:c,_NoneLocation:d,_getOrigin:function(){var e=this._location,t=e.origin;return t||(t=e.protocol+"//"+e.hostname,e.port&&(t+=":"+e.port)),t},_getSupportsHistory:function(){var e=this._window.navigator.userAgent;return-1!==e.indexOf("Android 2")&&-1!==e.indexOf("Mobile Safari")&&-1===e.indexOf("Chrome")?!1:!!(this._history&&"pushState"in this._history)},_getSupportsHashChange:function(){var e=this._window,t=e.document.documentMode;return"onhashchange"in e&&(void 0===t||t>7)},_replacePath:function(e){this._location.replace(this._getOrigin()+e)},_getRootURL:function(){return this.rootURL},_getPath:function(){var e=this._location.pathname;return"/"!==e.charAt(0)&&(e="/"+e),e},_getHash:l._getHash,_getQuery:function(){return this._location.search},_getFullPath:function(){return this._getPath()+this._getQuery()+this._getHash()},_getHistoryPath:function(){{var e,t,n=this._getRootURL(),r=this._getPath(),i=this._getHash(),o=this._getQuery();r.indexOf(n)}return"#/"===i.substr(0,2)?(t=i.substr(1).split("#"),e=t.shift(),"/"===r.slice(-1)&&(e=e.substr(1)),r+=e,r+=o,t.length&&(r+="#"+t.join("#"))):(r+=o,r+=i),r},_getHashPath:function(){var e=this._getRootURL(),t=e,n=this._getHistoryPath(),r=n.substr(e.length);return""!==r&&("/"!==r.charAt(0)&&(r="/"+r),t+="#"+r),t},create:function(e){e&&e.rootURL&&(this.rootURL=e.rootURL);var t,n,r=!1,i=this._NoneLocation,o=this._getFullPath();this._getSupportsHistory()?(t=this._getHistoryPath(),o===t?i=this._HistoryLocation:"/#"===o.substr(0,2)?(this._history.replaceState({path:t},null,t),i=this._HistoryLocation):(r=!0,this._replacePath(t))):this._getSupportsHashChange()&&(n=this._getHashPath(),o===n||"/"===o&&"/#/"===n?i=this._HashLocation:(r=!0,this._replacePath(n)));var s=i.create.apply(i,arguments);return r&&a(s,"cancelRouterSetup",!0),s}}}),e("ember-routing/location/hash_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api","exports"],function(e,t,n,r,i,o,s,a){"use strict";var l=e["default"],u=t.get,c=n.set,d=r["default"],h=i.guidFor,f=o["default"],p=s["default"];a["default"]=f.extend({implementation:"hash",init:function(){c(this,"location",u(this,"_location")||window.location)},getHash:p._getHash,getURL:function(){var e=this.getHash().substr(1),t=e;return"/"!==t.charAt(0)&&(t="/",e&&(t+="#"+e)),t},setURL:function(e){u(this,"location").hash=e,c(this,"lastSetURL",e)},replaceURL:function(e){u(this,"location").replace("#"+e),c(this,"lastSetURL",e)},onUpdateURL:function(e){var t=this,n=h(this);l.$(window).on("hashchange.ember-location-"+n,function(){d(function(){var n=t.getURL();u(t,"lastSetURL")!==n&&(c(t,"lastSetURL",null),e(n))})})},formatURL:function(e){return"#"+e},willDestroy:function(){var e=h(this);l.$(window).off("hashchange.ember-location-"+e)}})}),e("ember-routing/location/history_location",["ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api","ember-views/system/jquery","exports"],function(e,t,n,r,i,o,s){"use strict";var a=e.get,l=t.set,u=n.guidFor,c=r["default"],d=i["default"],h=o["default"],f=!1,p=window.history&&"state"in window.history;s["default"]=c.extend({implementation:"history",init:function(){l(this,"location",a(this,"location")||window.location),l(this,"baseURL",h("base").attr("href")||"")},initState:function(){l(this,"history",a(this,"history")||window.history),this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var e=a(this,"rootURL"),t=a(this,"location"),n=t.pathname,r=a(this,"baseURL");e=e.replace(/\/$/,""),r=r.replace(/\/$/,"");var i=n.replace(r,"").replace(e,""),o=t.search||"";return i+=o,i+=this.getHash()},setURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.pushState(e)},replaceURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.replaceState(e)},getState:function(){return p?a(this,"history").state:this._historyState},pushState:function(e){var t={path:e};a(this,"history").pushState(t,null,e),p||(this._historyState=t),this._previousURL=this.getURL()},replaceState:function(e){var t={path:e};a(this,"history").replaceState(t,null,e),p||(this._historyState=t),this._previousURL=this.getURL()},onUpdateURL:function(e){var t=u(this),n=this;h(window).on("popstate.ember-location-"+t,function(t){(f||(f=!0,n.getURL()!==n._previousURL))&&e(n.getURL())})},formatURL:function(e){var t=a(this,"rootURL"),n=a(this,"baseURL");return""!==e?(t=t.replace(/\/$/,""),n=n.replace(/\/$/,"")):n.match(/^\//)&&t.match(/^\//)&&(n=n.replace(/\/$/,"")),n+t+e},willDestroy:function(){var e=u(this);h(window).off("popstate.ember-location-"+e)},getHash:d._getHash})}),e("ember-routing/location/none_location",["ember-metal/property_get","ember-metal/property_set","ember-runtime/system/object","exports"],function(e,t,n,r){"use strict";var i=e.get,o=t.set,s=n["default"];r["default"]=s.extend({implementation:"none",path:"",getURL:function(){return i(this,"path")},setURL:function(e){o(this,"path",e)},onUpdateURL:function(e){this.updateCallback=e},handleURL:function(e){o(this,"path",e),this.updateCallback(e)},formatURL:function(e){return e}})}),e("ember-routing/system/cache",["ember-runtime/system/object","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=n.extend({init:function(){this.cache={}},has:function(e){return e in this.cache},stash:function(e,t,n){var r=this.cache[e];r||(r=this.cache[e]={}),r[t]=n},lookup:function(e,t,n){var r=this.cache;if(!(e in r))return n;var i=r[e];return t in i?i[t]:n},cache:null})}),e("ember-routing/system/controller_for",["exports"],function(e){"use strict";e["default"]=function(e,t,n){return e.lookup("controller:"+t,n)}}),e("ember-routing/system/dsl",["ember-metal/core","exports"],function(e,t){"use strict";function n(e){this.parent=e,this.matches=[]}function r(e){return e.parent&&"application"!==e.parent}function i(e,t,n){return r(e)&&n!==!0?e.parent+"."+t:t}function o(e,t,n,r){n=n||{};var o=i(e,t,n.resetNamespace);"string"!=typeof n.path&&(n.path="/"+t),e.push(n.path,o,r)}e["default"];t["default"]=n,n.prototype={route:function(e,t,r){2===arguments.length&&"function"==typeof t&&(r=t,t={}),1===arguments.length&&(t={});t.resetNamespace===!0?"resource":"route";if(r){var s=i(this,e,t.resetNamespace),a=new n(s);o(a,"loading"),o(a,"error",{path:"/_unused_dummy_error_path_route_"+e+"/:error"}),r.call(a),o(this,e,t,a.generate())}else o(this,e,t)},push:function(e,t,n){var r=t.split(".");(""===e||"/"===e||"index"===r[r.length-1])&&(this.explicitIndex=!0),this.matches.push([e,t,n])},resource:function(e,t,n){2===arguments.length&&"function"==typeof t&&(n=t,t={}),1===arguments.length&&(t={}),t.resetNamespace=!0,this.route(e,t,n)},generate:function(){var e=this.matches;return this.explicitIndex||this.route("index",{path:"/"}),function(t){for(var n=0,r=e.length;r>n;n++){var i=e[n];t(i[0]).to(i[1],i[2])}}}},n.map=function(e){var t=new n;return e.call(t),t}}),e("ember-routing/system/generate_controller",["ember-metal/core","ember-metal/property_get","ember-metal/utils","exports"],function(e,t,n,r){"use strict";function i(e,t,n){var r,i,o,a;return a=n&&s(n)?"array":n?"object":"basic",o="controller:"+a,r=e.lookupFactory(o).extend({isGenerated:!0,toString:function(){return"(generated "+t+" controller)"}}),i="controller:"+t,e.register(i,r),r}var o=(e["default"],t.get),s=n.isArray;r.generateControllerFactory=i,r["default"]=function(e,t,n){i(e,t,n);var r="controller:"+t,s=e.lookup(r);return o(s,"namespace.LOG_ACTIVE_GENERATION"),s}}),e("ember-routing/system/query_params",["ember-runtime/system/object","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=n.extend({isQueryParams:!0,values:null})}),e("ember-routing/system/route",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/get_properties","ember-metal/enumerable_utils","ember-metal/is_none","ember-metal/computed","ember-metal/merge","ember-metal/utils","ember-metal/run_loop","ember-metal/keys","ember-runtime/copy","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-routing/system/generate_controller","ember-routing/utils","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y){
"use strict";function E(){return this}function _(e){var t=T(e,e.router.router.state.handlerInfos,-1);return t&&t.handler}function T(e,t,n){if(t)for(var r,i=n||0,o=0,s=t.length;s>o;o++)if(r=t[o].handler,r===e)return t[o+i]}function C(e){var t,n=_(e);return n?(t=n.lastRenderedTemplate)?t:C(n):void 0}function O(e,t,n,r){var i=r&&r.controller;if(i||(i=t?e.container.lookup("controller:"+n)||e.controllerName||e.routeName:e.controllerName||e.container.lookup("controller:"+n)),"string"==typeof i){var o=i;if(i=e.container.lookup("controller:"+o),!i)throw new N("You passed `controller: '"+o+"'` into the `render` method, but no such controller could be found.")}r&&r.model&&i.set("model",r.model);var s={into:r&&r.into?r.into.replace(/\//g,"."):C(e),outlet:r&&r.outlet||"main",name:n,controller:i};return s}function I(e,t){return e.create({_debugTemplateName:t.name,renderedName:t.name,controller:t.controller})}function D(e,t,n){if(n.into){var r=e.router._lookupActiveView(n.into),i=w(r,n.outlet);e.teardownOutletViews||(e.teardownOutletViews=[]),F(e.teardownOutletViews,0,0,[i]),r.connectOutlet(n.outlet,t)}else{var o=A(e.router,"namespace.rootElement");e.teardownTopLevelView&&e.teardownTopLevelView(),e.router._connectActiveView(n.name,t),e.teardownTopLevelView=R(t),t.appendTo(o)}}function R(e){return function(){e.destroy()}}function w(e,t){return function(){e.disconnectOutlet(t)}}function x(e,t){if(t.fullQueryParams)return t.fullQueryParams;t.fullQueryParams={},$(t.fullQueryParams,t.queryParams);var n=t.handlerInfos[t.handlerInfos.length-1].name;return e._deserializeQueryParams(n,t.fullQueryParams),t.fullQueryParams}function k(e,t){t.queryParamsFor=t.queryParamsFor||{};var n=e.routeName;if(t.queryParamsFor[n])return t.queryParamsFor[n];for(var r=x(e.router,t),i=t.queryParamsFor[n]={},o=A(e,"_qp"),s=o.qps,a=0,l=s.length;l>a;++a){var u=s[a],c=u.prop in r;i[u.prop]=c?r[u.prop]:S(u.def)}return i}function S(e){return j(e)?K.A(e.slice()):e}var K=e["default"],N=t["default"],A=n.get,P=r.set,L=i["default"],M=o.forEach,F=o.replace,B=(s["default"],a.computed),$=l["default"],j=u.isArray,H=u.typeOf,z=c["default"],V=d["default"],q=h["default"],U=(f.classify,p["default"]),W=m["default"],Y=g["default"],G=v["default"],X=b.stashParamNames,Q=Array.prototype.slice,Z=U.extend(Y,{queryParams:{},_qp:B(function(){var e=this.controllerName||this.routeName,t=this.container.lookupFactory("controller:"+e);if(!t)return J;var n=t.proto(),r=A(n,"_normalizedQueryParams"),i=A(n,"_cacheMeta"),o=[],s={},a=this;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l],c=u.as||this.serializeQueryParamKey(l),d=A(n,l);j(d)&&(d=K.A(d.slice()));var h=H(d),f=this.serializeQueryParam(d,c,h),p=e+":"+l,m={def:d,sdef:f,type:h,urlKey:c,prop:l,fprop:p,ctrl:e,cProto:n,svalue:f,cacheType:u.scope,route:this,cacheMeta:i[l]};s[l]=s[c]=s[p]=m,o.push(m)}return{qps:o,map:s,states:{active:function(e,t){return a._activeQPChanged(e,s[t])},allowOverrides:function(e,t){return a._updatingQPChanged(e,s[t])},changingKeys:function(e,t){return a._updateSerializedQPValue(e,s[t])}}}}),_names:null,_stashNames:function(e,t){var n=e;if(!this._names){var r=this._names=n._names;r.length||(n=t,r=n&&n._names||[]);for(var i=A(this,"_qp.qps"),o=i.length,s=new Array(r.length),a=0,l=r.length;l>a;++a)s[a]=n.name+"."+r[a];for(var u=0;o>u;++u){var c=i[u],d=c.cacheMeta;"model"===d.scope&&(d.parts=s),d.prefix=c.ctrl}}},_updateSerializedQPValue:function(e,t){var n=A(e,t.prop);t.svalue=this.serializeQueryParam(n,t.urlKey,t.type)},_activeQPChanged:function(e,t){var n=A(e,t.prop);this.router._queuedQPChanges[t.fprop]=n,z.once(this,this._fireQueryParamTransition)},_updatingQPChanged:function(e,t){var n=this.router;n._qpUpdates||(n._qpUpdates={}),n._qpUpdates[t.urlKey]=!0},mergedProperties:["events","queryParams"],paramsFor:function(e){var t=this.container.lookup("route:"+e);if(!t)return{};var n=this.router.router.activeTransition,r=n?n.state:this.router.router.state,i={};return $(i,r.params[e]),$(i,k(t,r)),i},serializeQueryParamKey:function(e){return e},serializeQueryParam:function(e,t,n){return"array"===n?JSON.stringify(e):""+e},deserializeQueryParam:function(e,t,n){return"boolean"===n?"true"===e?!0:!1:"number"===n?Number(e).valueOf():"array"===n?K.A(JSON.parse(e)):e},_fireQueryParamTransition:function(){this.transitionTo({queryParams:this.router._queuedQPChanges}),this.router._queuedQPChanges={}},_optionsForQueryParam:function(e){return A(this,"queryParams."+e.urlKey)||A(this,"queryParams."+e.prop)||{}},resetController:E,exit:function(){this.deactivate(),this.trigger("deactivate"),this.teardownViews()},_reset:function(e,t){var n=this.controller;n._qpDelegate=A(this,"_qp.states.inactive"),this.resetController(n,e,t)},enter:function(){this.activate(),this.trigger("activate")},viewName:null,templateName:null,controllerName:null,_actions:{queryParamsDidChange:function(e,t,n){for(var r=A(this,"_qp").map,i=V(e).concat(V(n)),o=0,s=i.length;s>o;++o){var a=r[i[o]];a&&A(this._optionsForQueryParam(a),"refreshModel")&&this.refresh()}return!0},finalizeQueryParamChange:function(e,t,n){if("application"!==this.routeName)return!0;if(n){var r,i=n.state.handlerInfos,o=this.router,s=o._queryParamsFor(i[i.length-1].name),a=o._qpUpdates;X(o,i);for(var l=0,u=s.qps.length;u>l;++l){var c,d,h=s.qps[l],f=h.route,p=f.controller,m=h.urlKey in e&&h.urlKey;a&&h.urlKey in a?(c=A(p,h.prop),d=f.serializeQueryParam(c,h.urlKey,h.type)):m?(d=e[m],c=f.deserializeQueryParam(d,h.urlKey,h.type)):(d=h.sdef,c=S(h.def)),p._qpDelegate=A(this,"_qp.states.inactive");var g=d!==h.svalue;if(g){if(n.queryParamsOnly&&r!==!1){var v=f._optionsForQueryParam(h),b=A(v,"replace");b?r=!0:b===!1&&(r=!1)}P(p,h.prop,c)}h.svalue=d;var y=h.sdef===d;y||t.push({value:d,visible:!0,key:m||h.urlKey})}r&&n.method("replace"),M(s.qps,function(e){var t=A(e.route,"_qp"),n=e.route.controller;n._qpDelegate=A(t,"states.active")}),o._qpUpdates=null}}},events:null,deactivate:E,activate:E,transitionTo:function(e,t){var n=this.router;return n.transitionTo.apply(n,arguments)},intermediateTransitionTo:function(){var e=this.router;e.intermediateTransitionTo.apply(e,arguments)},refresh:function(){return this.router.router.refresh(this)},replaceWith:function(){var e=this.router;return e.replaceWith.apply(e,arguments)},send:function(){if(this.router||!K.testing)this.router.send.apply(this.router,arguments);else{var e=arguments[0],t=Q.call(arguments,1),n=this._actions[e];if(n)return this._actions[e].apply(this,t)}},setup:function(e,t){var n=this.controllerName||this.routeName,r=this.controllerFor(n,!0);if(r||(r=this.generateController(n,e)),this.controller=r,this.setupControllers)this.setupControllers(r,e);else{var i=A(this,"_qp.states");if(t&&(X(this.router,t.state.handlerInfos),r._qpDelegate=i.changingKeys,r._updateCacheParams(t.params)),r._qpDelegate=i.allowOverrides,t){var o=k(this,t.state);r.setProperties(o)}this.setupController(r,e,t)}this.renderTemplates?this.renderTemplates(e):this.renderTemplate(r,e)},beforeModel:E,afterModel:E,redirect:E,contextDidChange:function(){this.currentModel=this.context},model:function(e,t){var n,r,i,o,s=A(this,"_qp.map");for(var a in e)"queryParams"===a||s&&a in s||((n=a.match(/^(.*)_id$/))&&(r=n[1],o=e[a]),i=!0);if(!r&&i)return q(e);if(!r){if(t.resolveIndex<1)return;var l=t.state.handlerInfos[t.resolveIndex-1].context;return l}return this.findModel(r,o)},deserialize:function(e,t){return this.model(this.paramsFor(this.routeName),t)},findModel:function(){var e=A(this,"store");return e.find.apply(e,arguments)},store:B(function(){{var e=this.container;this.routeName,A(this,"router.namespace")}return{find:function(t,n){var r=e.lookupFactory("model:"+t);if(r)return r.find(n)}}}),serialize:function(e,t){if(!(t.length<1)&&e){var n=t[0],r={};return 1===t.length?n in e?r[n]=A(e,n):/_id$/.test(n)&&(r[n]=A(e,"id")):r=L(e,t),r}},setupController:function(e,t,n){e&&void 0!==t&&P(e,"model",t)},controllerFor:function(e,t){var n,r=this.container,i=r.lookup("route:"+e);return i&&i.controllerName&&(e=i.controllerName),n=r.lookup("controller:"+e)},generateController:function(e,t){var n=this.container;return t=t||this.modelFor(e),G(n,e,t)},modelFor:function(e){var t=this.container.lookup("route:"+e),n=this.router?this.router.router.activeTransition:null;if(n){var r=t&&t.routeName||e;if(n.resolvedModels.hasOwnProperty(r))return n.resolvedModels[r]}return t&&t.currentModel},renderTemplate:function(e,t){this.render()},render:function(e,t){var n,r="string"==typeof e&&!!e;"object"!=typeof e||t?n=e:(n=this.routeName,t=e);var i;n?(n=n.replace(/\//g,"."),i=n):(n=this.routeName,i=this.templateName||n);var o,s,a=O(this,r,n,t),l=(A(this.router,"namespace.LOG_VIEW_LOOKUPS"),t&&t.view||r&&n||this.viewName||n),u=this.container.lookupFactory("view:"+l);if(u)o=I(u,a),A(o,"template")||o.set("template",this.container.lookup("template:"+i));else{if(s=this.container.lookup("template:"+i),!s)return;var c=a.into?"view:default":"view:toplevel";u=this.container.lookupFactory(c),o=I(u,a),A(o,"template")||o.set("template",s)}"main"===a.outlet&&(this.lastRenderedTemplate=n),D(this,o,a)},disconnectOutlet:function(e){if(!e||"string"==typeof e){var t=e;e={},e.outlet=t}e.parentView=e.parentView?e.parentView.replace(/\//g,"."):C(this),e.outlet=e.outlet||"main";var n=this.router._lookupActiveView(e.parentView);n&&n.disconnectOutlet(e.outlet)},willDestroy:function(){this.teardownViews()},teardownViews:function(){this.teardownTopLevelView&&this.teardownTopLevelView();var e=this.teardownOutletViews||[];M(e,function(e){e()}),delete this.teardownTopLevelView,delete this.teardownOutletViews,delete this.lastRenderedTemplate}});Z.reopen(W);var J={qps:[],map:{},states:{}};y["default"]=Z}),e("ember-routing/system/router",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/properties","ember-metal/computed","ember-metal/merge","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-routing/system/dsl","ember-views/views/view","ember-routing/location/api","ember-views/views/metamorph_view","ember-routing/utils","ember-metal/platform","router","router/transition","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y){"use strict";function E(){return this}function _(e,t,n){for(var r,i,o=t.state.handlerInfos,s=!1,a=o.length-1;a>=0;--a)if(r=o[a],i=r.handler,s){if(n(i,o[a+1].handler)!==!0)return!1}else e===i&&(s=!0);return!0}function T(e,t){var n=[];t&&n.push(t),e&&(e.message&&n.push(e.message),e.stack&&n.push(e.stack),"string"==typeof e&&n.push(e)),S.Logger.error.apply(this,n)}function C(e,t,n){var r,i=e.router,o=(t.routeName.split(".").pop(),"application"===e.routeName?"":e.routeName+".");return r=o+n,O(i,r)?r:void 0}function O(e,t){var n=e.container;return e.hasRoute(t)&&(n.has("template:"+t)||n.has("route:"+t))}function I(e,t,n){var r=n.shift();if(!e){if(t)return;throw new K("Can't trigger action '"+r+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}for(var i,o,s=!1,a=e.length-1;a>=0;a--)if(i=e[a],o=i.handler,o._actions&&o._actions[r]){if(o._actions[r].apply(o,n)!==!0)return;s=!0}if(Z[r])return void Z[r].apply(null,n);if(!s&&!t)throw new K("Nothing handled the action '"+r+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}function D(e,t,n){for(var r=e.router,i=r.applyIntent(t,n),o=i.handlerInfos,s=i.params,a=0,l=o.length;l>a;++a){var u=o[a];u.isResolved||(u=u.becomeResolved(null,u.context)),s[u.name]=u.params}return i}function R(e){var t=e.container.lookup("controller:application");if(t){var n=e.router.currentHandlerInfos,r=Q._routePath(n);"currentPath"in t||P(t,"currentPath"),A(t,"currentPath",r),"currentRouteName"in t||P(t,"currentRouteName"),A(t,"currentRouteName",n[n.length-1].name)}}function w(e){e.then(null,function(e){return e&&e.name?e:void 0},"Ember: Process errors from Router")}function x(e){return"string"==typeof e&&(""===e||"/"===e.charAt(0))}function k(e,t,n,r){var i=e._queryParamsFor(t);for(var o in n)if(n.hasOwnProperty(o)){var s=n[o],a=i.map[o];a&&r(o,s,a)}}var S=e["default"],K=t["default"],N=n.get,A=r.set,P=i.defineProperty,L=o.computed,M=s["default"],F=a["default"],B=(l.fmt,u["default"]),$=c["default"],j=d["default"],H=h["default"],z=f["default"],V=p["default"],q=m.routeArgs,U=m.getActiveTargetName,W=m.stashParamNames,Y=g.create,G=v["default"],X=[].slice,Q=B.extend($,{location:"hash",rootURL:"/",init:function(){this.router=this.constructor.router||this.constructor.map(E),this._activeViews={},this._setupLocation(),this._qpCache={},this._queuedQPChanges={},N(this,"namespace.LOG_TRANSITIONS_INTERNAL")&&(this.router.log=S.Logger.debug)},url:L(function(){return N(this,"location").getURL()}),startRouting:function(){this.router=this.router||this.constructor.map(E);var e,t=this.router,n=N(this,"location"),r=this.container,i=this,o=N(this,"initialURL");if(!N(n,"cancelRouterSetup")&&(this._setupRouter(t,n),r.register("view:default",V),r.register("view:toplevel",H.extend()),n.onUpdateURL(function(e){i.handleURL(e)}),"undefined"==typeof o&&(o=n.getURL()),e=this.handleURL(o),e&&e.error))throw e.error},didTransition:function(e){R(this),this._cancelLoadingEvent(),this.notifyPropertyChange("url"),F.once(this,this.trigger,"didTransition"),N(this,"namespace").LOG_TRANSITIONS&&S.Logger.log("Transitioned into '"+Q._routePath(e)+"'")},handleURL:function(e){return e=e.split(/#(.+)?/)[0],this._doURLTransition("handleURL",e)},_doURLTransition:function(e,t){var n=this.router[e](t||"/");return w(n),n},transitionTo:function(){var e,t=X.call(arguments);if(x(t[0]))return this._doURLTransition("transitionTo",t[0]);var n=t[t.length-1];e=n&&n.hasOwnProperty("queryParams")?t.pop().queryParams:{};var r=t.shift();return this._doTransition(r,t,e)},intermediateTransitionTo:function(){this.router.intermediateTransitionTo.apply(this.router,arguments),R(this);var e=this.router.currentHandlerInfos;N(this,"namespace").LOG_TRANSITIONS&&S.Logger.log("Intermediate-transitioned into '"+Q._routePath(e)+"'")},replaceWith:function(){return this.transitionTo.apply(this,arguments).method("replace")},generate:function(){var e=this.router.generate.apply(this.router,arguments);return this.location.formatURL(e)},isActive:function(e){var t=this.router;return t.isActive.apply(t,arguments)},isActiveIntent:function(e,t,n){var r=this.router;return r.isActive.apply(r,arguments)},send:function(e,t){this.router.trigger.apply(this.router,arguments)},hasRoute:function(e){return this.router.hasRoute(e)},reset:function(){this.router.reset()},_lookupActiveView:function(e){var t=this._activeViews[e];return t&&t[0]},_connectActiveView:function(e,t){function n(){delete this._activeViews[e]}var r=this._activeViews[e];r&&r[0].off("willDestroyElement",this,r[1]),this._activeViews[e]=[t,n],t.one("willDestroyElement",this,n)},_setupLocation:function(){var e=N(this,"location"),t=N(this,"rootURL");if(t&&this.container&&!this.container.has("-location-setting:root-url")&&this.container.register("-location-setting:root-url",t,{instantiate:!1}),"string"==typeof e&&this.container){var n=this.container.lookup("location:"+e);if("undefined"!=typeof n)e=A(this,"location",n);else{var r={implementation:e};e=A(this,"location",z.create(r))}}null!==e&&"object"==typeof e&&(t&&"string"==typeof t&&(e.rootURL=t),"function"==typeof e.initState&&e.initState())},_getHandlerFunction:function(){var e=Y(null),t=this.container,n=t.lookupFactory("route:basic"),r=this;return function(i){var o="route:"+i,s=t.lookup(o);return e[i]?s:(e[i]=!0,s||(t.register(o,n.extend()),s=t.lookup(o),N(r,"namespace.LOG_ACTIVE_GENERATION")),s.routeName=i,s)}},_setupRouter:function(e,t){var n,r=this;e.getHandler=this._getHandlerFunction();var i=function(){t.setURL(n)};if(e.updateURL=function(e){n=e,F.once(i)},t.replaceURL){var o=function(){t.replaceURL(n)};e.replaceURL=function(e){n=e,F.once(o)}}e.didTransition=function(e){r.didTransition(e)}},_serializeQueryParams:function(e,t){var n={};k(this,e,t,function(e,r,i){var o=i.urlKey;n[o]||(n[o]=[]),n[o].push({qp:i,value:r}),delete t[e]});for(var r in n){var i=n[r],o=i[0].qp;t[o.urlKey]=o.route.serializeQueryParam(i[0].value,o.urlKey,o.type)}},_deserializeQueryParams:function(e,t){k(this,e,t,function(e,n,r){delete t[e],t[r.prop]=r.route.deserializeQueryParam(n,r.urlKey,r.type)})},_pruneDefaultQueryParamValues:function(e,t){var n=this._queryParamsFor(e);for(var r in t){var i=n.map[r];i&&i.sdef===t[r]&&delete t[r]}},_doTransition:function(e,t,n){var r=e||U(this.router),i={};M(i,n),this._prepareQueryParams(r,t,i);var o=q(r,t,i),s=this.router.transitionTo.apply(this.router,o);return w(s),s},_prepareQueryParams:function(e,t,n){this._hydrateUnsuppliedQueryParams(e,t,n),this._serializeQueryParams(e,n),this._pruneDefaultQueryParamValues(e,n)},_queryParamsFor:function(e){if(this._qpCache[e])return this._qpCache[e];var t={},n=[];this._qpCache[e]={map:t,qps:n};for(var r=this.router,i=r.recognizer.handlersFor(e),o=0,s=i.length;s>o;++o){var a=i[o],l=r.getHandler(a.handler),u=N(l,"_qp");u&&(M(t,u.map),n.push.apply(n,u.qps))}return{qps:n,map:t}},_hydrateUnsuppliedQueryParams:function(e,t,n){var r=D(this,e,t),i=r.handlerInfos,o=this._bucketCache;W(this,i);for(var s=0,a=i.length;a>s;++s)for(var l=i[s].handler,u=N(l,"_qp"),c=0,d=u.qps.length;d>c;++c){var h=u.qps[c],f=h.prop in n&&h.prop||h.fprop in n&&h.fprop;if(f)f!==h.fprop&&(n[h.fprop]=n[f],delete n[f]);else{var p=h.cProto,m=N(p,"_cacheMeta"),g=p._calculateCacheKey(h.ctrl,m[h.prop].parts,r.params);n[h.fprop]=o.lookup(g,h.prop,h.def)}}},_scheduleLoadingEvent:function(e,t){this._cancelLoadingEvent(),this._loadingStateTimer=F.scheduleOnce("routerTransitions",this,"_fireLoadingEvent",e,t)},_fireLoadingEvent:function(e,t){this.router.activeTransition&&e.trigger(!0,"loading",e,t)},_cancelLoadingEvent:function(){this._loadingStateTimer&&F.cancel(this._loadingStateTimer),this._loadingStateTimer=null}}),Z={willResolveModel:function(e,t){t.router._scheduleLoadingEvent(e,t)},error:function(e,t,n){var r=n.router,i=_(n,t,function(t,n){var i=C(t,n,"error");return i?void r.intermediateTransitionTo(i,e):!0});return i&&O(n.router,"application_error")?void r.intermediateTransitionTo("application_error",e):void T(e,"Error while processing route: "+t.targetName)},loading:function(e,t){var n=t.router,r=_(t,e,function(t,r){var i=C(t,r,"loading");return i?void n.intermediateTransitionTo(i):e.pivotHandler!==t?!0:void 0});return r&&O(t.router,"application_loading")?void n.intermediateTransitionTo("application_loading"):void 0}};Q.reopenClass({router:null,map:function(e){var t=this.router;t||(t=new G,t._triggerWillChangeContext=E,t._triggerWillLeave=E,t.callbacks=[],t.triggerEvent=I,this.reopenClass({router:t}));var n=j.map(function(){this.resource("application",{path:"/"},function(){for(var n=0;n<t.callbacks.length;n++)t.callbacks[n].call(this);e.call(this)})});return t.callbacks.push(e),t.map(n.generate()),t},_routePath:function(e){function t(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n]!==t[n])return!1;return!0}for(var n,r,i,o=[],s=1,a=e.length;a>s;s++){for(n=e[s].name,r=n.split("."),i=X.call(o);i.length&&!t(i,r);)i.shift();o.push.apply(o,r.slice(i.length))}return o.join(".")}}),y["default"]=Q}),e("ember-routing/utils",["ember-metal/utils","exports"],function(e,t){"use strict";function n(e,t,n){var r=[];return"string"===o(e)&&r.push(""+e),r.push.apply(r,t),r.push({queryParams:n}),r}function r(e){var t=e.activeTransition?e.activeTransition.state.handlerInfos:e.state.handlerInfos;return t[t.length-1].name}function i(e,t){if(!t._namesStashed){for(var n=t[t.length-1].name,r=e.router.recognizer.handlersFor(n),i=null,o=0,s=t.length;s>o;++o){var a=t[o],l=r[o].names;l.length&&(i=a),a._names=l;var u=a.handler;u._stashNames(a,i)}t._namesStashed=!0}}var o=e.typeOf;t.routeArgs=n,t.getActiveTargetName=r,t.stashParamNames=i}),e("ember-runtime",["ember-metal","ember-runtime/core","ember-runtime/compare","ember-runtime/copy","ember-runtime/inject","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/tracked_array","ember-runtime/system/subarray","ember-runtime/system/container","ember-runtime/system/array_proxy","ember-runtime/system/object_proxy","ember-runtime/system/core_object","ember-runtime/system/each_proxy","ember-runtime/system/native_array","ember-runtime/system/set","ember-runtime/system/string","ember-runtime/system/deferred","ember-runtime/system/lazy_load","ember-runtime/mixins/array","ember-runtime/mixins/comparable","ember-runtime/mixins/copyable","ember-runtime/mixins/enumerable","ember-runtime/mixins/freezable","ember-runtime/mixins/-proxy","ember-runtime/mixins/observable","ember-runtime/mixins/action_handler","ember-runtime/mixins/deferred","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/mutable_array","ember-runtime/mixins/target_action_support","ember-runtime/mixins/evented","ember-runtime/mixins/promise_proxy","ember-runtime/mixins/sortable","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/computed/reduce_computed_macros","ember-runtime/controllers/array_controller","ember-runtime/controllers/object_controller","ember-runtime/controllers/controller","ember-runtime/mixins/controller","ember-runtime/system/service","ember-runtime/ext/rsvp","ember-runtime/ext/string","ember-runtime/ext/function","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y,E,_,T,C,O,I,D,R,w,x,k,S,K,N,A,P,L,M,F,B,$,j,H,z,V,q){"use strict";var U=e["default"],W=t.isEqual,Y=n["default"],G=r["default"],X=i["default"],Q=o["default"],Z=s["default"],J=a["default"],ee=l["default"],te=u["default"],ne=c["default"],re=d["default"],ie=h["default"],oe=f.EachArray,se=f.EachProxy,ae=p["default"],le=m["default"],ue=g["default"],ce=v["default"],de=b.onLoad,he=b.runLoadHooks,fe=y["default"],pe=E["default"],me=_["default"],ge=T["default"],ve=C.Freezable,be=C.FROZEN_ERROR,ye=O["default"],Ee=I["default"],_e=D["default"],Te=R["default"],Ce=w["default"],Oe=x["default"],Ie=k["default"],De=S["default"],Re=K["default"],we=N["default"],xe=A.arrayComputed,ke=A.ArrayComputedProperty,Se=P.reduceComputed,Ke=P.ReduceComputedProperty,Ne=L.sum,Ae=L.min,Pe=L.max,Le=L.map,Me=L.sort,Fe=L.setDiff,Be=L.mapBy,$e=L.mapProperty,je=L.filter,He=L.filterBy,ze=L.filterProperty,Ve=L.uniq,qe=L.union,Ue=L.intersect,We=M["default"],Ye=F["default"],Ge=B["default"],Xe=$["default"],Qe=j["default"],Ze=H["default"];U.compare=Y,U.copy=G,U.isEqual=W,U.inject=X,U.Array=fe,U.Comparable=pe,U.Copyable=me,U.SortableMixin=we,U.Freezable=ve,U.FROZEN_ERROR=be,U.DeferredMixin=Te,U.MutableEnumerable=Ce,U.MutableArray=Oe,U.TargetActionSupport=Ie,U.Evented=De,U.PromiseProxyMixin=Re,U.Observable=Ee,U.arrayComputed=xe,U.ArrayComputedProperty=ke,U.reduceComputed=Se,U.ReduceComputedProperty=Ke;var Je=U.computed;Je.sum=Ne,Je.min=Ae,Je.max=Pe,Je.map=Le,Je.sort=Me,Je.setDiff=Fe,Je.mapBy=Be,Je.mapProperty=$e,Je.filter=je,Je.filterBy=He,Je.filterProperty=ze,Je.uniq=Ve,Je.union=qe,Je.intersect=Ue,U.String=ue,U.Object=Z,U.TrackedArray=J,U.SubArray=ee,U.Container=te,U.Namespace=Q,U.Enumerable=ge,U.ArrayProxy=ne,U.ObjectProxy=re,U.ActionHandler=_e,U.CoreObject=ie,U.EachArray=oe,U.EachProxy=se,U.NativeArray=ae,U.Set=le,U.Deferred=ce,U.onLoad=de,U.runLoadHooks=he,U.ArrayController=We,U.ObjectController=Ye,U.Controller=Ge,U.ControllerMixin=Xe,U.Service=Qe,U._ProxyMixin=ye,U.RSVP=Ze,q["default"]=U}),e("ember-runtime/compare",["ember-metal/utils","ember-runtime/mixins/comparable","exports"],function(e,t,n){"use strict";function r(e,t){var n=e-t;return(n>0)-(0>n)}var i=e.typeOf,o=t["default"],s={undefined:0,"null":1,"boolean":2,number:3,string:4,array:5,object:6,instance:7,"function":8,"class":9,date:10};n["default"]=function a(e,t){if(e===t)return 0;var n=i(e),l=i(t);if(o){if("instance"===n&&o.detect(e)&&e.constructor.compare)return e.constructor.compare(e,t);if("instance"===l&&o.detect(t)&&t.constructor.compare)return-1*t.constructor.compare(t,e)}var u=r(s[n],s[l]);if(0!==u)return u;switch(n){case"boolean":case"number":return r(e,t);case"string":return r(e.localeCompare(t),0);case"array":for(var c=e.length,d=t.length,h=Math.min(c,d),f=0;h>f;f++){var p=a(e[f],t[f]);if(0!==p)return p}return r(c,d);case"instance":return o&&o.detect(e)?e.compare(e,t):0;case"date":return r(e.getTime(),t.getTime());default:return 0}}}),e("ember-runtime/computed/array_computed",["ember-metal/core","ember-runtime/computed/reduce_computed","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/observer","ember-metal/error","exports"],function(e,t,n,r,i,o,s){"use strict";function a(){var e=this;return c.apply(this,arguments),this.func=function(t){return function(n){return e._hasInstanceMeta(this,n)||d(e._dependentKeys,function(t){f(this,t,function(){e.recomputeOnce.call(this,n)})},this),t.apply(this,arguments)}}(this.func),this}function l(e){var t;if(arguments.length>1&&(t=m.call(arguments,0,-1),e=m.call(arguments,-1)[0]),"object"!=typeof e)throw new p("Array Computed Property declared without an options hash");var n=new a(e);return t&&n.property.apply(n,t),n}var u=e["default"],c=t.ReduceComputedProperty,d=n.forEach,h=r.create,f=i.addObserver,p=o["default"],m=[].slice;a.prototype=h(c.prototype),a.prototype.initialValue=function(){return u.A()},a.prototype.resetValue=function(e){return e.clear(),e},a.prototype.didChange=function(e,t){},s.arrayComputed=l,s.ArrayComputedProperty=a}),e("ember-runtime/computed/reduce_computed",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/error","ember-metal/property_events","ember-metal/expand_properties","ember-metal/observer","ember-metal/computed","ember-metal/platform","ember-metal/enumerable_utils","ember-runtime/system/tracked_array","ember-runtime/mixins/array","ember-metal/run_loop","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f){"use strict";function p(e,t){return"@this"===t?e:R(e,t)}function m(e,t,n,r,i,o){this.callbacks=e,this.cp=t,this.instanceMeta=n,this.dependentKeysByGuid={},this.trackedArraysByGuid={},this.suspended=!1,this.changedItems={},this.changedItemCount=0}function g(e,t,n){this.dependentArray=e,this.index=t,this.item=e.objectAt(t),this.trackedArray=n,this.beforeObserver=null,this.observer=null,this.destroyed=!1}function v(e,t,n){return 0>e?Math.max(0,t+e):t>e?e:Math.min(t-n,e)}function b(e,t,n){return Math.min(n,t-e)}function y(e,t,n,r,i,o,s){this.arrayChanged=e,this.index=n,this.item=t,this.propertyName=r,this.property=i,this.changedCount=o,s&&(this.previousValues=s)}function E(e,t,n,r,i){j(e,function(o,s){i.setValue(t.addedItem.call(this,i.getValue(),o,new y(e,o,s,r,n,e.length),i.sugarMeta))},this),t.flushedChanges.call(this,i.getValue(),i.sugarMeta)}function _(e,t){var n=e._hasInstanceMeta(this,t),r=e._instanceMeta(this,t);n&&r.setValue(e.resetValue(r.getValue())),e.options.initialize&&e.options.initialize.call(this,r.getValue(),{property:e,propertyName:t},r.sugarMeta)}function T(e,t){if(Q.test(t))return!1;var n=p(e,t);return z.detect(n)}function C(e,t,n){this.context=e,this.propertyName=t,this.cache=x(e).cache,this.dependentArrays={},this.sugarMeta={},this.initialValue=n}function O(e){var t=this;this.options=e,this._dependentKeys=null,this._cacheable=!0,this._itemPropertyKeys={},this._previousItemPropertyKeys={},this.readOnly(),this.recomputeOnce=function(e){V.once(this,n,e)};var n=function(e){var n=t._instanceMeta(this,e),r=t._callbacks();_.call(this,t,e),n.dependentArraysObserver.suspendArrayObservers(function(){j(t._dependentKeys,function(e){if(T(this,e)){var r=p(this,e),i=n.dependentArrays[e];r===i?t._previousItemPropertyKeys[e]&&(delete t._previousItemPropertyKeys[e],n.dependentArraysObserver.setupPropertyObservers(e,t._itemPropertyKeys[e])):(n.dependentArrays[e]=r,i&&n.dependentArraysObserver.teardownObservers(i,e),r&&n.dependentArraysObserver.setupObservers(r,e))}},this)},this),j(t._dependentKeys,function(i){if(T(this,i)){var o=p(this,i);o&&E.call(this,o,r,t,e,n)}},this)};this.func=function(e){return n.call(this,e),t._instanceMeta(this,e).getValue()}}function I(e){return e}function D(e){var t;if(arguments.length>1&&(t=Y.call(arguments,0,-1),e=Y.call(arguments,-1)[0]),"object"!=typeof e)throw new k("Reduce Computed Property declared without an options hash");if(!("initialValue"in e))throw new k("Reduce Computed Property declared without an initial value");var n=new O(e);return t&&n.property.apply(n,t),n}var R=(e["default"],t.get),w=n.guidFor,x=n.meta,k=r["default"],S=i.propertyWillChange,K=i.propertyDidChange,N=o["default"],A=s.addObserver,P=s.removeObserver,L=s.addBeforeObserver,M=s.removeBeforeObserver,F=a.ComputedProperty,B=a.cacheFor,$=l.create,j=u.forEach,H=c["default"],z=d["default"],V=h["default"],q=(n.isArray,B.set),U=B.get,W=B.remove,Y=[].slice,G=/^(.*)\.@each\.(.*)/,X=/(.*\.@each){2,}/,Q=/\.\[\]$/;m.prototype={setValue:function(e){this.instanceMeta.setValue(e,!0)},getValue:function(){return this.instanceMeta.getValue()},setupObservers:function(e,t){this.dependentKeysByGuid[w(e)]=t,e.addArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"}),this.cp._itemPropertyKeys[t]&&this.setupPropertyObservers(t,this.cp._itemPropertyKeys[t])},teardownObservers:function(e,t){var n=this.cp._itemPropertyKeys[t]||[];delete this.dependentKeysByGuid[w(e)],this.teardownPropertyObservers(t,n),e.removeArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"})},suspendArrayObservers:function(e,t){var n=this.suspended;this.suspended=!0,e.call(t),this.suspended=n},setupPropertyObservers:function(e,t){var n=p(this.instanceMeta.context,e),r=p(n,"length"),i=new Array(r);this.resetTransformations(e,i),j(n,function(r,o){var s=this.createPropertyObserverContext(n,o,this.trackedArraysByGuid[e]);i[o]=s,j(t,function(e){L(r,e,this,s.beforeObserver),A(r,e,this,s.observer)},this)},this)},teardownPropertyObservers:function(e,t){var n,r,i,o=this,s=this.trackedArraysByGuid[e];s&&s.apply(function(e,s,a){a!==H.DELETE&&j(e,function(e){e.destroyed=!0,n=e.beforeObserver,r=e.observer,i=e.item,j(t,function(e){M(i,e,o,n),P(i,e,o,r)})})})},createPropertyObserverContext:function(e,t,n){var r=new g(e,t,n);return this.createPropertyObserver(r),r},createPropertyObserver:function(e){var t=this;e.beforeObserver=function(n,r){return t.itemPropertyWillChange(n,r,e.dependentArray,e)},e.observer=function(n,r){return t.itemPropertyDidChange(n,r,e.dependentArray,e)}},resetTransformations:function(e,t){this.trackedArraysByGuid[e]=new H(t)},trackAdd:function(e,t,n){var r=this.trackedArraysByGuid[e];r&&r.addItems(t,n)},trackRemove:function(e,t,n){var r=this.trackedArraysByGuid[e];return r?r.removeItems(t,n):[]},updateIndexes:function(e,t){var n=p(t,"length");e.apply(function(e,t,r,i){r!==H.DELETE&&(0!==i||r!==H.RETAIN||e.length!==n||0!==t)&&j(e,function(e,n){e.index=n+t})})},dependentArrayWillChange:function(e,t,n,r){function i(e){u[l].destroyed=!0,M(s,e,this,u[l].beforeObserver),P(s,e,this,u[l].observer)}if(!this.suspended){var o,s,a,l,u,c=this.callbacks.removedItem,d=w(e),h=this.dependentKeysByGuid[d],f=this.cp._itemPropertyKeys[h]||[],m=p(e,"length"),g=v(t,m,0),E=b(g,m,n);for(u=this.trackRemove(h,g,E),l=E-1;l>=0&&(a=g+l,!(a>=m));--l)s=e.objectAt(a),j(f,i,this),o=new y(e,s,a,this.instanceMeta.propertyName,this.cp,E),this.setValue(c.call(this.instanceMeta.context,this.getValue(),s,o,this.instanceMeta.sugarMeta));this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)}},dependentArrayDidChange:function(e,t,n,r){if(!this.suspended){var i,o,s=this.callbacks.addedItem,a=w(e),l=this.dependentKeysByGuid[a],u=new Array(r),c=this.cp._itemPropertyKeys[l],d=p(e,"length"),h=v(t,d,r),f=h+r;j(e.slice(h,f),function(t,n){c&&(o=this.createPropertyObserverContext(e,h+n,this.trackedArraysByGuid[l]),u[n]=o,j(c,function(e){
L(t,e,this,o.beforeObserver),A(t,e,this,o.observer)},this)),i=new y(e,t,h+n,this.instanceMeta.propertyName,this.cp,r),this.setValue(s.call(this.instanceMeta.context,this.getValue(),t,i,this.instanceMeta.sugarMeta))},this),this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta),this.trackAdd(l,h,u)}},itemPropertyWillChange:function(e,t,n,r){var i=w(e);this.changedItems[i]||(this.changedItems[i]={array:n,observerContext:r,obj:e,previousValues:{}}),++this.changedItemCount,this.changedItems[i].previousValues[t]=p(e,t)},itemPropertyDidChange:function(e,t,n,r){0===--this.changedItemCount&&this.flushChanges()},flushChanges:function(){var e,t,n,r=this.changedItems;for(e in r)t=r[e],t.observerContext.destroyed||(this.updateIndexes(t.observerContext.trackedArray,t.observerContext.dependentArray),n=new y(t.array,t.obj,t.observerContext.index,this.instanceMeta.propertyName,this.cp,r.length,t.previousValues),this.setValue(this.callbacks.removedItem.call(this.instanceMeta.context,this.getValue(),t.obj,n,this.instanceMeta.sugarMeta)),this.setValue(this.callbacks.addedItem.call(this.instanceMeta.context,this.getValue(),t.obj,n,this.instanceMeta.sugarMeta)));this.changedItems={},this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)}},C.prototype={getValue:function(){var e=U(this.cache,this.propertyName);return void 0!==e?e:this.initialValue},setValue:function(e,t){e!==U(this.cache,this.propertyName)&&(t&&S(this.context,this.propertyName),void 0===e?W(this.cache,this.propertyName):q(this.cache,this.propertyName,e),t&&K(this.context,this.propertyName))}},f.ReduceComputedProperty=O,O.prototype=$(F.prototype),O.prototype._callbacks=function(){if(!this.callbacks){var e=this.options;this.callbacks={removedItem:e.removedItem||I,addedItem:e.addedItem||I,flushedChanges:e.flushedChanges||I}}return this.callbacks},O.prototype._hasInstanceMeta=function(e,t){return!!x(e).cacheMeta[t]},O.prototype._instanceMeta=function(e,t){var n=x(e).cacheMeta,r=n[t];return r||(r=n[t]=new C(e,t,this.initialValue()),r.dependentArraysObserver=new m(this._callbacks(),this,r,e,t,r.sugarMeta)),r},O.prototype.initialValue=function(){return"function"==typeof this.options.initialValue?this.options.initialValue():this.options.initialValue},O.prototype.resetValue=function(e){return this.initialValue()},O.prototype.itemPropertyKey=function(e,t){this._itemPropertyKeys[e]=this._itemPropertyKeys[e]||[],this._itemPropertyKeys[e].push(t)},O.prototype.clearItemPropertyKeys=function(e){this._itemPropertyKeys[e]&&(this._previousItemPropertyKeys[e]=this._itemPropertyKeys[e],this._itemPropertyKeys[e]=[])},O.prototype.property=function(){var e,t,n=this,r=Y.call(arguments),i={};j(r,function(r){if(X.test(r))throw new k("Nested @each properties not supported: "+r);if(e=G.exec(r)){t=e[1];var o=e[2],s=function(e){n.itemPropertyKey(t,e)};N(o,s),i[w(t)]=t}else i[w(r)]=r});var o=[];for(var s in i)o.push(i[s]);return F.prototype.property.apply(this,o)},f.reduceComputed=D}),e("ember-runtime/computed/reduce_computed_macros",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/run_loop","ember-metal/observer","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/system/subarray","ember-metal/keys","ember-runtime/compare","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h){"use strict";function f(e){return P(e,{initialValue:0,addedItem:function(e,t,n,r){return e+t},removedItem:function(e,t,n,r){return e-t}})}function p(e){return P(e,{initialValue:-(1/0),addedItem:function(e,t,n,r){return Math.max(e,t)},removedItem:function(e,t,n,r){return e>t?e:void 0}})}function m(e){return P(e,{initialValue:1/0,addedItem:function(e,t,n,r){return Math.min(e,t)},removedItem:function(e,t,n,r){return t>e?e:void 0}})}function g(e,t){var n={addedItem:function(e,n,r,i){var o=t.call(this,n,r.index);return e.insertAt(r.index,o),e},removedItem:function(e,t,n,r){return e.removeAt(n.index,1),e}};return A(e,n)}function v(e,t){var n=function(e){return w(e,t)};return g(e+".@each."+t,n)}function b(e,t){var n={initialize:function(e,t,n){n.filteredArrayIndexes=new L},addedItem:function(e,n,r,i){var o=!!t.call(this,n,r.index,r.arrayChanged),s=i.filteredArrayIndexes.addItem(r.index,o);return o&&e.insertAt(s,n),e},removedItem:function(e,t,n,r){var i=r.filteredArrayIndexes.removeItem(n.index);return i>-1&&e.removeAt(i),e}};return A(e,n)}function y(e,t,n){var r;return r=2===arguments.length?function(e){return w(e,t)}:function(e){return w(e,t)===n},b(e+".@each."+t,r)}function E(){var e=B.call(arguments);return e.push({initialize:function(e,t,n){n.itemCounts={}},addedItem:function(e,t,n,r){var i=x(t);return r.itemCounts[i]?++r.itemCounts[i]:(r.itemCounts[i]=1,e.pushObject(t)),e},removedItem:function(e,t,n,r){var i=x(t),o=r.itemCounts;return 0===--o[i]&&e.removeObject(t),e}}),A.apply(null,e)}function _(){var e=B.call(arguments);return e.push({initialize:function(e,t,n){n.itemCounts={}},addedItem:function(e,t,n,r){var i=x(t),o=x(n.arrayChanged),s=n.property._dependentKeys.length,a=r.itemCounts;return a[i]||(a[i]={}),void 0===a[i][o]&&(a[i][o]=0),1===++a[i][o]&&s===M(a[i]).length&&e.addObject(t),e},removedItem:function(e,t,n,r){var i,o=x(t),s=x(n.arrayChanged),a=r.itemCounts;return void 0===a[o][s]&&(a[o][s]=0),0===--a[o][s]&&(delete a[o][s],i=M(a[o]).length,0===i&&delete a[o],e.removeObject(t)),e}}),A.apply(null,e)}function T(e,t){if(2!==arguments.length)throw new k("setDiff requires exactly two dependent arrays.");return A(e,t,{addedItem:function(n,r,i,o){var s=w(this,e),a=w(this,t);return i.arrayChanged===s?a.contains(r)||n.addObject(r):n.removeObject(r),n},removedItem:function(n,r,i,o){var s=w(this,e),a=w(this,t);return i.arrayChanged===a?s.contains(r)&&n.addObject(r):n.removeObject(r),n}})}function C(e,t,n,r){var i,o,s,a,l;return arguments.length<4&&(r=w(e,"length")),arguments.length<3&&(n=0),n===r?n:(i=n+Math.floor((r-n)/2),o=e.objectAt(i),a=x(o),l=x(t),a===l?i:(s=this.order(o,t),0===s&&(s=l>a?-1:1),0>s?this.binarySearch(e,t,i+1,r):s>0?this.binarySearch(e,t,n,i):i))}function O(e,t){return"function"==typeof t?I(e,t):D(e,t)}function I(e,t){return A(e,{initialize:function(e,n,r){r.order=t,r.binarySearch=C,r.waitingInsertions=[],r.insertWaiting=function(){var t,n,i=r.waitingInsertions;r.waitingInsertions=[];for(var o=0;o<i.length;o++)n=i[o],t=r.binarySearch(e,n),e.insertAt(t,n)},r.insertLater=function(e){this.waitingInsertions.push(e)}},addedItem:function(e,t,n,r){return r.insertLater(t),e},removedItem:function(e,t,n,r){return e.removeObject(t),e},flushedChanges:function(e,t){t.insertWaiting()}})}function D(e,t){return A(e,{initialize:function(n,r,i){function o(){var n,o,a,l=w(this,t),u=i.sortProperties=[],c=i.sortPropertyAscending={};r.property.clearItemPropertyKeys(e),S(l,function(t){-1!==(o=t.indexOf(":"))?(n=t.substring(0,o),a="desc"!==t.substring(o+1).toLowerCase()):(n=t,a=!0),u.push(n),c[n]=a,r.property.itemPropertyKey(e,n)}),l.addObserver("@each",this,s)}function s(){K.once(this,a,r.propertyName)}function a(e){o.call(this),r.property.recomputeOnce.call(this,e)}N(this,t,s),o.call(this),i.order=function(e,t){for(var n,r,i,o=this.keyFor(e),s=this.keyFor(t),a=0;a<this.sortProperties.length;++a)if(n=this.sortProperties[a],r=F(o[n],s[n]),0!==r)return i=this.sortPropertyAscending[n],i?r:-1*r;return 0},i.binarySearch=C,R(i)},addedItem:function(e,t,n,r){var i=r.binarySearch(e,t);return e.insertAt(i,t),e},removedItem:function(e,t,n,r){var i=r.binarySearch(e,t);return e.removeAt(i),r.dropKeyFor(t),e}})}function R(e){e.keyFor=function(e){var t=x(e);if(this.keyCache[t])return this.keyCache[t];for(var n,r={},i=0;i<this.sortProperties.length;++i)n=this.sortProperties[i],r[n]=w(e,n);return this.keyCache[t]=r},e.dropKeyFor=function(e){var t=x(e);this.keyCache[t]=null},e.keyCache={}}var w=(e["default"],t.get),x=(n.isArray,n.guidFor),k=r["default"],S=i.forEach,K=o["default"],N=s.addObserver,A=a.arrayComputed,P=l.reduceComputed,L=u["default"],M=c["default"],F=d["default"],B=[].slice;h.sum=f,h.max=p,h.min=m,h.map=g,h.mapBy=v;var $=v;h.mapProperty=$,h.filter=b,h.filterBy=y;var j=y;h.filterProperty=j,h.uniq=E;var H=E;h.union=H,h.intersect=_,h.setDiff=T,h.sort=O}),e("ember-runtime/controllers/array_controller",["ember-metal/core","ember-metal/property_get","ember-metal/enumerable_utils","ember-runtime/system/array_proxy","ember-runtime/mixins/sortable","ember-runtime/mixins/controller","ember-metal/computed","ember-metal/error","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";var u=e["default"],c=t.get,d=n.forEach,h=n.replace,f=r["default"],p=i["default"],m=o["default"],g=s.computed,v=a["default"];l["default"]=f.extend(m,p,{itemController:null,lookupItemController:function(e){return c(this,"itemController")},objectAtContent:function(e){var t,n=c(this,"length"),r=c(this,"arrangedContent"),i=r&&r.objectAt(e);return e>=0&&n>e&&(t=this.lookupItemController(i))?this.controllerAt(e,i,t):i},arrangedContentDidChange:function(){this._super(),this._resetSubControllers()},arrayContentDidChange:function(e,t,n){var r=this._subControllers;if(r.length){var i=r.slice(e,e+t);d(i,function(e){e&&e.destroy()}),h(r,e,t,new Array(n))}this._super(e,t,n)},init:function(){this._super(),this._subControllers=[]},model:g(function(){return u.A()}),_isVirtual:!1,controllerAt:function(e,t,n){var r,i,o,s=c(this,"container"),a=this._subControllers;if(a.length>e&&(i=a[e]))return i;if(o=this._isVirtual?c(this,"parentController"):this,r="controller:"+n,!s.has(r))throw new v('Could not resolve itemController: "'+n+'"');return i=s.lookupFactory(r).create({target:o,parentController:o,model:t}),a[e]=i,i},_subControllers:null,_resetSubControllers:function(){var e,t=this._subControllers;if(t.length){for(var n=0,r=t.length;r>n;n++)e=t[n],e&&e.destroy();t.length=0}},willDestroy:function(){this._resetSubControllers(),this._super()}})}),e("ember-runtime/controllers/controller",["ember-metal/core","ember-runtime/system/object","ember-runtime/mixins/controller","ember-runtime/inject","exports"],function(e,t,n,r,i){"use strict";function o(e){}var s=(e["default"],t["default"]),a=n["default"],l=r.createInjectionHelper,u=s.extend(a);l("controller",o),i["default"]=u}),e("ember-runtime/controllers/object_controller",["ember-runtime/mixins/controller","ember-runtime/system/object_proxy","exports"],function(e,t,n){"use strict";var r=e["default"],i=t["default"];n["default"]=i.extend(r)}),e("ember-runtime/copy",["ember-metal/enumerable_utils","ember-metal/utils","ember-runtime/system/object","ember-runtime/mixins/copyable","exports"],function(e,t,n,r,i){"use strict";function o(e,t,n,r){var i,u,c;if("object"!=typeof e||null===e)return e;if(t&&(u=s(n,e))>=0)return r[u];if("array"===a(e)){if(i=e.slice(),t)for(u=i.length;--u>=0;)i[u]=o(i[u],t,n,r)}else if(l&&l.detect(e))i=e.copy(t,n,r);else if(e instanceof Date)i=new Date(e.getTime());else{i={};for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&"__"!==c.substring(0,2)&&(i[c]=t?o(e[c],t,n,r):e[c])}return t&&(n.push(e),r.push(i)),i}var s=e.indexOf,a=t.typeOf,l=(n["default"],r["default"]);i["default"]=function(e,t){return"object"!=typeof e||null===e?e:l&&l.detect(e)?e.copy(t):o(e,t,t?[]:null,t?[]:null)}}),e("ember-runtime/core",["exports"],function(e){"use strict";var t=function(e,t){return e&&"function"==typeof e.isEqual?e.isEqual(t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t};e.isEqual=t}),e("ember-runtime/ext/function",["ember-metal/core","ember-metal/expand_properties","ember-metal/computed","ember-metal/mixin"],function(e,t,n,r){"use strict";var i=e["default"],o=t["default"],s=n.computed,a=r.observer,l=Array.prototype.slice,u=Function.prototype;(i.EXTEND_PROTOTYPES===!0||i.EXTEND_PROTOTYPES.Function)&&(u.property=function(){var e=s(this);return e.property.apply(e,arguments)},u.observes=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return a.apply(this,t.concat(this))},u.observesImmediately=function(){return this.observes.apply(this,arguments)},u.observesBefore=function(){for(var e=[],t=function(t){e.push(t)},n=0,r=arguments.length;r>n;++n)o(arguments[n],t);return this.__ember_observesBefore__=e,this},u.on=function(){var e=l.call(arguments);return this.__ember_listens__=e,this})}),e("ember-runtime/ext/rsvp",["ember-metal/core","ember-metal/logger","ember-metal/run_loop","rsvp","exports"],function(e,n,r,i,o){"use strict";var s,a=e["default"],l=n["default"],u=r["default"],c=i,d="ember-testing/test",h=function(){a.Test&&a.Test.adapter&&a.Test.adapter.asyncStart()},f=function(){a.Test&&a.Test.adapter&&a.Test.adapter.asyncEnd()};c.configure("async",function(e,t){var n=!u.currentRunLoop;a.testing&&n&&h(),u.backburner.schedule("actions",function(){a.testing&&n&&f(),e(t)})}),c.Promise.prototype.fail=function(e,t){return this["catch"](e,t)},c.onerrorDefault=function(e){var n;if(e&&e.errorThrown?(n=e.errorThrown,"string"==typeof n&&(n=new Error(n)),n.__reason_with_error_thrown__=e):n=e,n&&"TransitionAborted"!==n.name)if(a.testing){if(!s&&a.__loader.registry[d]&&(s=t(d)["default"]),!s||!s.adapter)throw n;s.adapter.exception(n),l.error(n.stack)}else a.onerror?a.onerror(n):l.error(n.stack)},c.on("error",c.onerrorDefault),o["default"]=c}),e("ember-runtime/ext/string",["ember-metal/core","ember-runtime/system/string"],function(e,t){"use strict";var n=e["default"],r=t.fmt,i=t.w,o=t.loc,s=t.camelize,a=t.decamelize,l=t.dasherize,u=t.underscore,c=t.capitalize,d=t.classify,h=String.prototype;(n.EXTEND_PROTOTYPES===!0||n.EXTEND_PROTOTYPES.String)&&(h.fmt=function(){return r(this,arguments)},h.w=function(){return i(this)},h.loc=function(){return o(this,arguments)},h.camelize=function(){return s(this)},h.decamelize=function(){return a(this)},h.dasherize=function(){return l(this)},h.underscore=function(){return u(this)},h.classify=function(){return d(this)},h.capitalize=function(){return c(this)})}),e("ember-runtime/inject",["ember-metal/core","ember-metal/enumerable_utils","ember-metal/utils","ember-metal/injected_property","ember-metal/keys","exports"],function(e,t,n,r,i,o){"use strict";function s(){}function a(e,t){h[e]=t,s[e]=function(t){return new d(e,t)}}function l(e){var t,n,r,i,o,s=e.proto(),a=c(s).descs,l=[];for(t in a)n=a[t],n instanceof d&&-1===u(l,n.type)&&l.push(n.type);if(l.length)for(i=0,o=l.length;o>i;i++)r=h[l[i]],"function"==typeof r&&r(e);return!0}var u=(e["default"],t.indexOf),c=n.meta,d=r["default"],h=(i["default"],{});o.createInjectionHelper=a,o.validatePropertyInjections=l,o["default"]=s}),e("ember-runtime/mixins/-proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/property_events","ember-metal/computed","ember-metal/properties","ember-metal/mixin","ember-runtime/system/string","exports"],function(e,t,n,r,i,o,s,a,l,u,c){"use strict";function d(e,t){var n=t.slice(8);n in this||E(this,n)}function h(e,t){var n=t.slice(8);n in this||_(this,n)}{var f=(e["default"],t.get),p=n.set,m=r.meta,g=i.addObserver,v=i.removeObserver,b=i.addBeforeObserver,y=i.removeBeforeObserver,E=o.propertyWillChange,_=o.propertyDidChange,T=s.computed,C=a.defineProperty,O=l.Mixin,I=l.observer;u.fmt}c["default"]=O.create({content:null,_contentDidChange:I("content",function(){}),isTruthy:T.bool("content"),_debugContainerKey:null,willWatchProperty:function(e){var t="content."+e;b(this,t,null,d),g(this,t,null,h)},didUnwatchProperty:function(e){var t="content."+e;y(this,t,null,d),v(this,t,null,h)},unknownProperty:function(e){var t=f(this,"content");return t?f(t,e):void 0},setUnknownProperty:function(e,t){var n=m(this);if(n.proto===this)return C(this,e,null,t),t;var r=f(this,"content");return p(r,e,t)}})}),e("ember-runtime/mixins/action_handler",["ember-metal/merge","ember-metal/mixin","ember-metal/property_get","ember-metal/utils","exports"],function(e,t,n,r,i){"use strict";var o=e["default"],s=t.Mixin,a=n.get,l=r.typeOf,u=s.create({mergedProperties:["_actions"],willMergeMixin:function(e){var t;e._actions||("object"===l(e.actions)?t="actions":"object"===l(e.events)&&(t="events"),t&&(e._actions=o(e._actions||{},e[t])),delete e[t])},send:function(e){var t,n=[].slice.call(arguments,1);this._actions&&this._actions[e]&&this._actions[e].apply(this,n)!==!0||(t=a(this,"target"))&&t.send.apply(t,arguments)}});i["default"]=u}),e("ember-runtime/mixins/array",["ember-metal/core","ember-metal/property_get","ember-metal/computed","ember-metal/is_none","ember-runtime/mixins/enumerable","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/property_events","ember-metal/events","ember-metal/watching","exports"],function(e,n,r,i,o,s,a,l,u,c,d){"use strict";function h(e,t,n,r,i){var o=n&&n.willChange||"arrayWillChange",s=n&&n.didChange||"arrayDidChange",a=p(e,"hasArrayObservers");return a===i&&T(e,"hasArrayObservers"),r(e,"@array:before",t,o),r(e,"@array:change",t,s),a===i&&C(e,"hasArrayObservers"),e}var f=e["default"],p=n.get,m=r.computed,g=r.cacheFor,v=i["default"],b=o["default"],y=s.map,E=a.Mixin,_=a.required,T=l.propertyWillChange,C=l.propertyDidChange,O=u.addListener,I=u.removeListener,D=u.sendEvent,R=u.hasListeners,w=c.isWatching;d["default"]=E.create(b,{length:_(),objectAt:function(e){return 0>e||e>=p(this,"length")?void 0:p(this,e)},objectsAt:function(e){var t=this;return y(e,function(e){return t.objectAt(e)})},nextObject:function(e){return this.objectAt(e)},"[]":m(function(e,t){return void 0!==t&&this.replace(0,p(this,"length"),t),this}),firstObject:m(function(){return this.objectAt(0)}),lastObject:m(function(){return this.objectAt(p(this,"length")-1)}),contains:function(e){return this.indexOf(e)>=0},slice:function(e,t){var n=f.A(),r=p(this,"length");for(v(e)&&(e=0),(v(t)||t>r)&&(t=r),0>e&&(e=r+e),0>t&&(t=r+t);t>e;)n[n.length]=this.objectAt(e++);return n},indexOf:function(e,t){var n,r=p(this,"length");for(void 0===t&&(t=0),0>t&&(t+=r),n=t;r>n;n++)if(this.objectAt(n)===e)return n;return-1},lastIndexOf:function(e,t){var n,r=p(this,"length");for((void 0===t||t>=r)&&(t=r-1),0>t&&(t+=r),n=t;n>=0;n--)if(this.objectAt(n)===e)return n;return-1},addArrayObserver:function(e,t){return h(this,e,t,O,!1)},removeArrayObserver:function(e,t){return h(this,e,t,I,!0)},hasArrayObservers:m(function(){return R(this,"@array:change")||R(this,"@array:before")}),arrayContentWillChange:function(e,t,n){var r,i;if(void 0===e?(e=0,t=n=-1):(void 0===t&&(t=-1),void 0===n&&(n=-1)),w(this,"@each")&&p(this,"@each"),D(this,"@array:before",[this,e,t,n]),e>=0&&t>=0&&p(this,"hasEnumerableObservers")){r=[],i=e+t;for(var o=e;i>o;o++)r.push(this.objectAt(o))}else r=t;return this.enumerableContentWillChange(r,n),this},arrayContentDidChange:function(e,t,n){var r,i;if(void 0===e?(e=0,t=n=-1):(void 0===t&&(t=-1),void 0===n&&(n=-1)),e>=0&&n>=0&&p(this,"hasEnumerableObservers")){r=[],i=e+n;for(var o=e;i>o;o++)r.push(this.objectAt(o))}else r=n;this.enumerableContentDidChange(t,r),D(this,"@array:change",[this,e,t,n]);var s=p(this,"length"),a=g(this,"firstObject"),l=g(this,"lastObject");return this.objectAt(0)!==a&&(T(this,"firstObject"),C(this,"firstObject")),this.objectAt(s-1)!==l&&(T(this,"lastObject"),C(this,"lastObject")),this},"@each":m(function(){if(!this.__each){var e=t("ember-runtime/system/each_proxy").EachProxy;this.__each=new e(this)}return this.__each})})}),e("ember-runtime/mixins/comparable",["ember-metal/mixin","exports"],function(e,t){"use strict";var n=e.Mixin,r=e.required;t["default"]=n.create({compare:r(Function)})}),e("ember-runtime/mixins/controller",["ember-metal/mixin","ember-metal/computed","ember-runtime/mixins/action_handler","ember-runtime/mixins/controller_content_model_alias_deprecation","exports"],function(e,t,n,r,i){"use strict";var o=e.Mixin,s=t.computed,a=n["default"],l=r["default"];i["default"]=o.create(a,l,{isController:!0,target:null,container:null,parentController:null,store:null,model:null,content:s.alias("model")})}),e("ember-runtime/mixins/controller_content_model_alias_deprecation",["ember-metal/core","ember-metal/mixin","exports"],function(e,t,n){"use strict";var r=(e["default"],t.Mixin);n["default"]=r.create({willMergeMixin:function(e){this._super.apply(this,arguments);var t=!!e.model;e.content&&!t&&(e.model=e.content,delete e.content)}})}),e("ember-runtime/mixins/copyable",["ember-metal/property_get","ember-metal/mixin","ember-runtime/mixins/freezable","ember-runtime/system/string","ember-metal/error","exports"],function(e,t,n,r,i,o){"use strict";var s=e.get,a=t.required,l=n.Freezable,u=t.Mixin,c=r.fmt,d=i["default"];o["default"]=u.create({copy:a(Function),frozenCopy:function(){if(l&&l.detect(this))return s(this,"isFrozen")?this:this.copy().freeze();throw new d(c("%@ does not support freezing",[this]))}})}),e("ember-runtime/mixins/deferred",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","ember-metal/computed","ember-runtime/ext/rsvp","exports"],function(e,t,n,r,i,o){"use strict";var s=(e["default"],t.get),a=n.Mixin,l=r.computed,u=i["default"];o["default"]=a.create({then:function(e,t,n){function r(t){return e(t===o?a:t)}var i,o,a;return a=this,i=s(this,"_deferred"),o=i.promise,o.then(e&&r,t,n)},resolve:function(e){var t,n;t=s(this,"_deferred"),n=t.promise,t.resolve(e===this?n:e)},reject:function(e){s(this,"_deferred").reject(e)},_deferred:l(function(){return u.defer("Ember: DeferredMixin - "+this)})})}),e("ember-runtime/mixins/enumerable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/property_events","ember-metal/events","ember-runtime/compare","exports"],function(e,t,n,r,i,o,s,a,l,u,c){"use strict";function d(){return 0===S.length?{}:S.pop()}function h(e){return S.push(e),null}function f(e,t){function n(n){var i=m(n,e);return r?t===i:!!i}var r=2===arguments.length;return n}var p=e["default"],m=t.get,g=n.set,v=r.apply,b=i.Mixin,y=i.required,E=i.aliasMethod,_=o.indexOf,T=s.computed,C=a.propertyWillChange,O=a.propertyDidChange,I=l.addListener,D=l.removeListener,R=l.sendEvent,w=l.hasListeners,x=u["default"],k=Array.prototype.slice,S=[];c["default"]=b.create({nextObject:y(Function),firstObject:T("[]",function(){if(0===m(this,"length"))return void 0;var e=d(),t=this.nextObject(0,null,e);return h(e),t}),lastObject:T("[]",function(){var e=m(this,"length");if(0===e)return void 0;var t,n=d(),r=0,i=null;do i=t,t=this.nextObject(r++,i,n);while(void 0!==t);return h(n),i}),contains:function(e){var t=this.find(function(t){return t===e});return void 0!==t},forEach:function(e,t){if("function"!=typeof e)throw new TypeError;var n=d(),r=m(this,"length"),i=null;void 0===t&&(t=null);for(var o=0;r>o;o++){var s=this.nextObject(o,i,n);e.call(t,s,o,this),i=s}return i=null,n=h(n),this},getEach:function(e){return this.mapBy(e)},setEach:function(e,t){return this.forEach(function(n){g(n,e,t)})},map:function(e,t){var n=p.A();return this.forEach(function(r,i,o){n[i]=e.call(t,r,i,o)}),n},mapBy:function(e){return this.map(function(t){return m(t,e)})},mapProperty:E("mapBy"),filter:function(e,t){var n=p.A();return this.forEach(function(r,i,o){e.call(t,r,i,o)&&n.push(r)}),n},reject:function(e,t){return this.filter(function(){return!v(t,e,arguments)})},filterBy:function(e,t){return this.filter(v(this,f,arguments))},filterProperty:E("filterBy"),rejectBy:function(e,t){var n=function(n){return m(n,e)===t},r=function(t){return!!m(t,e)},i=2===arguments.length?n:r;return this.reject(i)},rejectProperty:E("rejectBy"),find:function(e,t){var n=m(this,"length");void 0===t&&(t=null);for(var r,i,o=d(),s=!1,a=null,l=0;n>l&&!s;l++)r=this.nextObject(l,a,o),(s=e.call(t,r,l,this))&&(i=r),a=r;return r=a=null,o=h(o),i},findBy:function(e,t){return this.find(v(this,f,arguments))},findProperty:E("findBy"),every:function(e,t){return!this.find(function(n,r,i){return!e.call(t,n,r,i)})},everyBy:E("isEvery"),everyProperty:E("isEvery"),isEvery:function(e,t){return this.every(v(this,f,arguments))},any:function(e,t){var n,r,i=m(this,"length"),o=d(),s=!1,a=null;for(void 0===t&&(t=null),r=0;i>r&&!s;r++)n=this.nextObject(r,a,o),s=e.call(t,n,r,this),a=n;return n=a=null,o=h(o),s},some:E("any"),isAny:function(e,t){return this.any(v(this,f,arguments))},anyBy:E("isAny"),someProperty:E("isAny"),reduce:function(e,t,n){if("function"!=typeof e)throw new TypeError;var r=t;return this.forEach(function(t,i){r=e(r,t,i,this,n)},this),r},invoke:function(e){var t,n=p.A();return arguments.length>1&&(t=k.call(arguments,1)),this.forEach(function(r,i){var o=r&&r[e];"function"==typeof o&&(n[i]=t?v(r,o,t):r[e]())},this),n},toArray:function(){var e=p.A();return this.forEach(function(t,n){e[n]=t}),e},compact:function(){return this.filter(function(e){return null!=e})},without:function(e){if(!this.contains(e))return this;var t=p.A();return this.forEach(function(n){n!==e&&(t[t.length]=n)}),t},uniq:function(){var e=p.A();return this.forEach(function(t){_(e,t)<0&&e.push(t)}),e},"[]":T(function(e,t){return this}),addEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",r=t&&t.didChange||"enumerableDidChange",i=m(this,"hasEnumerableObservers");return i||C(this,"hasEnumerableObservers"),I(this,"@enumerable:before",e,n),I(this,"@enumerable:change",e,r),i||O(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(e,t){var n=t&&t.willChange||"enumerableWillChange",r=t&&t.didChange||"enumerableDidChange",i=m(this,"hasEnumerableObservers");return i&&C(this,"hasEnumerableObservers"),D(this,"@enumerable:before",e,n),D(this,"@enumerable:change",e,r),i&&O(this,"hasEnumerableObservers"),this},hasEnumerableObservers:T(function(){return w(this,"@enumerable:change")||w(this,"@enumerable:before")}),enumerableContentWillChange:function(e,t){var n,r,i;return n="number"==typeof e?e:e?m(e,"length"):e=-1,r="number"==typeof t?t:t?m(t,"length"):t=-1,i=0>r||0>n||r-n!==0,-1===e&&(e=null),-1===t&&(t=null),C(this,"[]"),i&&C(this,"length"),R(this,"@enumerable:before",[this,e,t]),this},enumerableContentDidChange:function(e,t){var n,r,i;return n="number"==typeof e?e:e?m(e,"length"):e=-1,r="number"==typeof t?t:t?m(t,"length"):t=-1,i=0>r||0>n||r-n!==0,-1===e&&(e=null),-1===t&&(t=null),R(this,"@enumerable:change",[this,e,t]),i&&O(this,"length"),O(this,"[]"),this},sortBy:function(){var e=arguments;return this.toArray().sort(function(t,n){for(var r=0;r<e.length;r++){var i=e[r],o=m(t,i),s=m(n,i),a=x(o,s);if(a)return a}return 0})}})}),e("ember-runtime/mixins/evented",["ember-metal/mixin","ember-metal/events","exports"],function(e,t,n){"use strict";var r=e.Mixin,i=t.addListener,o=t.removeListener,s=t.hasListeners,a=t.sendEvent;n["default"]=r.create({on:function(e,t,n){return i(this,e,t,n),this},one:function(e,t,n){return n||(n=t,t=null),i(this,e,t,n,!0),this},trigger:function(e){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];a(this,e,n)},off:function(e,t,n){return o(this,e,t,n),this},has:function(e){return s(this,e)}})}),e("ember-runtime/mixins/freezable",["ember-metal/mixin","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,n,r){"use strict";var i=e.Mixin,o=t.get,s=n.set,a=i.create({isFrozen:!1,freeze:function(){return o(this,"isFrozen")?this:(s(this,"isFrozen",!0),this)}});r.Freezable=a;var l="Frozen object cannot be modified.";r.FROZEN_ERROR=l}),e("ember-runtime/mixins/mutable_array",["ember-metal/property_get","ember-metal/utils","ember-metal/error","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","exports"],function(e,t,n,r,i,o,s,a){"use strict";var l="Index out of range",u=[],c=e.get,d=t.isArray,h=n["default"],f=r.Mixin,p=r.required,m=i["default"],g=o["default"],v=s["default"];a["default"]=f.create(m,g,{replace:p(),clear:function(){var e=c(this,"length");return 0===e?this:(this.replace(0,e,u),this)},insertAt:function(e,t){if(e>c(this,"length"))throw new h(l);return this.replace(e,0,[t]),this},removeAt:function(e,t){if("number"==typeof e){if(0>e||e>=c(this,"length"))throw new h(l);void 0===t&&(t=1),this.replace(e,t,u)}return this},pushObject:function(e){return this.insertAt(c(this,"length"),e),e},pushObjects:function(e){if(!v.detect(e)&&!d(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this.replace(c(this,"length"),0,e),this},popObject:function(){var e=c(this,"length");if(0===e)return null;var t=this.objectAt(e-1);return this.removeAt(e-1,1),t},shiftObject:function(){if(0===c(this,"length"))return null;var e=this.objectAt(0);return this.removeAt(0),e},unshiftObject:function(e){return this.insertAt(0,e),e},unshiftObjects:function(e){return this.replace(0,0,e),this},reverseObjects:function(){var e=c(this,"length");if(0===e)return this;var t=this.toArray().reverse();return this.replace(0,e,t),this},setObjects:function(e){if(0===e.length)return this.clear();var t=c(this,"length");return this.replace(0,t,e),this},removeObject:function(e){for(var t=c(this,"length")||0;--t>=0;){var n=this.objectAt(t);n===e&&this.removeAt(t)}return this},addObject:function(e){return this.contains(e)||this.pushObject(e),this}})}),e("ember-runtime/mixins/mutable_enumerable",["ember-metal/enumerable_utils","ember-runtime/mixins/enumerable","ember-metal/mixin","ember-metal/property_events","exports"],function(e,t,n,r,i){"use strict";var o=e.forEach,s=t["default"],a=n.Mixin,l=n.required,u=r.beginPropertyChanges,c=r.endPropertyChanges;i["default"]=a.create(s,{addObject:l(Function),addObjects:function(e){return u(this),o(e,function(e){this.addObject(e)},this),c(this),this},removeObject:l(Function),removeObjects:function(e){u(this);for(var t=e.length-1;t>=0;t--)this.removeObject(e[t]);return c(this),this}})}),e("ember-runtime/mixins/observable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/get_properties","ember-metal/set_properties","ember-metal/mixin","ember-metal/events","ember-metal/property_events","ember-metal/observer","ember-metal/computed","ember-metal/is_none","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h){"use strict";var f=(e["default"],t.get),p=t.getWithDefault,m=n.set,g=r.apply,v=i["default"],b=o["default"],y=s.Mixin,E=a.hasListeners,_=l.beginPropertyChanges,T=l.propertyWillChange,C=l.propertyDidChange,O=l.endPropertyChanges,I=u.addObserver,D=u.addBeforeObserver,R=u.removeObserver,w=u.observersFor,x=c.cacheFor,k=d["default"],S=Array.prototype.slice;h["default"]=y.create({get:function(e){return f(this,e)},getProperties:function(){return g(null,v,[this].concat(S.call(arguments)))},set:function(e,t){return m(this,e,t),this},setProperties:function(e){return b(this,e)},beginPropertyChanges:function(){return _(),this},endPropertyChanges:function(){return O(),this},propertyWillChange:function(e){return T(this,e),this},propertyDidChange:function(e){return C(this,e),this},notifyPropertyChange:function(e){return this.propertyWillChange(e),this.propertyDidChange(e),this},addBeforeObserver:function(e,t,n){D(this,e,t,n)},addObserver:function(e,t,n){I(this,e,t,n)},removeObserver:function(e,t,n){R(this,e,t,n)},hasObserverFor:function(e){return E(this,e+":change")},getWithDefault:function(e,t){return p(this,e,t)},incrementProperty:function(e,t){return k(t)&&(t=1),m(this,e,(parseFloat(f(this,e))||0)+t),f(this,e)},decrementProperty:function(e,t){return k(t)&&(t=1),m(this,e,(f(this,e)||0)-t),f(this,e)},toggleProperty:function(e){return m(this,e,!f(this,e)),f(this,e)},cacheFor:function(e){return x(this,e)},observersForKey:function(e){return w(this,e)}})}),e("ember-runtime/mixins/promise_proxy",["ember-metal/property_get","ember-metal/set_properties","ember-metal/computed","ember-metal/mixin","ember-metal/error","exports"],function(e,t,n,r,i,o){"use strict";function s(e,t){return u(e,{isFulfilled:!1,isRejected:!1}),t.then(function(t){return u(e,{content:t,isFulfilled:!0}),t},function(t){throw u(e,{reason:t,isRejected:!0}),t},"Ember: PromiseProxy")}function a(e){
return function(){var t=l(this,"promise");return t[e].apply(t,arguments)}}var l=e.get,u=t["default"],c=n.computed,d=r.Mixin,h=i["default"],f=c.not,p=c.or;o["default"]=d.create({reason:null,isPending:f("isSettled").readOnly(),isSettled:p("isRejected","isFulfilled").readOnly(),isRejected:!1,isFulfilled:!1,promise:c(function(e,t){if(2===arguments.length)return s(this,t);throw new h("PromiseProxy's promise must be set")}),then:a("then"),"catch":a("catch"),"finally":a("finally")})}),e("ember-runtime/mixins/sortable",["ember-metal/core","ember-metal/property_get","ember-metal/enumerable_utils","ember-metal/mixin","ember-runtime/mixins/mutable_enumerable","ember-runtime/compare","ember-metal/observer","ember-metal/computed","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";var u=e["default"],c=t.get,d=n.forEach,h=r.Mixin,f=i["default"],p=o["default"],m=s.addObserver,g=s.removeObserver,v=a.computed,b=r.beforeObserver,y=r.observer;l["default"]=h.create(f,{sortProperties:null,sortAscending:!0,sortFunction:p,orderBy:function(e,t){var n=0,r=c(this,"sortProperties"),i=c(this,"sortAscending"),o=c(this,"sortFunction");return d(r,function(r){0===n&&(n=o.call(this,c(e,r),c(t,r)),0===n||i||(n=-1*n))},this),n},destroy:function(){var e=c(this,"content"),t=c(this,"sortProperties");return e&&t&&d(e,function(e){d(t,function(t){g(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()},isSorted:v.notEmpty("sortProperties"),arrangedContent:v("content","sortProperties.@each",function(e,t){var n=c(this,"content"),r=c(this,"isSorted"),i=c(this,"sortProperties"),o=this;return n&&r?(n=n.slice(),n.sort(function(e,t){return o.orderBy(e,t)}),d(n,function(e){d(i,function(t){m(e,t,this,"contentItemSortPropertyDidChange")},this)},this),u.A(n)):n}),_contentWillChange:b("content",function(){var e=c(this,"content"),t=c(this,"sortProperties");e&&t&&d(e,function(e){d(t,function(t){g(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()}),sortPropertiesWillChange:b("sortProperties",function(){this._lastSortAscending=void 0}),sortPropertiesDidChange:y("sortProperties",function(){this._lastSortAscending=void 0}),sortAscendingWillChange:b("sortAscending",function(){this._lastSortAscending=c(this,"sortAscending")}),sortAscendingDidChange:y("sortAscending",function(){if(void 0!==this._lastSortAscending&&c(this,"sortAscending")!==this._lastSortAscending){var e=c(this,"arrangedContent");e.reverseObjects()}}),contentArrayWillChange:function(e,t,n,r){var i=c(this,"isSorted");if(i){var o=c(this,"arrangedContent"),s=e.slice(t,t+n),a=c(this,"sortProperties");d(s,function(e){o.removeObject(e),d(a,function(t){g(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,n,r)},contentArrayDidChange:function(e,t,n,r){var i=c(this,"isSorted"),o=c(this,"sortProperties");if(i){var s=e.slice(t,t+r);d(s,function(e){this.insertItemSorted(e),d(o,function(t){m(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,n,r)},insertItemSorted:function(e){var t=c(this,"arrangedContent"),n=c(t,"length"),r=this._binarySearch(e,0,n);t.insertAt(r,e)},contentItemSortPropertyDidChange:function(e){var t=c(this,"arrangedContent"),n=t.indexOf(e),r=t.objectAt(n-1),i=t.objectAt(n+1),o=r&&this.orderBy(e,r),s=i&&this.orderBy(e,i);(0>o||s>0)&&(t.removeObject(e),this.insertItemSorted(e))},_binarySearch:function(e,t,n){var r,i,o,s;return t===n?t:(s=c(this,"arrangedContent"),r=t+Math.floor((n-t)/2),i=s.objectAt(r),o=this.orderBy(i,e),0>o?this._binarySearch(e,r+1,n):o>0?this._binarySearch(e,t,r):r)}})}),e("ember-runtime/mixins/target_action_support",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/mixin","ember-metal/computed","exports"],function(e,t,n,r,i,o){"use strict";var s=e["default"],a=t.get,l=n.typeOf,u=r.Mixin,c=i.computed,d=u.create({target:null,action:null,actionContext:null,targetObject:c(function(){var e=a(this,"target");if("string"===l(e)){var t=a(this,e);return void 0===t&&(t=a(s.lookup,e)),t}return e}).property("target"),actionContextObject:c(function(){var e=a(this,"actionContext");if("string"===l(e)){var t=a(this,e);return void 0===t&&(t=a(s.lookup,e)),t}return e}).property("actionContext"),triggerAction:function(e){function t(e,t){var n=[];return t&&n.push(t),n.concat(e)}e=e||{};var n=e.action||a(this,"action"),r=e.target||a(this,"targetObject"),i=e.actionContext;if("undefined"==typeof i&&(i=a(this,"actionContextObject")||this),r&&n){var o;return o=r.send?r.send.apply(r,t(i,n)):r[n].apply(r,t(i)),o!==!1&&(o=!0),o}return!1}});o["default"]=d}),e("ember-runtime/system/application",["ember-runtime/system/namespace","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=n.extend()}),e("ember-runtime/system/array_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/property_events","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/mutable_array","ember-runtime/mixins/enumerable","ember-runtime/system/string","ember-metal/alias","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h){"use strict";function f(){return this}var p=(e["default"],t.get),m=n.isArray,g=n.apply,v=r.computed,b=i.beforeObserver,y=i.observer,E=o.beginPropertyChanges,_=o.endPropertyChanges,T=s["default"],C=a["default"],O=l["default"],I=u["default"],D=(c.fmt,d["default"]),R="Index out of range",w=[],x=C.extend(O,{content:null,arrangedContent:D("content"),objectAtContent:function(e){return p(this,"arrangedContent").objectAt(e)},replaceContent:function(e,t,n){p(this,"content").replace(e,t,n)},_contentWillChange:b("content",function(){this._teardownContent()}),_teardownContent:function(){var e=p(this,"content");e&&e.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},contentArrayWillChange:f,contentArrayDidChange:f,_contentDidChange:y("content",function(){p(this,"content");this._setupContent()}),_setupContent:function(){var e=p(this,"content");e&&e.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},_arrangedContentWillChange:b("arrangedContent",function(){var e=p(this,"arrangedContent"),t=e?p(e,"length"):0;this.arrangedContentArrayWillChange(this,0,t,void 0),this.arrangedContentWillChange(this),this._teardownArrangedContent(e)}),_arrangedContentDidChange:y("arrangedContent",function(){var e=p(this,"arrangedContent"),t=e?p(e,"length"):0;this._setupArrangedContent(),this.arrangedContentDidChange(this),this.arrangedContentArrayDidChange(this,0,void 0,t)}),_setupArrangedContent:function(){var e=p(this,"arrangedContent");e&&e.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},_teardownArrangedContent:function(){var e=p(this,"arrangedContent");e&&e.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},arrangedContentWillChange:f,arrangedContentDidChange:f,objectAt:function(e){return p(this,"content")&&this.objectAtContent(e)},length:v(function(){var e=p(this,"arrangedContent");return e?p(e,"length"):0}),_replace:function(e,t,n){var r=p(this,"content");return r&&this.replaceContent(e,t,n),this},replace:function(){if(p(this,"arrangedContent")!==p(this,"content"))throw new T("Using replace on an arranged ArrayProxy is not allowed.");g(this,this._replace,arguments)},_insertAt:function(e,t){if(e>p(this,"content.length"))throw new T(R);return this._replace(e,0,[t]),this},insertAt:function(e,t){if(p(this,"arrangedContent")===p(this,"content"))return this._insertAt(e,t);throw new T("Using insertAt on an arranged ArrayProxy is not allowed.")},removeAt:function(e,t){if("number"==typeof e){var n,r=p(this,"content"),i=p(this,"arrangedContent"),o=[];if(0>e||e>=p(this,"length"))throw new T(R);for(void 0===t&&(t=1),n=e;e+t>n;n++)o.push(r.indexOf(i.objectAt(n)));for(o.sort(function(e,t){return t-e}),E(),n=0;n<o.length;n++)this._replace(o[n],1,w);_()}return this},pushObject:function(e){return this._insertAt(p(this,"content.length"),e),e},pushObjects:function(e){if(!I.detect(e)&&!m(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this._replace(p(this,"length"),0,e),this},setObjects:function(e){if(0===e.length)return this.clear();var t=p(this,"length");return this._replace(0,t,e),this},unshiftObject:function(e){return this._insertAt(0,e),e},unshiftObjects:function(e){return this._replace(0,0,e),this},slice:function(){var e=this.toArray();return e.slice.apply(e,arguments)},arrangedContentArrayWillChange:function(e,t,n,r){this.arrayContentWillChange(t,n,r)},arrangedContentArrayDidChange:function(e,t,n,r){this.arrayContentDidChange(t,n,r)},init:function(){this._super(),this._setupContent(),this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent(),this._teardownContent()}});h["default"]=x}),e("ember-runtime/system/container",["ember-metal/property_set","container","exports"],function(e,t,n){"use strict";var r=e.set,i=t["default"];i.set=r,n["default"]=i}),e("ember-runtime/system/core_object",["ember-metal/core","ember-metal/merge","ember-metal/property_get","ember-metal/utils","ember-metal/platform","ember-metal/chains","ember-metal/events","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/error","ember-metal/keys","ember-runtime/mixins/action_handler","ember-metal/properties","ember-metal/binding","ember-metal/computed","ember-metal/injected_property","ember-metal/run_loop","ember-metal/watching","ember-runtime/inject","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y){function E(){var e,t,n=!1,r=function(){n||r.proto(),$(this,k,te),$(this,"__nextSuper",ee);var i=S(this),o=i.proto;if(i.proto=this,e){var s=e;e=null,R(this,this.reopen,s)}if(t){var a=t;t=null;for(var l=this.concatenatedProperties,u=this.mergedProperties,c=0,d=a.length;d>c;c++){var h=a[c];if("object"!=typeof h&&void 0!==h)throw new B("Ember.Object.create only accepts objects.");if(h)for(var f=j(h),p=0,m=f.length;m>p;p++){var g=f[p],v=h[g];if(P.test(g)){var b=i.bindings;b?i.hasOwnProperty("bindings")||(b=i.bindings=w(i.bindings)):b=i.bindings={},b[g]=v}var y=i.descs[g];if(l&&l.length>0&&F(l,g)>=0){var E=this[g];v=E?"function"==typeof E.concat?E.concat(v):K(E).concat(v):K(v)}if(u&&u.length&&F(u,g)>=0){var _=this[g];v=O(_,v)}y?y.set(this,g,v):"function"!=typeof this.setUnknownProperty||g in this?this[g]=v:this.setUnknownProperty(g,v)}}}Q(this,i);var T=arguments.length;if(0===T)this.init();else if(1===T)this.init(arguments[0]);else{for(var C=new Array(T),I=0;T>I;I++)C[I]=arguments[I];this.init.apply(this,C)}i.proto=o,N(this),A(this,"init")};return r.toString=L.prototype.toString,r.willReopen=function(){n&&(r.PrototypeMixin=L.create(r.PrototypeMixin)),n=!1},r._initMixins=function(t){e=t},r._initProperties=function(e){t=e},r.proto=function(){var e=r.superclass;return e&&e.proto(),n||(n=!0,r.PrototypeMixin.applyPartial(r.prototype)),this.prototype},r}function _(e){return function(){return e}}function T(){}var C=e["default"],O=t["default"],I=n.get,D=r.guidFor,R=r.apply,w=i.create,x=r.generateGuid,k=r.GUID_KEY,S=r.meta,K=r.makeArray,N=o.finishChains,A=s.sendEvent,P=a.IS_BINDING,L=a.Mixin,M=a.required,F=l.indexOf,B=u["default"],$=i.defineProperty,j=c["default"],H=(d["default"],h.defineProperty,f.Binding),z=p.ComputedProperty,V=p.computed,q=m["default"],U=g["default"],W=v.destroy,Y=e.K,G=(i.hasPropertyAccessors,b.validatePropertyInjections,U.schedule),X=L._apply,Q=L.finishPartial,Z=L.prototype.reopen,J=!1,ee={configurable:!0,writable:!0,enumerable:!1,value:void 0},te={configurable:!0,writable:!0,enumerable:!1,value:null},ne=E();ne.toString=function(){return"Ember.CoreObject"},ne.PrototypeMixin=L.create({reopen:function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return X(this,t,!0),this},init:function(){},concatenatedProperties:null,isDestroyed:!1,isDestroying:!1,destroy:function(){return this.isDestroying?void 0:(this.isDestroying=!0,G("actions",this,this.willDestroy),G("destroy",this,this._scheduledDestroy),this)},willDestroy:Y,_scheduledDestroy:function(){this.isDestroyed||(W(this),this.isDestroyed=!0)},bind:function(e,t){return t instanceof H||(t=H.from(t)),t.to(e).connect(this),t},toString:function(){var e="function"==typeof this.toStringExtension,t=e?":"+this.toStringExtension():"",n="<"+this.constructor.toString()+":"+D(this)+t+">";return this.toString=_(n),n}}),ne.PrototypeMixin.ownerConstructor=ne,ne.__super__=null;var re={ClassMixin:M(),PrototypeMixin:M(),isClass:!0,isMethod:!1,extend:function(){var e,t=E();return t.ClassMixin=L.create(this.ClassMixin),t.PrototypeMixin=L.create(this.PrototypeMixin),t.ClassMixin.ownerConstructor=t,t.PrototypeMixin.ownerConstructor=t,Z.apply(t.PrototypeMixin,arguments),t.superclass=this,t.__super__=this.prototype,e=t.prototype=w(this.prototype),e.constructor=t,x(e),S(e).proto=e,t.ClassMixin.apply(t),t},createWithMixins:function(){var e=this,t=arguments.length;if(t>0){for(var n=new Array(t),r=0;t>r;r++)n[r]=arguments[r];this._initMixins(n)}return new e},create:function(){var e=this,t=arguments.length;if(t>0){for(var n=new Array(t),r=0;t>r;r++)n[r]=arguments[r];this._initProperties(n)}return new e},reopen:function(){this.willReopen();var e=arguments.length,t=new Array(e);if(e>0)for(var n=0;e>n;n++)t[n]=arguments[n];return R(this.PrototypeMixin,Z,t),this},reopenClass:function(){var e=arguments.length,t=new Array(e);if(e>0)for(var n=0;e>n;n++)t[n]=arguments[n];return R(this.ClassMixin,Z,t),X(this,arguments,!1),this},detect:function(e){if("function"!=typeof e)return!1;for(;e;){if(e===this)return!0;e=e.superclass}return!1},detectInstance:function(e){return e instanceof this},metaForProperty:function(e){var t=this.proto().__ember_meta__,n=t&&t.descs[e];return n._meta||{}},_computedProperties:V(function(){J=!0;var e,t=this.proto(),n=S(t).descs,r=[];for(var i in n)e=n[i],e instanceof z&&r.push({name:i,meta:e._meta});return r}).readOnly(),eachComputedProperty:function(e,t){for(var n,r,i={},o=I(this,"_computedProperties"),s=0,a=o.length;a>s;s++)n=o[s],r=n.name,e.call(t||this,n.name,n.meta||i)}};T(),re._lazyInjections=function(){var e,t,n={},r=this.proto(),i=S(r).descs;for(e in i)t=i[e],t instanceof q&&(n[e]=t.type+":"+(t.name||e));return n};var ie=L.create(re);ie.ownerConstructor=ne,ne.ClassMixin=ie,ie.apply(ne),ne.reopen({didDefineProperty:function(e,t,n){if(J!==!1&&n instanceof C.ComputedProperty){var r=C.meta(this.constructor).cache;void 0!==r._computedProperties&&(r._computedProperties=void 0)}}}),y["default"]=ne}),e("ember-runtime/system/deferred",["ember-metal/core","ember-runtime/mixins/deferred","ember-runtime/system/object","exports"],function(e,t,n,r){"use strict";var i=(e["default"],t["default"]),o=n["default"],s=o.extend(i,{init:function(){this._super()}});s.reopenClass({promise:function(e,t){var n=s.create();return e.call(t,n),n}}),r["default"]=s}),e("ember-runtime/system/each_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/array","ember-runtime/mixins/array","ember-runtime/system/object","ember-metal/computed","ember-metal/observer","ember-metal/events","ember-metal/properties","ember-metal/property_events","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h){"use strict";function f(e,t,n,r,i){var o,s=n._objects;for(s||(s=n._objects={});--i>=r;){var a=e.objectAt(i);a&&(C(a,t,n,"contentKeyWillChange"),T(a,t,n,"contentKeyDidChange"),o=g(a),s[o]||(s[o]=[]),s[o].push(i))}}function p(e,t,n,r,i){var o=n._objects;o||(o=n._objects={});for(var s,a;--i>=r;){var l=e.objectAt(i);l&&(O(l,t,n,"contentKeyWillChange"),I(l,t,n,"contentKeyDidChange"),a=g(l),s=o[a],s[b.call(s,i)]=null)}}var m=(e["default"],t.get),g=n.guidFor,v=r.forEach,b=i.indexOf,y=o["default"],E=s["default"],_=a.computed,T=l.addObserver,C=l.addBeforeObserver,O=l.removeBeforeObserver,I=l.removeObserver,D=(n.typeOf,u.watchedEvents),R=c.defineProperty,w=d.beginPropertyChanges,x=d.propertyDidChange,k=d.propertyWillChange,S=d.endPropertyChanges,K=d.changeProperties,N=E.extend(y,{init:function(e,t,n){this._super(),this._keyName=t,this._owner=n,this._content=e},objectAt:function(e){var t=this._content.objectAt(e);return t&&m(t,this._keyName)},length:_(function(){var e=this._content;return e?m(e,"length"):0})}),A=/^.+:(before|change)$/,P=E.extend({init:function(e){this._super(),this._content=e,e.addArrayObserver(this),v(D(this),function(e){this.didAddListener(e)},this)},unknownProperty:function(e,t){var n;return n=new N(this._content,e,this),R(this,e,null,n),this.beginObservingContentKey(e),n},arrayWillChange:function(e,t,n,r){var i,o,s=this._keys;o=n>0?t+n:-1,w(this);for(i in s)s.hasOwnProperty(i)&&(o>0&&p(e,i,this,t,o),k(this,i));k(this._content,"@each"),S(this)},arrayDidChange:function(e,t,n,r){var i,o=this._keys;i=r>0?t+r:-1,K(function(){for(var n in o)o.hasOwnProperty(n)&&(i>0&&f(e,n,this,t,i),x(this,n));x(this._content,"@each")},this)},didAddListener:function(e){A.test(e)&&this.beginObservingContentKey(e.slice(0,-7))},didRemoveListener:function(e){A.test(e)&&this.stopObservingContentKey(e.slice(0,-7))},beginObservingContentKey:function(e){var t=this._keys;if(t||(t=this._keys={}),t[e])t[e]++;else{t[e]=1;var n=this._content,r=m(n,"length");f(n,e,this,0,r)}},stopObservingContentKey:function(e){var t=this._keys;if(t&&t[e]>0&&--t[e]<=0){var n=this._content,r=m(n,"length");p(n,e,this,0,r)}},contentKeyWillChange:function(e,t){k(this,t)},contentKeyDidChange:function(e,t){x(this,t)}});h.EachArray=N,h.EachProxy=P}),e("ember-runtime/system/lazy_load",["ember-metal/core","ember-metal/array","ember-runtime/system/native_array","exports"],function(e,t,n,r){"use strict";function i(e,t){var n;l[e]=l[e]||s.A(),l[e].pushObject(t),(n=u[e])&&t(n)}function o(e,t){if(u[e]=t,"object"==typeof window&&"function"==typeof window.dispatchEvent&&"function"==typeof CustomEvent){var n=new CustomEvent(e,{detail:t,name:e});window.dispatchEvent(n)}l[e]&&a.call(l[e],function(e){e(t)})}var s=e["default"],a=t.forEach,l=s.ENV.EMBER_LOAD_HOOKS||{},u={};r.onLoad=i,r.runLoadHooks=o}),e("ember-runtime/system/namespace",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/mixin","ember-runtime/system/object","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e,t,n){var r=e.length;T[e.join(".")]=t;for(var i in t)if(C.call(t,i)){var o=t[i];if(e[r]=i,o&&o.toString===d)o.toString=f(e.join(".")),o[I]=e.join(".");else if(o&&o.isNamespace){if(n[b(o)])continue;n[b(o)]=!0,a(e,o,n)}}e.length=r}function l(e,t){try{var n=e[t];return n&&n.isNamespace&&n}catch(r){}}function u(){var e,t=p.lookup;if(!_.PROCESSED)for(var n in t)O.test(n)&&(!t.hasOwnProperty||t.hasOwnProperty(n))&&(e=l(t,n),e&&(e[I]=n))}function c(e){var t=e.superclass;return t?t[I]?t[I]:c(t):void 0}function d(){p.BOOTED||this[I]||h();var e;if(this[I])e=this[I];else if(this._toString)e=this._toString;else{var t=c(this);e=t?"(subclass of "+t+")":"(unknown mixin)",this.toString=f(e)}return e}function h(){var e=!_.PROCESSED,t=p.anyUnprocessedMixins;if(e&&(u(),_.PROCESSED=!0),e||t){for(var n,r=_.NAMESPACES,i=0,o=r.length;o>i;i++)n=r[i],a([n.toString()],n,{});p.anyUnprocessedMixins=!1}}function f(e){return function(){return e}}var p=e["default"],m=t.get,g=n.indexOf,v=r.GUID_KEY,b=r.guidFor,y=i.Mixin,E=o["default"],_=E.extend({isNamespace:!0,init:function(){_.NAMESPACES.push(this),_.PROCESSED=!1},toString:function(){var e=m(this,"name")||m(this,"modulePrefix");return e?e:(u(),this[I])},nameClasses:function(){a([this.toString()],this,{})},destroy:function(){var e=_.NAMESPACES,t=this.toString();t&&(p.lookup[t]=void 0,delete _.NAMESPACES_BY_ID[t]),e.splice(g.call(e,this),1),this._super()}});_.reopenClass({NAMESPACES:[p],NAMESPACES_BY_ID:{},PROCESSED:!1,processAll:h,byName:function(e){return p.BOOTED||h(),T[e]}});var T=_.NAMESPACES_BY_ID,C={}.hasOwnProperty,O=/^[A-Z]/,I=p.NAME_KEY=v+"_name";y.prototype.toString=d,s["default"]=_}),e("ember-runtime/system/native_array",["ember-metal/core","ember-metal/property_get","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/array","ember-runtime/mixins/array","ember-runtime/mixins/mutable_array","ember-runtime/mixins/observable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-runtime/copy","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d){"use strict";var h=e["default"],f=t.get,p=n._replace,m=n.forEach,g=r.Mixin,v=i.indexOf,b=i.lastIndexOf,y=o["default"],E=s["default"],_=a["default"],T=l["default"],C=u.FROZEN_ERROR,O=c["default"],I=g.create(E,_,T,{get:function(e){return"length"===e?this.length:"number"==typeof e?this[e]:this._super(e)},objectAt:function(e){return this[e]},replace:function(e,t,n){if(this.isFrozen)throw C;var r=n?f(n,"length"):0;return this.arrayContentWillChange(e,t,r),0===r?this.splice(e,t):p(this,e,t,n),this.arrayContentDidChange(e,t,r),this},unknownProperty:function(e,t){var n;return void 0!==t&&void 0===n&&(n=this[e]=t),n},indexOf:v,lastIndexOf:b,copy:function(e){return e?this.map(function(e){return O(e,!0)}):this.slice()}}),D=["length"];m(I.keys(),function(e){Array.prototype[e]&&D.push(e)}),D.length>0&&(I=I.without.apply(I,D));var R=function(e){return void 0===e&&(e=[]),y.detect(e)?e:I.apply(e)};I.activate=function(){I.apply(Array.prototype),R=function(e){return e||[]}},(h.EXTEND_PROTOTYPES===!0||h.EXTEND_PROTOTYPES.Array)&&I.activate(),h.A=R,d.A=R,d.NativeArray=I,d["default"]=I}),e("ember-runtime/system/object",["ember-runtime/system/core_object","ember-runtime/mixins/observable","exports"],function(e,t,n){"use strict";var r=e["default"],i=t["default"],o=r.extend(i);o.toString=function(){return"Ember.Object"},n["default"]=o}),e("ember-runtime/system/object_proxy",["ember-runtime/system/object","ember-runtime/mixins/-proxy","exports"],function(e,t,n){"use strict";var r=e["default"],i=t["default"];n["default"]=r.extend(i)}),e("ember-runtime/system/service",["ember-runtime/system/object","ember-runtime/inject","exports"],function(e,t,n){"use strict";var r,i=e["default"],o=t.createInjectionHelper;r=i.extend(),o("service"),n["default"]=r}),e("ember-runtime/system/set",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/is_none","ember-runtime/system/string","ember-runtime/system/core_object","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-metal/error","ember-metal/property_events","ember-metal/mixin","ember-metal/computed","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m){"use strict";var g=(e["default"],t.get),v=n.set,b=r.guidFor,y=i["default"],E=o.fmt,_=s["default"],T=a["default"],C=l["default"],O=u["default"],I=c.Freezable,D=c.FROZEN_ERROR,R=d["default"],w=h.propertyWillChange,x=h.propertyDidChange,k=f.aliasMethod,S=p.computed;m["default"]=_.extend(T,O,I,{length:0,clear:function(){if(this.isFrozen)throw new R(D);var e=g(this,"length");if(0===e)return this;var t;this.enumerableContentWillChange(e,0),w(this,"firstObject"),w(this,"lastObject");for(var n=0;e>n;n++)t=b(this[n]),delete this[t],delete this[n];return v(this,"length",0),x(this,"firstObject"),x(this,"lastObject"),this.enumerableContentDidChange(e,0),this},isEqual:function(e){if(!C.detect(e))return!1;var t=g(this,"length");if(g(e,"length")!==t)return!1;for(;--t>=0;)if(!e.contains(this[t]))return!1;return!0},add:k("addObject"),remove:k("removeObject"),pop:function(){if(g(this,"isFrozen"))throw new R(D);var e=this.length>0?this[this.length-1]:null;return this.remove(e),e},push:k("addObject"),shift:k("pop"),unshift:k("push"),addEach:k("addObjects"),removeEach:k("removeObjects"),init:function(e){this._super(),e&&this.addObjects(e)},nextObject:function(e){return this[e]},firstObject:S(function(){return this.length>0?this[0]:void 0}),lastObject:S(function(){return this.length>0?this[this.length-1]:void 0}),addObject:function(e){if(g(this,"isFrozen"))throw new R(D);if(y(e))return this;var t,n=b(e),r=this[n],i=g(this,"length");return r>=0&&i>r&&this[r]===e?this:(t=[e],this.enumerableContentWillChange(null,t),w(this,"lastObject"),i=g(this,"length"),this[n]=i,this[i]=e,v(this,"length",i+1),x(this,"lastObject"),this.enumerableContentDidChange(null,t),this)},removeObject:function(e){if(g(this,"isFrozen"))throw new R(D);if(y(e))return this;var t,n,r=b(e),i=this[r],o=g(this,"length"),s=0===i,a=i===o-1;return i>=0&&o>i&&this[i]===e&&(n=[e],this.enumerableContentWillChange(n,null),s&&w(this,"firstObject"),a&&w(this,"lastObject"),o-1>i&&(t=this[o-1],this[i]=t,this[b(t)]=i),delete this[r],delete this[o-1],v(this,"length",o-1),s&&x(this,"firstObject"),a&&x(this,"lastObject"),this.enumerableContentDidChange(n,null)),this},contains:function(e){return this[b(e)]>=0},copy:function(){var e=this.constructor,t=new e,n=g(this,"length");for(v(t,"length",n);--n>=0;)t[n]=this[n],t[b(this[n])]=n;return t},toString:function(){var e,t=this.length,n=[];for(e=0;t>e;e++)n[e]=this[e];return E("Ember.Set<%@>",[n.join(",")])}})}),e("ember-runtime/system/string",["ember-metal/core","ember-metal/utils","ember-metal/cache","exports"],function(e,t,n,r){"use strict";function i(e,t){var n=t;if(!p(n)||arguments.length>2){n=new Array(arguments.length-1);for(var r=1,i=arguments.length;i>r;r++)n[r-1]=arguments[r]}var o=0;return e.replace(/%@([0-9]+)?/g,function(e,t){return t=t?parseInt(t,10)-1:o++,e=n[t],null===e?"(null)":void 0===e?"":m(e)})}function o(e,t){return(!p(t)||arguments.length>2)&&(t=Array.prototype.slice.call(arguments,1)),e=f.STRINGS[e]||e,i(e,t)}function s(e){return e.split(/\s+/)}function a(e){return C.get(e)}function l(e){return b.get(e)}function u(e){return y.get(e)}function c(e){return E.get(e)}function d(e){return _.get(e)}function h(e){return T.get(e)}var f=e["default"],p=t.isArray,m=t.inspect,g=n["default"],v=/[ _]/g,b=new g(1e3,function(e){return a(e).replace(v,"-")}),y=new g(1e3,function(e){return e.replace(I,function(e,t,n){return n?n.toUpperCase():""}).replace(/^([A-Z])/,function(e,t,n){return e.toLowerCase()})}),E=new g(1e3,function(e){for(var t=e.split("."),n=[],r=0,i=t.length;i>r;r++){var o=u(t[r]);n.push(o.charAt(0).toUpperCase()+o.substr(1))}return n.join(".")}),_=new g(1e3,function(e){return e.replace(D,"$1_$2").replace(R,"_").toLowerCase()}),T=new g(1e3,function(e){return e.charAt(0).toUpperCase()+e.substr(1)}),C=new g(1e3,function(e){return e.replace(O,"$1_$2").toLowerCase()}),O=/([a-z\d])([A-Z])/g,I=/(\-|_|\.|\s)+(.)?/g,D=/([a-z\d])([A-Z]+)/g,R=/\-|\s+/g;f.STRINGS={},r["default"]={fmt:i,loc:o,w:s,decamelize:a,dasherize:l,camelize:u,classify:c,underscore:d,capitalize:h},r.fmt=i,r.loc=o,r.w=s,r.decamelize=a,r.dasherize=l,r.camelize=u,r.classify=c,r.underscore=d,r.capitalize=h}),e("ember-runtime/system/subarray",["ember-metal/error","ember-metal/enumerable_utils","exports"],function(e,t,n){"use strict";function r(e,t){this.type=e,this.count=t}function i(e){arguments.length<1&&(e=0),this._operations=e>0?[new r(a,e)]:[]}var o=e["default"],s=t["default"],a="r",l="f";n["default"]=i,i.prototype={addItem:function(e,t){var n=-1,i=t?a:l,o=this;return this._findOperation(e,function(s,l,u,c,d){var h,f;i===s.type?++s.count:e===u?o._operations.splice(l,0,new r(i,1)):(h=new r(i,1),f=new r(s.type,c-e+1),s.count=e-u,o._operations.splice(l+1,0,h,f)),t&&(n=s.type===a?d+(e-u):d),o._composeAt(l)},function(e){o._operations.push(new r(i,1)),t&&(n=e),o._composeAt(o._operations.length-1)}),n},removeItem:function(e){var t=-1,n=this;return this._findOperation(e,function(r,i,o,s,l){r.type===a&&(t=l+(e-o)),r.count>1?--r.count:(n._operations.splice(i,1),n._composeAt(i))},function(){throw new o("Can't remove an item that has never been added.")}),t},_findOperation:function(e,t,n){var r,i,o,s,l,u=0;for(r=s=0,i=this._operations.length;i>r;s=l+1,++r){if(o=this._operations[r],l=s+o.count-1,e>=s&&l>=e)return void t(o,r,s,l,u);o.type===a&&(u+=o.count)}n(u)},_composeAt:function(e){var t,n=this._operations[e];n&&(e>0&&(t=this._operations[e-1],t.type===n.type&&(n.count+=t.count,this._operations.splice(e-1,1),--e)),e<this._operations.length-1&&(t=this._operations[e+1],t.type===n.type&&(n.count+=t.count,this._operations.splice(e+1,1))))},toString:function(){var e="";return s.forEach(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}}}),e("ember-runtime/system/tracked_array",["ember-metal/property_get","ember-metal/enumerable_utils","exports"],function(e,t,n){"use strict";function r(e){arguments.length<1&&(e=[]);var t=s(e,"length");this._operations=t?[new i(l,t,e)]:[]}function i(e,t,n){this.type=e,this.count=t,this.items=n}function o(e,t,n,r){this.operation=e,this.index=t,this.split=n,this.rangeStart=r}var s=e.get,a=t.forEach,l="r",u="i",c="d";n["default"]=r,r.RETAIN=l,r.INSERT=u,r.DELETE=c,r.prototype={addItems:function(e,t){var n=s(t,"length");if(!(1>n)){var r,o,a=this._findArrayOperation(e),l=a.operation,c=a.index,d=a.rangeStart;o=new i(u,n,t),l?a.split?(this._split(c,e-d,o),r=c+1):(this._operations.splice(c,0,o),r=c):(this._operations.push(o),r=c),this._composeInsert(r)}},removeItems:function(e,t){if(!(1>t)){var n,r,o=this._findArrayOperation(e),s=o.index,a=o.rangeStart;return n=new i(c,t),o.split?(this._split(s,e-a,n),r=s+1):(this._operations.splice(s,0,n),r=s),this._composeDelete(r)}},apply:function(e){var t=[],n=0;a(this._operations,function(r,i){e(r.items,n,r.type,i),r.type!==c&&(n+=r.count,t=t.concat(r.items))}),this._operations=[new i(l,t.length,t)]},_findArrayOperation:function(e){var t,n,r,i,s,a=!1;for(t=r=0,s=this._operations.length;s>t;++t)if(n=this._operations[t],n.type!==c){if(i=r+n.count-1,e===r)break;if(e>r&&i>=e){a=!0;break}r=i+1}return new o(n,t,a,r)},_split:function(e,t,n){var r=this._operations[e],o=r.items.slice(t),s=new i(r.type,o.length,o);r.count=t,r.items=r.items.slice(0,t),this._operations.splice(e+1,0,n,s)},_composeInsert:function(e){var t=this._operations[e],n=this._operations[e-1],r=this._operations[e+1],i=n&&n.type,o=r&&r.type;i===u?(n.count+=t.count,n.items=n.items.concat(t.items),o===u?(n.count+=r.count,n.items=n.items.concat(r.items),this._operations.splice(e,2)):this._operations.splice(e,1)):o===u&&(t.count+=r.count,t.items=t.items.concat(r.items),this._operations.splice(e+1,1))},_composeDelete:function(e){var t,n,r,i=this._operations[e],o=i.count,s=this._operations[e-1],a=s&&s.type,l=!1,d=[];a===c&&(i=s,e-=1);for(var h=e+1;o>0;++h)t=this._operations[h],n=t.type,r=t.count,n!==c?(r>o?(d=d.concat(t.items.splice(0,o)),t.count-=o,h-=1,r=o,o=0):(r===o&&(l=!0),d=d.concat(t.items),o-=r),n===u&&(i.count-=r)):i.count+=r;return i.count>0?this._operations.splice(e+1,h-1-e):this._operations.splice(e,l?2:1),d},toString:function(){var e="";return a(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}}}),e("ember-template-compiler",["ember-metal/core","ember-template-compiler/system/precompile","ember-template-compiler/system/compile","ember-template-compiler/system/template","ember-template-compiler/plugins","ember-template-compiler/plugins/transform-each-in-to-hash","ember-template-compiler/plugins/transform-with-as-to-hash","ember-template-compiler/compat","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";var u=e["default"],c=t["default"],d=n["default"],h=r["default"],f=i.registerPlugin,p=o["default"],m=s["default"];f("ast",m),f("ast",p),l._Ember=u,l.precompile=c,l.compile=d,l.template=h,l.registerPlugin=f}),e("ember-template-compiler/compat",["ember-metal/core","ember-template-compiler/compat/precompile","ember-template-compiler/system/compile","ember-template-compiler/system/template"],function(e,t,n,r){"use strict";var i=e["default"],o=t["default"],s=n["default"],a=r["default"],l=i.Handlebars=i.Handlebars||{};l.precompile=o,l.compile=s,l.template=a}),e("ember-template-compiler/compat/precompile",["exports"],function(e){"use strict";var n,r;e["default"]=function(e){if((!n||!r)&&i.__loader.registry["htmlbars-compiler/compiler"]){var o=t("htmlbars-compiler/compiler");n=o.compile,r=o.compileSpec}if(!n||!r)throw new Error("Cannot call `precompile` without the template compiler loaded. Please load `ember-template-compiler.js` prior to calling `precompile`.");

var s=void 0===arguments[1]?!0:arguments[1],a=s?n:r;return a(e)}}),e("ember-template-compiler/plugins",["exports"],function(e){"use strict";function t(e,t){if(!n[e])throw new Error('Attempting to register "'+t+'" as "'+e+'" which is not a valid HTMLBars plugin type.');n[e].push(t)}var n={ast:[]};e.registerPlugin=t,e["default"]=n}),e("ember-template-compiler/plugins/transform-each-in-to-hash",["exports"],function(e){"use strict";function t(){this.syntax=null}t.prototype.transform=function(e){var t=this,n=new t.syntax.Walker,r=t.syntax.builders;return n.visit(e,function(e){if(t.validate(e)){if(e.program&&e.program.blockParams.length)throw new Error("You cannot use keyword (`{{each foo in bar}}`) and block params (`{{each bar as |foo|}}`) at the same time.");var n=e.sexpr.params.splice(0,2),i=n[0].original;e.sexpr.hash||(e.sexpr.hash=r.hash()),e.sexpr.hash.pairs.push(r.pair("keyword",r.string(i)))}}),e},t.prototype.validate=function(e){return("BlockStatement"===e.type||"MustacheStatement"===e.type)&&"each"===e.sexpr.path.original&&3===e.sexpr.params.length&&"PathExpression"===e.sexpr.params[1].type&&"in"===e.sexpr.params[1].original},e["default"]=t}),e("ember-template-compiler/plugins/transform-with-as-to-hash",["exports"],function(e){"use strict";function t(){this.syntax=null}t.prototype.transform=function(e){var t=this,n=new t.syntax.Walker;return n.visit(e,function(e){if(t.validate(e)){if(e.program&&e.program.blockParams.length)throw new Error("You cannot use keyword (`{{with foo as bar}}`) and block params (`{{with foo as |bar|}}`) at the same time.");var n=e.sexpr.params.splice(1,2),r=n[1].original;e.program.blockParams=[r]}}),e},t.prototype.validate=function(e){return"BlockStatement"===e.type&&"with"===e.sexpr.path.original&&3===e.sexpr.params.length&&"PathExpression"===e.sexpr.params[1].type&&"as"===e.sexpr.params[1].original},e["default"]=t}),e("ember-template-compiler/system/compile",["ember-template-compiler/system/compile_options","ember-template-compiler/system/template","exports"],function(e,n,r){"use strict";var o,s=e["default"],a=n["default"];r["default"]=function(e){if(!o&&i.__loader.registry["htmlbars-compiler/compiler"]&&(o=t("htmlbars-compiler/compiler").compile),!o)throw new Error("Cannot call `compile` without the template compiler loaded. Please load `ember-template-compiler.js` prior to calling `compile`.");var n=o(e,s());return a(n)}}),e("ember-template-compiler/system/compile_options",["ember-metal/core","ember-template-compiler/plugins","exports"],function(e,t,n){"use strict";var r=(e["default"],t["default"]);n["default"]=function(){var e=!0;return{disableComponentGeneration:e,plugins:r}}}),e("ember-template-compiler/system/precompile",["ember-template-compiler/system/compile_options","exports"],function(e,n){"use strict";var r,o=e["default"];n["default"]=function(e){if(!r&&i.__loader.registry["htmlbars-compiler/compiler"]&&(r=t("htmlbars-compiler/compiler").compileSpec),!r)throw new Error("Cannot call `compileSpec` without the template compiler loaded. Please load `ember-template-compiler.js` prior to calling `compileSpec`.");return r(e,o())}}),e("ember-template-compiler/system/template",["exports"],function(e){"use strict";e["default"]=function(e){return e.isTop=!0,e.isMethod=!1,e}}),e("ember-views",["ember-runtime","ember-views/system/jquery","ember-views/system/utils","ember-views/system/render_buffer","ember-views/system/ext","ember-views/views/states","ember-views/views/core_view","ember-views/views/view","ember-views/views/container_view","ember-views/views/collection_view","ember-views/views/component","ember-views/system/event_dispatcher","ember-views/mixins/view_target_action_support","ember-views/component_lookup","ember-views/views/checkbox","ember-views/mixins/text_support","ember-views/views/text_field","ember-views/views/text_area","ember-views/views/bound_view","ember-views/views/simple_bound_view","ember-views/views/metamorph_view","ember-views/views/select","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y,E,_,T){"use strict";var C=e["default"],O=t["default"],I=n.isSimpleClick,D=n.getViewClientRects,R=n.getViewBoundingClientRect,w=r["default"],x=o.cloneStates,k=o.states,S=s["default"],K=a["default"],N=l["default"],A=u["default"],P=c["default"],L=d["default"],M=h["default"],F=f["default"],B=p["default"],$=m["default"],j=g["default"],H=v["default"],z=b["default"],V=y["default"],q=E["default"],U=E._SimpleMetamorphView,W=E._Metamorph,Y=_.Select,G=_.SelectOption,X=_.SelectOptgroup;C.$=O,C.ViewTargetActionSupport=M,C.RenderBuffer=w;var Q=C.ViewUtils={};Q.isSimpleClick=I,Q.getViewClientRects=D,Q.getViewBoundingClientRect=R,C.CoreView=S,C.View=K,C.View.states=k,C.View.cloneStates=x,C.Checkbox=B,C.TextField=j,C.TextArea=H,C._SimpleBoundView=V,C._BoundView=z,C._SimpleMetamorphView=U,C._MetamorphView=q,C._Metamorph=W,C.Select=Y,C.SelectOption=G,C.SelectOptgroup=X,C.TextSupport=$,C.ComponentLookup=F,C.ContainerView=N,C.CollectionView=A,C.Component=P,C.EventDispatcher=L,T["default"]=C}),e("ember-views/attr_nodes/attr_node",["ember-metal/streams/utils","ember-metal/run_loop","exports"],function(e,t,n){"use strict";function r(e,t){this.init(e,t)}var i=e.read,o=e.subscribe,s=e.unsubscribe,a=t["default"];r.prototype.init=function(e,t){this.isView=!0,this.tagName="",this.classNameBindings=[],this.attrName=e,this.attrValue=t,this.isDirty=!0,this.lastValue=null,o(this.attrValue,this.rerender,this)},r.prototype.renderIfDirty=function(){if(this.isDirty){var e=i(this.attrValue);e!==this.lastValue?this._renderer.renderTree(this,this._parentView):this.isDirty=!1}},r.prototype.render=function(e){this.isDirty=!1;var t=i(this.attrValue);this._morph.setContent(t),this.lastValue=t},r.prototype.rerender=function(){this.isDirty=!0,a.schedule("render",this,this.renderIfDirty)},r.prototype.destroy=function(){this.isDirty=!1,s(this.attrValue,this.rerender,this);var e=this._parentView;e&&e.removeChild(this)},n["default"]=r}),e("ember-views/attr_nodes/legacy_bind",["./attr_node","ember-runtime/system/string","ember-metal/utils","ember-metal/streams/utils","ember-metal/platform/create","exports"],function(e,t,n,r,i,o){"use strict";function s(e,t){this.init(e,t)}var a=e["default"],l=(t.fmt,n.typeOf),u=r.read,c=i["default"];s.prototype=c(a.prototype),s.prototype.render=function(e){this.isDirty=!1;{var t=u(this.attrValue);l(t)}this._morph.setContent(t),this.lastValue=t},o["default"]=s}),e("ember-views/component_lookup",["ember-runtime/system/object","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=n.extend({lookupFactory:function(e,t){t=t||this.container;var n="component:"+e,r="template:components/"+e,o=t&&t.has(r);o&&t.injection(n,"layout",r);var s=t.lookupFactory(n);return o||s?(s||(t.register(n,i.Component),s=t.lookupFactory(n)),s):void 0}})}),e("ember-views/mixins/component_template_deprecation",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","exports"],function(e,t,n,r){"use strict";var i=(e["default"],t.get),o=n.Mixin;r["default"]=o.create({willMergeMixin:function(e){this._super.apply(this,arguments);var t,n,r=e.layoutName||e.layout||i(this,"layoutName");e.templateName&&!r&&(t="templateName",n="layoutName",e.layoutName=e.templateName,delete e.templateName),e.template&&!r&&(t="template",n="layout",e.layout=e.template,delete e.template)}})}),e("ember-views/mixins/text_support",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/target_action_support","exports"],function(e,t,n,r,i){"use strict";function o(e,t,n){var r=s(t,e),i=s(t,"onEvent"),o=s(t,"value");(i===e||"keyPress"===i&&"key-press"===e)&&t.sendAction("action",o),t.sendAction(e,o),(r||i===e)&&(s(t,"bubbles")||n.stopPropagation())}var s=e.get,a=t.set,l=n.Mixin,u=r["default"],c=l.create(u,{value:"",attributeBindings:["autocapitalize","autocorrect","autofocus","disabled","form","maxlength","placeholder","readonly","required","selectionDirection","spellcheck","tabindex","title"],placeholder:null,disabled:!1,maxlength:null,init:function(){this._super(),this.on("paste",this,this._elementValueDidChange),this.on("cut",this,this._elementValueDidChange),this.on("input",this,this._elementValueDidChange)},action:null,onEvent:"enter",bubbles:!1,interpretKeyEvents:function(e){var t=c.KEY_EVENTS,n=t[e.keyCode];return this._elementValueDidChange(),n?this[n](e):void 0},_elementValueDidChange:function(){a(this,"value",this.$().val())},change:function(e){this._elementValueDidChange(e)},insertNewline:function(e){o("enter",this,e),o("insert-newline",this,e)},cancel:function(e){o("escape-press",this,e)},focusIn:function(e){o("focus-in",this,e)},focusOut:function(e){this._elementValueDidChange(e),o("focus-out",this,e)},keyPress:function(e){o("key-press",this,e)},keyUp:function(e){this.interpretKeyEvents(e),this.sendAction("key-up",s(this,"value"),e)},keyDown:function(e){this.sendAction("key-down",s(this,"value"),e)}});c.KEY_EVENTS={13:"insertNewline",27:"cancel"},i["default"]=c}),e("ember-views/mixins/view_target_action_support",["ember-metal/mixin","ember-runtime/mixins/target_action_support","ember-metal/alias","exports"],function(e,t,n,r){"use strict";var i=e.Mixin,o=t["default"],s=n["default"];r["default"]=i.create(o,{target:s("controller"),actionContext:s("context")})}),e("ember-views/streams/class_name_binding",["ember-metal/streams/utils","ember-metal/property_get","ember-runtime/system/string","ember-metal/utils","exports"],function(e,t,n,r,i){"use strict";function o(e){var t,n,r=e.split(":"),i=r[0],o="";return r.length>1&&(t=r[1],3===r.length&&(n=r[2]),o=":"+t,n&&(o+=":"+n)),{path:i,classNames:o,className:""===t?void 0:t,falsyClassName:n}}function s(e,t,n,r){if(h(t)&&(t=0!==c(t,"length")),n||r)return n&&t?n:r&&!t?r:null;if(t===!0){var i=e.split(".");return d(i[i.length-1])}return t!==!1&&null!=t?t:null}function a(e,t,n){n=n||"";var r=o(t);if(""===r.path)return s(r.path,!0,r.className,r.falsyClassName);var i=e.getStream(n+r.path);return l(i,function(){return s(r.path,u(i),r.className,r.falsyClassName)})}var l=e.chain,u=e.read,c=t.get,d=n.dasherize,h=r.isArray;i.parsePropertyPath=o,i.classStringForValue=s,i.streamifyClassNameBinding=a}),e("ember-views/streams/conditional_stream",["ember-metal/streams/stream","ember-metal/streams/utils","ember-metal/platform","exports"],function(e,t,n,r){"use strict";function i(e,t,n){this.init(),this.oldTestResult=void 0,this.test=e,this.consequent=t,this.alternate=n}var o=e["default"],s=t.read,a=t.subscribe,l=t.unsubscribe,u=n.create;i.prototype=u(o.prototype),i.prototype.valueFn=function(){var e=this.oldTestResult,t=!!s(this.test);if(t!==e){switch(e){case!0:l(this.consequent,this.notify,this);break;case!1:l(this.alternate,this.notify,this);break;case void 0:a(this.test,this.notify,this)}switch(t){case!0:a(this.consequent,this.notify,this);break;case!1:a(this.alternate,this.notify,this)}this.oldTestResult=t}return s(t?this.consequent:this.alternate)},r["default"]=i}),e("ember-views/streams/context_stream",["ember-metal/core","ember-metal/merge","ember-metal/platform","ember-metal/path_cache","ember-metal/streams/stream","ember-metal/streams/simple","exports"],function(e,t,n,r,i,o,s){"use strict";function a(e){this.init(),this.view=e}var l=e["default"],u=t["default"],c=n.create,d=r.isGlobal,h=i["default"],f=o["default"];a.prototype=c(h.prototype),u(a.prototype,{value:function(){},_makeChildStream:function(e,t){var n;return""===e||"this"===e?n=this.view._baseContext:d(e)&&l.lookup[e]?(n=new f(l.lookup[e]),n._isGlobal=!0):n=new f(e in this.view._keywords?this.view._keywords[e]:this.view._baseContext.get(e)),n._isRoot=!0,"controller"===e&&(n._isController=!0),n}}),s["default"]=a}),e("ember-views/streams/key_stream",["ember-metal/core","ember-metal/merge","ember-metal/platform","ember-metal/property_get","ember-metal/property_set","ember-metal/observer","ember-metal/streams/stream","ember-metal/streams/utils","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(e,t){this.init(),this.source=e,this.obj=void 0,this.key=t,b(e)&&e.subscribe(this._didChange,this)}var c=(e["default"],t["default"]),d=n.create,h=r.get,f=i.set,p=o.addObserver,m=o.removeObserver,g=s["default"],v=a.read,b=a.isStream;u.prototype=d(g.prototype),c(u.prototype,{valueFn:function(){var e=this.obj,t=v(this.source);return t!==e&&(e&&"object"==typeof e&&m(e,this.key,this,this._didChange),t&&"object"==typeof t&&p(t,this.key,this,this._didChange),this.obj=t),t?h(t,this.key):void 0},setValue:function(e){this.obj&&f(this.obj,this.key,e)},setSource:function(e){var t=this.source;e!==t&&(b(t)&&t.unsubscribe(this._didChange,this),b(e)&&e.subscribe(this._didChange,this),this.source=e,this.notify())},_didChange:function(){this.notify()},_super$destroy:g.prototype.destroy,destroy:function(){return this._super$destroy()?(b(this.source)&&this.source.unsubscribe(this._didChange,this),this.obj&&"object"==typeof this.obj&&m(this.obj,this.key,this,this._didChange),this.source=void 0,this.obj=void 0,!0):void 0}}),l["default"]=u,g.prototype._makeChildStream=function(e){return new u(this,e)}}),e("ember-views/streams/utils",["ember-metal/core","ember-metal/property_get","ember-metal/path_cache","ember-runtime/system/string","ember-metal/streams/utils","ember-views/views/view","ember-runtime/mixins/controller","exports"],function(e,t,n,r,i,o,s,a){"use strict";function l(e,t){var n,r=h(e);return n="string"==typeof r?d(r)?c(null,r):t.lookupFactory("view:"+r):r}function u(e){if(f(e)){var t=e.value();if(!e._isController)for(;p.detect(t);)t=c(t,"model");return t}return e}var c=(e["default"],t.get),d=n.isGlobal,h=(r.fmt,i.read),f=i.isStream,p=(o["default"],s["default"]);a.readViewFactory=l,a.readUnwrappedModel=u}),e("ember-views/system/action_manager",["exports"],function(e){"use strict";function t(){}t.registeredActions={},e["default"]=t}),e("ember-views/system/event_dispatcher",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/object","ember-views/system/jquery","ember-views/system/action_manager","ember-views/views/view","ember-metal/merge","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h){"use strict";var f=(e["default"],t.get),p=n.set,m=r["default"],g=i["default"],v=o.typeOf,b=(s.fmt,a["default"]),y=l["default"],E=u["default"],_=c["default"],T=d["default"];h["default"]=b.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",canDispatchToEventManager:!0,setup:function(e,t){var n,r=f(this,"events");T(r,e||{}),m(t)||p(this,"rootElement",t),t=y(f(this,"rootElement")),t.addClass("ember-application");for(n in r)r.hasOwnProperty(n)&&this.setupHandler(t,n,r[n])},setupHandler:function(e,t,n){var r=this;e.on(t+".ember",".ember-view",function(e,t){var i=_.views[this.id],o=!0,s=r.canDispatchToEventManager?r._findNearestEventManager(i,n):null;return s&&s!==t?o=r._dispatchEvent(s,e,n,i):i&&(o=r._bubbleEvent(i,e,n)),o}),e.on(t+".ember","[data-ember-action]",function(e){var t=y(e.currentTarget).attr("data-ember-action"),r=E.registeredActions[t];return r&&r.eventName===n?r.handler(e):void 0})},_findNearestEventManager:function(e,t){for(var n=null;e&&(n=f(e,"eventManager"),!n||!n[t]);)e=f(e,"parentView");return n},_dispatchEvent:function(e,t,n,r){var i=!0,o=e[n];return"function"===v(o)?(i=g(e,o,t,r),t.stopPropagation()):i=this._bubbleEvent(r,t,n),i},_bubbleEvent:function(e,t,n){return g.join(e,e.handleEvent,n,t)},destroy:function(){var e=f(this,"rootElement");return y(e).off(".ember","**").removeClass("ember-application"),this._super()},toString:function(){return"(EventDispatcher)"}})}),e("ember-views/system/ext",["ember-metal/run_loop"],function(e){"use strict";var t=e["default"];t._addQueue("render","actions"),t._addQueue("afterRender","render")}),e("ember-views/system/jquery",["ember-metal/core","ember-metal/enumerable_utils","exports"],function(e,t,r){"use strict";var i=e["default"],o=t.forEach,s=i.imports&&i.imports.jQuery||this&&this.jQuery;if(s||"function"!=typeof n||(s=n("jquery")),s){var a=["dragstart","drag","dragenter","dragleave","dragover","drop","dragend"];o(a,function(e){s.event.fixHooks[e]={props:["dataTransfer"]}})}r["default"]=s}),e("ember-views/system/render_buffer",["ember-views/system/jquery","morph","ember-metal/core","ember-metal/platform","morph/dom-helper/prop","exports"],function(e,t,n,r,i,o){"use strict";function s(e,t){if("TABLE"===t.tagName){var n=g.exec(e);if(n)return m[n[1].toLowerCase()]}}function a(){this.seen=f(null),this.list=[]}function l(e){return e&&v.test(e)?e.replace(b,""):e}function u(e){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=function(e){return t[e]||"&amp;"},r=e.toString();return E.test(r)?r.replace(y,n):r}function c(e,t){this.tagName=e,this._outerContextualElement=t,this.buffer=null,this.childViews=[],this.dom=new h}var d=e["default"],h=t.DOMHelper,f=(n["default"],r.create),p=i.normalizeProperty,m={tr:document.createElement("tbody"),col:document.createElement("colgroup")},g=/(?:<script)*.*?<([\w:]+)/i;a.prototype={add:function(e){this.seen[e]!==!0&&(this.seen[e]=!0,this.list.push(e))}};var v=/[^a-zA-Z0-9\-]/,b=/[^a-zA-Z0-9\-]/g,y=/&(?!\w+;)|[<>"'`]/g,E=/[&<>"'`]/,_=function(){var e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("name","foo"),e.appendChild(t),!!e.innerHTML.match("foo")}();o["default"]=function(e,t){return new c(e,t)},c.prototype={reset:function(e,t){this.tagName=e,this.buffer=null,this._element=null,this._outerContextualElement=t,this.elementClasses=null,this.elementId=null,this.elementAttributes=null,this.elementProperties=null,this.elementTag=null,this.elementStyle=null,this.childViews.length=0},_element:null,_outerContextualElement:null,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,pushChildView:function(e){var t=this.childViews.length;this.childViews[t]=e,this.push("<script id='morph-"+t+"' type='text/x-placeholder'></script>")},hydrateMorphs:function(e){for(var t=this.childViews,n=this._element,r=0,i=t.length;i>r;r++){var o=t[r],s=n.querySelector("#morph-"+r),a=s.parentNode;o._morph=this.dom.insertMorphBefore(a,s,1===a.nodeType?a:e),a.removeChild(s)}},push:function(e){return"string"==typeof e?(null===this.buffer&&(this.buffer=""),this.buffer+=e):this.buffer=e,this},addClass:function(e){return this.elementClasses=this.elementClasses||new a,this.elementClasses.add(e),this.classes=this.elementClasses.list,this},setClasses:function(e){this.elementClasses=null;var t,n=e.length;for(t=0;n>t;t++)this.addClass(e[t])},id:function(e){return this.elementId=e,this},attr:function(e,t){var n=this.elementAttributes=this.elementAttributes||{};return 1===arguments.length?n[e]:(n[e]=t,this)},removeAttr:function(e){var t=this.elementAttributes;return t&&delete t[e],this},prop:function(e,t){var n=this.elementProperties=this.elementProperties||{};return 1===arguments.length?n[e]:(n[e]=t,this)},removeProp:function(e){var t=this.elementProperties;return t&&delete t[e],this},style:function(e,t){return this.elementStyle=this.elementStyle||{},this.elementStyle[e]=t,this},generateElement:function(){var e,t,n,r=this.tagName,i=this.elementId,o=this.classes,s=this.elementAttributes,a=this.elementProperties,c=this.elementStyle,d="";n=s&&s.name&&!_?"<"+l(r)+' name="'+u(s.name)+'">':r;var h=this.dom.createElement(n,this.outerContextualElement());if(i&&(this.dom.setAttribute(h,"id",i),this.elementId=null),o&&(this.dom.setAttribute(h,"class",o.join(" ")),this.classes=null,this.elementClasses=null),c){for(t in c)d+=t+":"+c[t]+";";this.dom.setAttribute(h,"style",d),this.elementStyle=null}if(s){for(e in s)this.dom.setAttribute(h,e,s[e]);this.elementAttributes=null}if(a){for(t in a){var f=p(h,t.toLowerCase())||t;this.dom.setPropertyStrict(h,f,a[t])}this.elementProperties=null}this._element=h},element:function(){var e=this.innerContent();if(null===e)return this._element;var t=this.innerContextualElement(e);if(this.dom.detectNamespace(t),this._element||(this._element=document.createDocumentFragment()),e.nodeType)this._element.appendChild(e);else{var n;for(n=this.dom.parseHTML(e,t);n[0];)this._element.appendChild(n[0])}return this.childViews.length>0&&this.hydrateMorphs(t),this._element},string:function(){if(this._element){var e=this.element(),t=e.outerHTML;return"undefined"==typeof t?d("<div/>").append(e).html():t}return this.innerString()},outerContextualElement:function(){return this._outerContextualElement||(this.outerContextualElement=document.body),this._outerContextualElement},innerContextualElement:function(e){var t;t=this._element&&1===this._element.nodeType?this._element:this.outerContextualElement();var n;return e&&(n=s(e,t)),n||t},innerString:function(){var e=this.innerContent();return e&&!e.nodeType?e:void 0},innerContent:function(){return this.buffer}}}),e("ember-views/system/renderer",["ember-metal/core","ember-metal-views/renderer","ember-metal/platform","ember-views/system/render_buffer","ember-metal/run_loop","ember-metal/property_set","ember-metal/property_get","ember-metal/instrumentation","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(){this.buffer=h(),this._super$constructor()}var c=(e["default"],t["default"]),d=n.create,h=r["default"],f=i["default"],p=o.set,m=s.get,g=a._instrumentStart,v=a.subscribers;u.prototype=d(c.prototype),u.prototype.constructor=u,u.prototype._super$constructor=c,u.prototype.scheduleRender=function(e,t){return f.scheduleOnce("render",e,t)},u.prototype.cancelRender=function(e){f.cancel(e)},u.prototype.createElement=function(e,t){var n=e.tagName;void 0===n&&(n=m(e,"tagName"));{var r=e.classNameBindings;""===n&&r&&r.length>0}(null===n||void 0===n)&&(n="div");var i=e.buffer=this.buffer;i.reset(n,t),e.beforeRender&&e.beforeRender(i),""!==n&&(e.applyAttributesToBuffer&&e.applyAttributesToBuffer(i),i.generateElement()),e.render&&e.render(i),e.afterRender&&e.afterRender(i);var o=i.element();return e.buffer=null,o&&1===o.nodeType&&(e.element=o),o},u.prototype.destroyView=function(e){e.removedFromDOM=!0,e.destroy()},u.prototype.childViews=function(e){return e._childViews},c.prototype.willCreateElement=function(e){v.length&&e.instrumentDetails&&(e._instrumentEnd=g("render."+e.instrumentName,function(){var t={};return e.instrumentDetails(t),t})),e._transitionTo&&e._transitionTo("inBuffer")},c.prototype.didCreateElement=function(e){e._transitionTo&&e._transitionTo("hasElement"),e._instrumentEnd&&e._instrumentEnd()},c.prototype.willInsertElement=function(e){e.trigger&&e.trigger("willInsertElement")},c.prototype.didInsertElement=function(e){e._transitionTo&&e._transitionTo("inDOM"),e.trigger&&e.trigger("didInsertElement")},c.prototype.willRemoveElement=function(e){},c.prototype.willDestroyElement=function(e){e.trigger&&e.trigger("willDestroyElement"),e.trigger&&e.trigger("willClearRender")},c.prototype.didDestroyElement=function(e){p(e,"element",null),e._transitionTo&&e._transitionTo("preRender")},l["default"]=u}),e("ember-views/system/sanitize_attribute_value",["exports"],function(e){"use strict";var t,n={"javascript:":!0,"vbscript:":!0},r={A:!0,BODY:!0,LINK:!0,IMG:!0,IFRAME:!0},i={href:!0,src:!0,background:!0};e.badAttributes=i,e["default"]=function(e,o,s){var a;return t||(t=document.createElement("a")),a=e?e.tagName:null,s&&s.toHTML?s.toHTML():(null===a||r[a])&&i[o]&&(t.href=s,n[t.protocol]===!0)?"unsafe:"+s:s}}),e("ember-views/system/utils",["exports"],function(e){"use strict";function t(e){var t=e.shiftKey||e.metaKey||e.altKey||e.ctrlKey,n=e.which>1;return!t&&!n}function n(e){var t=document.createRange();return t.setStartAfter(e._morph.start),t.setEndBefore(e._morph.end),t}function r(e){var t=n(e);return t.getClientRects()}function i(e){var t=n(e);return t.getBoundingClientRect()}e.isSimpleClick=t,e.getViewClientRects=r,e.getViewBoundingClientRect=i}),e("ember-views/views/bound_view",["ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-htmlbars/utils/string","ember-views/views/states","ember-views/views/metamorph_view","exports"],function(e,t,n,r,i,o,s){"use strict";function a(){return this}var l=e.get,u=t.set,c=n["default"],d=r.escapeExpression,h=r.SafeString,f=i.cloneStates,p=i.states,m=o["default"],g=f(p);c(g._default,{rerenderIfNeeded:a}),c(g.inDOM,{rerenderIfNeeded:function(e){e.normalizedValue()!==e._lastNormalizedValue&&e.rerender()}});var v=m.extend({instrumentName:"bound",_states:g,shouldDisplayFunc:null,preserveContext:!1,previousContext:null,displayTemplate:null,inverseTemplate:null,lazyValue:null,normalizedValue:function(){var e=this.lazyValue.value(),t=l(this,"valueNormalizerFunc");return t?t(e):e},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)},render:function(e){var t=l(this,"isEscaped"),n=l(this,"shouldDisplayFunc"),r=l(this,"preserveContext"),i=l(this,"previousContext"),o=l(this,"inverseTemplate"),s=l(this,"displayTemplate"),a=this.normalizedValue();if(this._lastNormalizedValue=a,n(a))if(u(this,"template",s),r)u(this,"_context",i);else{if(!s)return null===a||void 0===a?a="":a instanceof h||(a=String(a)),t&&(a=d(a)),void e.push(a);u(this,"_context",a)}else o?(u(this,"template",o),r?u(this,"_context",i):u(this,"_context",a)):u(this,"template",function(){return""});return this._super(e)}});s["default"]=v}),e("ember-views/views/checkbox",["ember-metal/property_get","ember-metal/property_set","ember-views/views/view","exports"],function(e,t,n,r){"use strict";var i=e.get,o=t.set,s=n["default"];r["default"]=s.extend({instrumentDisplay:'{{input type="checkbox"}}',classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","required","form"],type:"checkbox",checked:!1,disabled:!1,indeterminate:!1,init:function(){this._super(),this.on("change",this,this._updateElementValue)},didInsertElement:function(){this._super(),i(this,"element").indeterminate=!!i(this,"indeterminate")},_updateElementValue:function(){o(this,"checked",this.$().prop("checked"))}})}),e("ember-views/views/collection_view",["ember-metal/core","ember-metal/binding","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-views/views/container_view","ember-views/views/core_view","ember-views/views/view","ember-metal/mixin","ember-views/streams/utils","ember-runtime/mixins/array","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d){"use strict";var h=(e["default"],t.isGlobalPath),f=n.get,p=r.set,m=(i.fmt,o["default"]),g=s["default"],v=a["default"],b=l.observer,y=l.beforeObserver,E=u.readViewFactory,_=(c["default"],m.extend({content:null,emptyViewClass:v,emptyView:null,itemViewClass:v,init:function(){var e=this._super();return this._contentDidChange(),e},_contentWillChange:y("content",function(){var e=this.get("content");e&&e.removeArrayObserver(this);var t=e?f(e,"length"):0;this.arrayWillChange(e,0,t)}),_contentDidChange:b("content",function(){var e=f(this,"content");e&&(this._assertArrayLike(e),e.addArrayObserver(this));var t=e?f(e,"length"):0;this.arrayDidChange(e,0,null,t)}),_assertArrayLike:function(e){},destroy:function(){if(this._super()){var e=f(this,"content");return e&&e.removeArrayObserver(this),this._createdEmptyView&&this._createdEmptyView.destroy(),this}},arrayWillChange:function(e,t,n){var r=f(this,"emptyView");r&&r instanceof v&&r.removeFromParent();var i,o,s=this._childViews;for(o=t+n-1;o>=t;o--)i=s[o],i.destroy()},arrayDidChange:function(e,t,n,r){var i,o,s,a,l,u,c,d=[];if(a=e?f(e,"length"):0)for(c=this._itemViewProps||{},l=f(this,"itemViewClass"),l=E(l,this.container),s=t;t+r>s;s++)o=e.objectAt(s),c.content=o,c._blockArguments=[o],c.contentIndex=s,i=this.createChildView(l,c),d.push(i);else{if(u=f(this,"emptyView"),!u)return;"string"==typeof u&&h(u)&&(u=f(u)||u),u=this.createChildView(u),d.push(u),p(this,"emptyView",u),g.detect(u)&&(this._createdEmptyView=u)}this.replace(t,0,d)},createChildView:function(e,t){e=this._super(e,t);var n=f(e,"tagName");return(null===n||void 0===n)&&(n=_.CONTAINER_MAP[f(this,"tagName")],p(e,"tagName",n)),e}}));_.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"},d["default"]=_}),e("ember-views/views/component",["ember-metal/core","ember-views/mixins/component_template_deprecation","ember-runtime/mixins/target_action_support","ember-views/views/view","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/computed","ember-htmlbars/templates/component","exports"],function(e,t,n,r,i,o,s,a,l,u){"use strict";var c=e["default"],d=t["default"],h=n["default"],f=r["default"],p=i.get,m=o.set,g=(s["default"],a.computed),v=l["default"],b=Array.prototype.slice,y=f.extend(h,d,{instrumentName:"component",instrumentDisplay:g(function(){return this._debugContainerKey?"{{"+this._debugContainerKey.split(":")[1]+"}}":void 0}),init:function(){this._super(),this._keywords.view=this,m(this,"context",this),m(this,"controller",this)},defaultLayout:v,template:g(function(e,t){if(void 0!==t)return t;var n=p(this,"templateName"),r=this.templateForName(n,"template");return r||p(this,"defaultTemplate")}).property("templateName"),templateName:null,_setupKeywords:function(){},_yield:function(e,t,n,r){var i=t.data.view,o=this._parentView,s=p(this,"template");s&&i.appendChild(f,{isVirtual:!0,tagName:"",template:s,_blockArguments:r,_contextView:o,_morph:n,context:p(o,"context"),controller:p(o,"controller")})},targetObject:g(function(e){var t=p(this,"_parentView");return t?p(t,"controller"):null}).property("_parentView"),sendAction:function(e){var t,n=b.call(arguments,1);t=void 0===e?p(this,"action"):p(this,e),void 0!==t&&this.triggerAction({action:t,actionContext:n})},send:function(e){var t,n=[].slice.call(arguments,1),r=this._actions&&this._actions[e];if(!r||this._actions[e].apply(this,n)===!0)if(t=p(this,"target"))t.send.apply(t,arguments);else if(!r)throw new Error(c.inspect(this)+" had no action handler for: "+e)}});u["default"]=y}),e("ember-views/views/container_view",["ember-metal/core","ember-metal/merge","ember-runtime/mixins/mutable_array","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/states","ember-metal/error","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/run_loop","ember-metal/properties","ember-metal/mixin","ember-runtime/system/native_array","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p){"use strict";function m(){return this}var g=(e["default"],t["default"]),v=n["default"],b=r.get,y=i.set,E=o["default"],_=s.cloneStates,T=s.states,C=a["default"],O=l.forEach,I=u.computed,D=c["default"],R=d.defineProperty,w=h.observer,x=h.beforeObserver,k=(f.A,_(T)),S=E.extend(v,{_states:k,willWatchProperty:function(e){},init:function(){this._super();var e=b(this,"childViews");R(this,"childViews",E.childViewsProperty);var t=this._childViews;O(e,function(e,n){var r;"string"==typeof e?(r=b(this,e),r=this.createChildView(r),y(this,e,r)):r=this.createChildView(e),t[n]=r},this);var n=b(this,"currentView");n&&(t.length||(t=this._childViews=this._childViews.slice()),t.push(this.createChildView(n)))},replace:function(e,t,n){var r=n?b(n,"length"):0;if(this.arrayContentWillChange(e,t,r),this.childViewsWillChange(this._childViews,e,t),0===r)this._childViews.splice(e,t);else{var i=[e,t].concat(n);n.length&&!this._childViews.length&&(this._childViews=this._childViews.slice()),this._childViews.splice.apply(this._childViews,i)}return this.arrayContentDidChange(e,t,r),
this.childViewsDidChange(this._childViews,e,t,r),this},objectAt:function(e){return this._childViews[e]},length:I(function(){return this._childViews.length})["volatile"](),render:function(e){var t=e.element(),n=e.dom;return""===this.tagName?(t=n.createDocumentFragment(),e._element=t,this._childViewsMorph=n.appendMorph(t,this._morph.contextualElement)):this._childViewsMorph=n.createMorph(t,t.lastChild,null),t},instrumentName:"container",childViewsWillChange:function(e,t,n){if(this.propertyWillChange("childViews"),n>0){var r=e.slice(t,t+n);this.currentState.childViewsWillChange(this,e,t,n),this.initializeViews(r,null,null)}},removeChild:function(e){return this.removeObject(e),this},childViewsDidChange:function(e,t,n,r){if(r>0){var i=e.slice(t,t+r);this.initializeViews(i,this),this.currentState.childViewsDidChange(this,e,t,r)}this.propertyDidChange("childViews")},initializeViews:function(e,t){O(e,function(e){y(e,"_parentView",t),!e.container&&t&&y(e,"container",t.container)})},currentView:null,_currentViewWillChange:x("currentView",function(){var e=b(this,"currentView");e&&e.destroy()}),_currentViewDidChange:w("currentView",function(){var e=b(this,"currentView");e&&this.pushObject(e)}),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}});g(k._default,{childViewsWillChange:m,childViewsDidChange:m,ensureChildrenAreInDOM:m}),g(k.inBuffer,{childViewsDidChange:function(e,t,n,r){throw new C("You cannot modify child views while in the inBuffer state")}}),g(k.hasElement,{childViewsWillChange:function(e,t,n,r){for(var i=n;n+r>i;i++){var o=t[i];o._unsubscribeFromStreamBindings(),o.remove()}},childViewsDidChange:function(e,t,n,r){D.scheduleOnce("render",e,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(e){var t,n,r,i=e._childViews,o=e._renderer;for(t=0,n=i.length;n>t;t++)r=i[t],r._elementCreated||o.renderTree(r,e,t)}}),p["default"]=S}),e("ember-views/views/core_view",["ember-views/system/renderer","ember-views/views/states","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-metal/property_get","ember-metal/computed","ember-metal/utils","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(){return this}var c=e["default"],d=t.cloneStates,h=t.states,f=n["default"],p=r["default"],m=i["default"],g=o.get,v=s.computed,b=a.typeOf,y=f.extend(p,m,{isView:!0,isVirtual:!1,_states:d(h),init:function(){this._super(),this._state="preRender",this.currentState=this._states.preRender,this._isVisible=g(this,"isVisible")},parentView:v("_parentView",function(){var e=this._parentView;return e&&e.isVirtual?g(e,"parentView"):e}),_state:null,_parentView:null,concreteView:v("parentView",function(){return this.isVirtual?g(this,"parentView.concreteView"):this}),instrumentName:"core_view",instrumentDetails:function(e){e.object=this.toString(),e.containerKey=this._debugContainerKey,e.view=this},trigger:function(){this._super.apply(this,arguments);var e=arguments[0],t=this[e];if(t){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];return t.apply(this,r)}},has:function(e){return"function"===b(this[e])||this._super(e)},destroy:function(){var e=this._parentView;if(this._super())return!this.removedFromDOM&&this._renderer&&this._renderer.remove(this,!0),e&&e.removeChild(this),this._transitionTo("destroying",!1),this},clearRenderedChildren:u,_transitionTo:u,destroyElement:u});y.reopenClass({renderer:new c}),l["default"]=y}),e("ember-views/views/each",["ember-metal/core","ember-runtime/system/string","ember-metal/property_get","ember-metal/property_set","ember-views/views/collection_view","ember-metal/binding","ember-runtime/mixins/controller","ember-runtime/controllers/array_controller","ember-runtime/mixins/array","ember-metal/observer","ember-views/views/metamorph_view","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d){"use strict";var h=(e["default"],t.fmt,n.get),f=r.set,p=i["default"],m=o.Binding,g=(s["default"],a["default"],l["default"],u.addObserver),v=u.removeObserver,b=u.addBeforeObserver,y=u.removeBeforeObserver,E=c["default"],_=c._Metamorph;d["default"]=p.extend(_,{init:function(){var e,t=h(this,"itemController");if(t){var n=h(this,"controller.container").lookupFactory("controller:array").create({_isVirtual:!0,parentController:h(this,"controller"),itemController:t,target:h(this,"controller"),_eachView:this});this.disableContentObservers(function(){f(this,"content",n),e=new m("content","_eachView.dataSource").oneWay(),e.connect(n)}),f(this,"_arrayController",n)}else this.disableContentObservers(function(){e=new m("content","dataSource").oneWay(),e.connect(this)});return this._super()},_assertArrayLike:function(e){},disableContentObservers:function(e){y(this,"content",null,"_contentWillChange"),v(this,"content",null,"_contentDidChange"),e.call(this),b(this,"content",null,"_contentWillChange"),g(this,"content",null,"_contentDidChange")},itemViewClass:E,emptyViewClass:E,createChildView:function(e,t){e=this._super(e,t);var n=h(e,"content"),r=h(this,"keyword");return r&&(e._keywords[r]=n),n&&n.isController&&f(e,"controller",n),e},destroy:function(){if(this._super()){var e=h(this,"_arrayController");return e&&e.destroy(),this}}})}),e("ember-views/views/metamorph_view",["ember-metal/core","ember-views/views/core_view","ember-views/views/view","ember-metal/mixin","exports"],function(e,t,n,r,i){"use strict";var o=(e["default"],t["default"]),s=n["default"],a=r.Mixin,l=a.create({isVirtual:!0,tagName:"",instrumentName:"metamorph",init:function(){this._super()}});i._Metamorph=l,i["default"]=s.extend(l);var u=o.extend(l);i._SimpleMetamorphView=u}),e("ember-views/views/select",["ember-metal/enumerable_utils","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/collection_view","ember-metal/utils","ember-metal/is_none","ember-metal/computed","ember-runtime/system/native_array","ember-metal/mixin","ember-metal/properties","ember-metal/run_loop","ember-htmlbars/templates/select","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f){"use strict";var p=e.forEach,m=e.indexOf,g=e.indexesOf,v=e.replace,b=t.get,y=n.set,E=r["default"],_=i["default"],T=o.isArray,C=s["default"],O=a.computed,I=l.A,D=u.observer,R=c.defineProperty,w=d["default"],x=h["default"],k=x,S={isHTMLBars:!0,render:function(e,t,n){var r=e.getStream("view.label");return r.subscribe(e._wrapAsScheduled(function(){w.scheduleOnce("render",e,"rerender")})),r.value()}},K=E.extend({instrumentDisplay:"Ember.SelectOption",tagName:"option",attributeBindings:["value","selected"],defaultTemplate:S,init:function(){this.labelPathDidChange(),this.valuePathDidChange(),this._super()},selected:O(function(){var e=b(this,"content"),t=b(this,"parentView.selection");return b(this,"parentView.multiple")?t&&m(t,e.valueOf())>-1:e==t}).property("content","parentView.selection"),labelPathDidChange:D("parentView.optionLabelPath",function(){var e=b(this,"parentView.optionLabelPath");e&&R(this,"label",O(function(){return b(this,e)}).property(e))}),valuePathDidChange:D("parentView.optionValuePath",function(){var e=b(this,"parentView.optionValuePath");e&&R(this,"value",O(function(){return b(this,e)}).property(e))})}),N=_.extend({instrumentDisplay:"Ember.SelectOptgroup",tagName:"optgroup",attributeBindings:["label"],selectionBinding:"parentView.selection",multipleBinding:"parentView.multiple",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",itemViewClassBinding:"parentView.optionView"}),A=E.extend({instrumentDisplay:"Ember.Select",tagName:"select",classNames:["ember-select"],defaultTemplate:k,attributeBindings:["multiple","disabled","tabindex","name","required","autofocus","form","size"],multiple:!1,disabled:!1,required:!1,content:null,selection:null,value:O(function(e,t){if(2===arguments.length)return t;var n=b(this,"optionValuePath").replace(/^content\.?/,"");return n?b(this,"selection."+n):b(this,"selection")}).property("selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionGroupPath:null,groupView:N,groupedContent:O(function(){var e=b(this,"optionGroupPath"),t=I(),n=b(this,"content")||[];return p(n,function(n){var r=b(n,e);b(t,"lastObject.label")!==r&&t.pushObject({label:r,content:I()}),b(t,"lastObject.content").push(n)}),t}).property("optionGroupPath","content.@each"),optionView:K,_change:function(){b(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:D("selection.@each",function(){var e=b(this,"selection");if(b(this,"multiple")){if(!T(e))return void y(this,"selection",I([e]));this._selectionDidChangeMultiple()}else this._selectionDidChangeSingle()}),valueDidChange:D("value",function(){var e,t=b(this,"content"),n=b(this,"value"),r=b(this,"optionValuePath").replace(/^content\.?/,""),i=r?b(this,"selection."+r):b(this,"selection");n!==i&&(e=t?t.find(function(e){return n===(r?b(e,r):e)}):null,this.set("selection",e))}),_setDefaults:function(){var e=b(this,"selection"),t=b(this,"value");C(e)||this.selectionDidChange(),C(t)||this.valueDidChange(),C(e)&&this._change()},_changeSingle:function(){var e=this.$()[0].selectedIndex,t=b(this,"content"),n=b(this,"prompt");if(t&&b(t,"length")){if(n&&0===e)return void y(this,"selection",null);n&&(e-=1),y(this,"selection",t.objectAt(e))}},_changeMultiple:function(){var e=this.$("option:selected"),t=b(this,"prompt"),n=t?1:0,r=b(this,"content"),i=b(this,"selection");if(r&&e){var o=e.map(function(){return this.index-n}).toArray(),s=r.objectsAt(o);T(i)?v(i,0,b(i,"length"),s):y(this,"selection",s)}},_selectionDidChangeSingle:function(){var e=b(this,"content"),t=b(this,"selection"),n=this;t&&t.then?t.then(function(r){n.get("selection")===t&&n._setSelectionIndex(e,r)}):this._setSelectionIndex(e,t)},_setSelectionIndex:function(e,t){var n=b(this,"element");if(n){var r=e?m(e,t):-1,i=b(this,"prompt");i&&(r+=1),n&&(n.selectedIndex=r)}},_selectionDidChangeMultiple:function(){var e,t=b(this,"content"),n=b(this,"selection"),r=t?g(t,n):[-1],i=b(this,"prompt"),o=i?1:0,s=this.$("option");s&&s.each(function(){e=this.index>-1?this.index-o:-1,this.selected=m(r,e)>-1})},init:function(){this._super(),this.on("didInsertElement",this,this._setDefaults),this.on("change",this,this._change)}});f["default"]=A,f.Select=A,f.SelectOption=K,f.SelectOptgroup=N}),e("ember-views/views/simple_bound_view",["ember-metal/error","ember-metal/run_loop","ember-htmlbars/utils/string","ember-metal/utils","exports"],function(e,t,n,r,i){"use strict";function o(){return this}function s(e,t){this.lazyValue=e,this.isEscaped=t,this[h]=f(),this._lastNormalizedValue=void 0,this.state="preRender",this.updateId=null,this._parentView=null,this.buffer=null,this._morph=null}function a(e,t,n){var r=new s(n,t.escaped);r._morph=t,n.subscribe(e._wrapAsScheduled(function(){u.scheduleOnce("render",r,"rerender")})),e.appendChild(r)}var l=e["default"],u=t["default"],c=n.SafeString,d=n.htmlSafe,h=r.GUID_KEY,f=r.uuid,p=c,m=d;s.prototype={isVirtual:!0,isView:!0,tagName:"",destroy:function(){this.updateId&&(u.cancel(this.updateId),this.updateId=null),this._parentView&&this._parentView.removeChild(this),this.morph=null,this.state="destroyed"},propertyWillChange:o,propertyDidChange:o,normalizedValue:function(){var e=this.lazyValue.value();return null===e||void 0===e?e="":this.isEscaped||e instanceof p||(e=m(e)),e},render:function(e){var t=this.normalizedValue();this._lastNormalizedValue=t,e._element=t},rerender:function(){switch(this.state){case"preRender":case"destroyed":break;case"inBuffer":throw new l("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=u.scheduleOnce("render",this,"update")}return this},update:function(){this.updateId=null;var e=this.normalizedValue();e!==this._lastNormalizedValue&&(this._lastNormalizedValue=e,this._morph.setContent(e))},_transitionTo:function(e){this.state=e}},i.appendSimpleBoundView=a,i["default"]=s}),e("ember-views/views/states",["ember-metal/platform","ember-metal/merge","ember-views/views/states/default","ember-views/views/states/pre_render","ember-views/views/states/in_buffer","ember-views/views/states/has_element","ember-views/views/states/in_dom","ember-views/views/states/destroying","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(e){var t={};t._default={},t.preRender=c(t._default),t.destroying=c(t._default),t.inBuffer=c(t._default),t.hasElement=c(t._default),t.inDOM=c(t.hasElement);for(var n in e)e.hasOwnProperty(n)&&d(t[n],e[n]);return t}var c=e.create,d=t["default"],h=n["default"],f=r["default"],p=i["default"],m=o["default"],g=s["default"],v=a["default"];l.cloneStates=u;var b={_default:h,preRender:f,inDOM:g,inBuffer:p,hasElement:m,destroying:v};l.states=b}),e("ember-views/views/states/default",["ember-metal/error","exports"],function(e,t){"use strict";function n(){return this}var r=e["default"];t["default"]={appendChild:function(){throw new r("You can't use appendChild outside of the rendering process")},$:function(){return void 0},getElement:function(){return null},handleEvent:function(){return!0},destroyElement:function(e){return e._renderer&&e._renderer.remove(e,!1),e},rerender:n,invokeObserver:n}}),e("ember-views/views/states/destroying",["ember-metal/merge","ember-metal/platform","ember-runtime/system/string","ember-views/views/states/default","ember-metal/error","exports"],function(e,t,n,r,i,o){"use strict";var s=e["default"],a=t.create,l=n.fmt,u=r["default"],c=i["default"],d="You can't call %@ on a view being destroyed",h=a(u);s(h,{appendChild:function(){throw new c(l(d,["appendChild"]))},rerender:function(){throw new c(l(d,["rerender"]))},destroyElement:function(){throw new c(l(d,["destroyElement"]))}}),o["default"]=h}),e("ember-views/views/states/has_element",["ember-views/views/states/default","ember-metal/run_loop","ember-metal/merge","ember-metal/platform","ember-views/system/jquery","ember-metal/error","ember-metal/property_get","exports"],function(e,t,n,r,i,o,s,a){"use strict";var l=e["default"],u=t["default"],c=n["default"],d=r.create,h=i["default"],f=o["default"],p=s.get,m=d(l);c(m,{$:function(e,t){var n=e.get("concreteView").element;return t?h(t,n):h(n)},getElement:function(e){var t=p(e,"parentView");return t&&(t=p(t,"element")),t?e.findElementInParentElement(t):h("#"+p(e,"elementId"))[0]},rerender:function(e){if(e._root._morph&&!e._elementInserted)throw new f("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.");u.scheduleOnce("render",function(){e.isDestroying||e._renderer.renderTree(e,e._parentView)})},destroyElement:function(e){return e._renderer.remove(e,!1),e},handleEvent:function(e,t,n){return e.has(t)?e.trigger(t,n):!0},invokeObserver:function(e,t){t.call(e)}}),a["default"]=m}),e("ember-views/views/states/in_buffer",["ember-views/views/states/default","ember-metal/error","ember-views/system/jquery","ember-metal/platform","ember-metal/merge","exports"],function(e,t,n,r,i,o){"use strict";var s=e["default"],a=t["default"],l=n["default"],u=r.create,c=i["default"],d=u(s);c(d,{$:function(e,t){return e.rerender(),l()},rerender:function(e){throw new a("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(e,t,n){var r=e.buffer,i=e._childViews;return t=e.createChildView(t,n),i.length||(i=e._childViews=i.slice()),i.push(t),t._morph||r.pushChildView(t),e.propertyDidChange("childViews"),t},invokeObserver:function(e,t){t.call(e)}}),o["default"]=d}),e("ember-views/views/states/in_dom",["ember-metal/core","ember-metal/platform","ember-metal/merge","ember-metal/error","ember-metal/observer","ember-views/views/states/has_element","exports"],function(e,n,r,i,o,s,a){"use strict";var l,u=(e["default"],n.create),c=r["default"],d=(i["default"],o.addBeforeObserver,s["default"]),h=u(d);c(h,{enter:function(e){l||(l=t("ember-views/views/view")["default"]),e.isVirtual||(l.views[e.elementId]=e)},exit:function(e){l||(l=t("ember-views/views/view")["default"]),this.isVirtual||delete l.views[e.elementId]}}),a["default"]=h}),e("ember-views/views/states/pre_render",["ember-views/views/states/default","ember-metal/platform","exports"],function(e,t,n){"use strict";var r=e["default"],i=t.create,o=i(r);n["default"]=o}),e("ember-views/views/text_area",["ember-metal/property_get","ember-views/views/component","ember-views/mixins/text_support","ember-metal/mixin","exports"],function(e,t,n,r,i){"use strict";var o=e.get,s=t["default"],a=n["default"],l=r.observer;i["default"]=s.extend(a,{instrumentDisplay:"{{textarea}}",classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap","lang","dir"],rows:null,cols:null,_updateElementValue:l("value",function(){var e=o(this,"value"),t=this.$();t&&e!==t.val()&&t.val(e)}),init:function(){this._super(),this.on("didInsertElement",this,this._updateElementValue)}})}),e("ember-views/views/text_field",["ember-views/views/component","ember-views/mixins/text_support","exports"],function(e,t,n){"use strict";var r=e["default"],i=t["default"];n["default"]=r.extend(i,{instrumentDisplay:'{{input type="text"}}',classNames:["ember-text-field"],tagName:"input",attributeBindings:["accept","autocomplete","autosave","dir","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","lang","list","max","min","multiple","name","pattern","size","step","type","value","width"],defaultLayout:null,value:"",type:"text",size:null,pattern:null,min:null,max:null})}),e("ember-views/views/view",["ember-metal/core","ember-metal/platform","ember-runtime/mixins/evented","ember-runtime/system/object","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/set_properties","ember-metal/run_loop","ember-metal/observer","ember-metal/properties","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-views/streams/key_stream","ember-metal/streams/stream_binding","ember-views/streams/context_stream","ember-metal/is_none","ember-metal/deprecate_property","ember-runtime/system/native_array","ember-views/streams/class_name_binding","ember-metal/enumerable_utils","ember-metal/property_events","ember-views/system/jquery","ember-views/system/ext","ember-views/views/core_view","ember-metal/streams/utils","ember-views/system/sanitize_attribute_value","morph/dom-helper/prop","exports"],function(e,t,r,i,o,s,a,l,u,c,d,h,f,p,m,g,v,b,y,E,_,T,C,O,I,D,R,w,x,k){"use strict";function S(){return this}function K(){return N||(N=n("ember-htmlbars").defaultEnv),P(N)}var N,A=e["default"],P=t.create,L=r["default"],M=i["default"],F=o["default"],B=s.get,$=a.set,j=l["default"],H=u["default"],z=c.addObserver,V=c.removeObserver,q=d.defineProperty,U=h.guidFor,W=f.computed,Y=p.observer,G=m["default"],X=g["default"],Q=v["default"],Z=h.typeOf,J=b["default"],ee=p.Mixin,te=y.deprecateProperty,ne=E.A,re=_.streamifyClassNameBinding,ie=T.forEach,oe=T.addObject,se=T.removeObject,ae=p.beforeObserver,le=C.propertyWillChange,ue=C.propertyDidChange,ce=O["default"],de=D["default"],he=R.subscribe,fe=R.read,pe=R.isStream,me=w["default"],ge=x.normalizeProperty,ve=W(function(){var e=this._childViews,t=ne();return ie(e,function(e){var n;e.isVirtual?(n=B(e,"childViews"))&&t.pushObjects(n):t.push(e)}),t.replace=function(e,t,n){throw new F("childViews is immutable")},t});A.TEMPLATES={};var be=[],ye=de.extend({concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:!0,templateName:null,layoutName:null,instrumentDisplay:W(function(){return this.helperName?"{{"+this.helperName+"}}":void 0}),template:W("templateName",function(e,t){if(void 0!==t)return t;var n=B(this,"templateName"),r=this.templateForName(n,"template");return r||B(this,"defaultTemplate")}),_controller:null,controller:W(function(e,t){if(2===arguments.length)return this._controller=t,t;if(this._controller)return this._controller;var n=B(this,"_parentView");return n?B(n,"controller"):null}),layout:W(function(e){var t=B(this,"layoutName"),n=this.templateForName(t,"layout");return n||B(this,"defaultLayout")}).property("layoutName"),_yield:function(e,t,n){var r=B(this,"template");if(r){var i=!1;return i=r.isHTMLBars,i?r.render(this,t,n.contextualElement):r(e,t)}},_blockArguments:be,templateForName:function(e,t){if(e){if(!this.container)throw new F("Container was not found when looking up a views template. This is most likely due to manually instantiating an Ember.View. See: http://git.io/EKPpnA");return this.container.lookup("template:"+e)}},context:W(function(e,t){return 2===arguments.length?($(this,"_context",t),t):B(this,"_context")})["volatile"](),_context:W(function(e,t){if(2===arguments.length)return t;var n,r;return(r=B(this,"controller"))?r:(n=this._parentView,n?B(n,"_context"):null)}),_contextDidChange:Y("context",function(){this.rerender()}),isVisible:!0,childViews:ve,_childViews:be,_childViewsWillChange:ae("childViews",function(){if(this.isVirtual){var e=B(this,"parentView");e&&le(e,"childViews")}}),_childViewsDidChange:Y("childViews",function(){if(this.isVirtual){var e=B(this,"parentView");e&&ue(e,"childViews")}}),nearestInstanceOf:function(e){for(var t=B(this,"parentView");t;){if(t instanceof e)return t;t=B(t,"parentView")}},nearestOfType:function(e){for(var t=B(this,"parentView"),n=e instanceof ee?function(t){return e.detect(t)}:function(t){return e.detect(t.constructor)};t;){if(n(t))return t;t=B(t,"parentView")}},nearestWithProperty:function(e){for(var t=B(this,"parentView");t;){if(e in t)return t;t=B(t,"parentView")}},nearestChildOf:function(e){for(var t=B(this,"parentView");t;){if(B(t,"parentView")instanceof e)return t;t=B(t,"parentView")}},_parentViewDidChange:Y("_parentView",function(){this.isDestroying||(this._setupKeywords(),this.trigger("parentViewDidChange"),B(this,"parentView.controller")&&!B(this,"controller")&&this.notifyPropertyChange("controller"))}),_controllerDidChange:Y("controller",function(){this.isDestroying||(this.rerender(),this.forEachChildView(function(e){e.propertyDidChange("controller")}))}),_setupKeywords:function(){var e=this._keywords,t=this._contextView||this._parentView;if(t){var n=t._keywords;e.view=this.isVirtual?n.view:this;for(var r in n)e[r]||(e[r]=n[r])}else e.view=this.isVirtual?null:this},render:function(e){var t=B(this,"layout")||B(this,"template");if(t){var n,r=B(this,"context"),i={view:this,buffer:e,isRenderData:!0},o={data:i},s=!1;if(s=t.isHTMLBars){var a=A.merge(K(),o);n=t.render(this,a,e.innerContextualElement(),this._blockArguments)}else n=t(r,o);void 0!==n&&e.push(n)}},rerender:function(){return this.currentState.rerender(this)},_applyClassNameBindings:function(e){var t,n,r,i=this.classNames;ie(e,function(e){var o;o=pe(e)?e:re(this,e,"_view.");var s,a=this._wrapAsScheduled(function(){t=this.$(),n=fe(o),s&&(t.removeClass(s),i.removeObject(s)),n?(t.addClass(n),s=n):s=null});r=fe(o),r&&(oe(i,r),s=r),he(o,a,this),this.one("willClearRender",function(){s&&(i.removeObject(s),s=null)})},this)},_unspecifiedAttributeBindings:null,_applyAttributeBindings:function(e,t){var n,r=this._unspecifiedAttributeBindings=this._unspecifiedAttributeBindings||{};ie(t,function(t){var i=t.split(":"),o=i[0],s=i[1]||o;o in this?(this._setupAttributeBindingObservation(o,s),n=B(this,o),ye.applyAttributeBindings(e,s,n)):r[o]=s},this),this.setUnknownProperty=this._setUnknownProperty},_setupAttributeBindingObservation:function(e,t){var n,r,i=function(){r=this.$(),n=B(this,e);var i=ge(r,t.toLowerCase())||t;ye.applyAttributeBindings(r,i,n)};this.registerObserver(this,e,i)},setUnknownProperty:null,_setUnknownProperty:function(e,t){var n=this._unspecifiedAttributeBindings&&this._unspecifiedAttributeBindings[e];return n&&this._setupAttributeBindingObservation(e,n),q(this,e),$(this,e,t)},_classStringForProperty:function(e){return ye._classStringForValue(e.path,e.stream.value(),e.className,e.falsyClassName)},element:null,$:function(e){return this.currentState.$(this,e)},mutateChildViews:function(e){for(var t,n=this._childViews,r=n.length;--r>=0;)t=n[r],e(this,t,r);return this},forEachChildView:function(e){var t=this._childViews;if(!t)return this;var n,r,i=t.length;for(r=0;i>r;r++)n=t[r],e(n);return this},appendTo:function(e){var t=ce(e);return this.constructor.renderer.appendTo(this,t[0]),this},replaceIn:function(e){var t=ce(e);return this.constructor.renderer.replaceIn(this,t[0]),this},append:function(){return this.appendTo(document.body)},remove:function(){this.removedFromDOM||this.destroyElement()},elementId:null,findElementInParentElement:function(e){var t="#"+this.elementId;return ce(t)[0]||ce(t,e)[0]},createElement:function(){return this.element?this:(this._didCreateElementWithoutMorph=!0,this.constructor.renderer.renderTree(this),this)},willInsertElement:S,didInsertElement:S,willClearRender:S,destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:S,parentViewDidChange:S,instrumentName:"view",instrumentDetails:function(e){e.template=B(this,"templateName"),this._super(e)},beforeRender:function(e){},afterRender:function(e){},applyAttributesToBuffer:function(e){var t=this.classNameBindings;t.length&&this._applyClassNameBindings(t);var n=this.attributeBindings;n.length&&this._applyAttributeBindings(e,n),e.setClasses(this.classNames),e.id(this.elementId);var r=B(this,"ariaRole");r&&e.attr("role",r),B(this,"isVisible")===!1&&e.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:be,attributeBindings:be,init:function(){this.isVirtual||this.elementId||(this.elementId=U(this)),this._super(),this._childViews=this._childViews.slice(),this._baseContext=void 0,this._contextStream=void 0,this._streamBindings=void 0,this._keywords||(this._keywords=P(null)),this._keywords._view=this,this._keywords.view=void 0,this._keywords.controller=new G(this,"controller"),this._setupKeywords(),this.classNameBindings=ne(this.classNameBindings.slice()),this.classNames=ne(this.classNames.slice())},appendChild:function(e,t){return this.currentState.appendChild(this,e,t)},removeChild:function(e){if(!this.isDestroying){$(e,"_parentView",null);var t=this._childViews;return se(t,e),this.propertyDidChange("childViews"),this}},removeAllChildren:function(){return this.mutateChildViews(function(e,t){e.removeChild(t)})},destroyAllChildren:function(){return this.mutateChildViews(function(e,t){t.destroy()})},removeFromParent:function(){var e=this._parentView;return this.remove(),e&&e.removeChild(this),this},destroy:function(){var e=B(this,"parentView"),t=this.viewName;return this._super()?(t&&e&&e.set(t,null),this):void 0},createChildView:function(e,t){if(!e)throw new TypeError("createChildViews first argument must exist");if(e.isView&&e._parentView===this&&e.container===this.container)return e;if(t=t||{},t._parentView=this,de.detect(e))t.container=this.container,e=e.create(t),e.viewName&&$(B(this,"concreteView"),e.viewName,e);else if("string"==typeof e){var n="view:"+e,r=this.container.lookupFactory(n);e=r.create(t)}else t.container=this.container,j(e,t);return e},becameVisible:S,becameHidden:S,_isVisibleDidChange:Y("isVisible",function(){this._isVisible!==B(this,"isVisible")&&H.scheduleOnce("render",this,this._toggleVisibility)}),_toggleVisibility:function(){var e=this.$(),t=B(this,"isVisible");this._isVisible!==t&&(this._isVisible=t,e&&(e.toggle(t),this._isAncestorHidden()||(t?this._notifyBecameVisible():this._notifyBecameHidden())))},_notifyBecameVisible:function(){this.trigger("becameVisible"),this.forEachChildView(function(e){var t=B(e,"isVisible");(t||null===t)&&e._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden"),this.forEachChildView(function(e){var t=B(e,"isVisible");(t||null===t)&&e._notifyBecameHidden()})},_isAncestorHidden:function(){for(var e=B(this,"parentView");e;){if(B(e,"isVisible")===!1)return!0;e=B(e,"parentView")}return!1},transitionTo:function(e,t){this._transitionTo(e,t)},_transitionTo:function(e,t){var n=this.currentState,r=this.currentState=this._states[e];this._state=e,n&&n.exit&&n.exit(this),r.enter&&r.enter(this)},handleEvent:function(e,t){return this.currentState.handleEvent(this,e,t)},registerObserver:function(e,t,n,r){if(r||"function"!=typeof n||(r=n,n=null),e&&"object"==typeof e){var i=this._wrapAsScheduled(r);z(e,t,n,i),this.one("willClearRender",function(){V(e,t,n,i)})}},_wrapAsScheduled:function(e){var t=this,n=function(){t.currentState.invokeObserver(this,e)},r=function(){H.scheduleOnce("render",this,n)};return r},getStream:function(e){var t=this._getContextStream().get(e);return t._label=e,t},_getBindingForStream:function(e){void 0===this._streamBindings&&(this._streamBindings=P(null),this.one("willDestroyElement",this,this._destroyStreamBindings));var t=e;if(pe(e)&&(t=e._label,!t))return e;if(void 0!==this._streamBindings[t])return this._streamBindings[t];var n=this._getContextStream().get(t),r=new X(n);return r._label=t,this._streamBindings[t]=r},_destroyStreamBindings:function(){var e=this._streamBindings;for(var t in e)e[t].destroy();this._streamBindings=void 0},_getContextStream:function(){return void 0===this._contextStream&&(this._baseContext=new G(this,"context"),this._contextStream=new Q(this),this.one("willDestroyElement",this,this._destroyContextStream)),this._contextStream},_destroyContextStream:function(){this._baseContext.destroy(),this._baseContext=void 0,this._contextStream.destroy(),this._contextStream=void 0},_unsubscribeFromStreamBindings:function(){for(var e in this._streamBindingSubscriptions){var t=this[e+"Binding"],n=this._streamBindingSubscriptions[e];t.unsubscribe(n)}}});te(ye.prototype,"state","_state"),te(ye.prototype,"states","_states");var Ee=M.extend(L).create();ye.addMutationListener=function(e){Ee.on("change",e)},ye.removeMutationListener=function(e){Ee.off("change",e)},ye.notifyMutationListeners=function(){Ee.trigger("change")},ye.views={},ye.childViewsProperty=ve,ye.applyAttributeBindings=function(e,t,n){var r=me(e[0],t,n),i=Z(r);"value"===t||"string"!==i&&("number"!==i||isNaN(r))?"value"===t||"boolean"===i?J(r)||r===!1?(e.removeAttr(t),"required"===t?e.removeProp(t):e.prop(t,"")):r!==e.prop(t)&&e.prop(t,r):r||e.removeAttr(t):r!==e.attr(t)&&e.attr(t,r)},k["default"]=ye}),e("ember-views/views/with_view",["ember-metal/property_set","ember-metal/utils","ember-views/views/bound_view","exports"],function(e,t,n,r){"use strict";var i=e.set,o=t.apply,s=n["default"];r["default"]=s.extend({init:function(){o(this,this._super,arguments);var e=this.templateHash.controller;if(e){var t=this.previousContext,n=this.container.lookupFactory("controller:"+e).create({parentController:t,target:t});this._generatedController=n,this.preserveContext?(this._blockArguments=[n],this.lazyValue.subscribe(function(e){i(n,"model",e.value())})):(i(this,"controller",n),this.valueNormalizerFunc=function(e){return n.set("model",e),n}),i(n,"model",this.lazyValue.value())}else this.preserveContext&&(this._blockArguments=[this.lazyValue])},willDestroy:function(){this._super(),this._generatedController&&this._generatedController.destroy()}})}),e("ember",["ember-metal","ember-runtime","ember-views","ember-routing","ember-application","ember-extension-support","ember-htmlbars","ember-routing-htmlbars","ember-runtime/system/lazy_load"],function(e,n,r,o,s,a,l,u,c){"use strict";var d=c.runLoadHooks;i.__loader.registry["ember-template-compiler"]&&t("ember-template-compiler"),i.__loader.registry["ember-testing"]&&t("ember-testing"),d("Ember")}),e("htmlbars-util",["./htmlbars-util/safe-string","./htmlbars-util/handlebars/utils","./htmlbars-util/namespaces","exports"],function(e,t,n,r){"use strict";var i=e["default"],o=t.escapeExpression,s=n.getAttrNamespace;r.SafeString=i,r.escapeExpression=o,r.getAttrNamespace=s}),e("htmlbars-util/array-utils",["exports"],function(e){"use strict";function t(e,t,n){var r,i;if(void 0===n)for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else for(r=0,i=e.length;i>r;r++)t.call(n,e[r],r,e)}function n(e,t){var n,r,i=[];

for(n=0,r=e.length;r>n;n++)i.push(t(e[n],n,e));return i}e.forEach=t,e.map=n;var r;r=Array.prototype.indexOf?function(e,t,n){return e.indexOf(t,n)}:function(e,t,n){void 0===n||null===n?n=0:0>n&&(n=Math.max(0,e.length+n));for(var r=n,i=e.length;i>r;r++)if(e[r]===t)return r;return-1};var i=r;e.indexOfArray=i}),e("htmlbars-util/handlebars/safe-string",["exports"],function(e){"use strict";function t(e){this.string=e}t.prototype.toString=t.prototype.toHTML=function(){return""+this.string},e["default"]=t}),e("htmlbars-util/handlebars/utils",["./safe-string","exports"],function(e,t){"use strict";function n(e){return a[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function i(e){return e&&e.toHTML?e.toHTML():null==e?"":e?(e=""+e,u.test(e)?e.replace(l,n):e):e+""}function o(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}function s(e,t){return(e?e+".":"")+t}var a=(e["default"],{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),l=/[&<>"'`]/g,u=/[&<>"'`]/;t.extend=r;var c=Object.prototype.toString;t.toString=c;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===c.call(e)});var d;t.isFunction=d;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===c.call(e):!1};t.isArray=h,t.escapeExpression=i,t.isEmpty=o,t.appendContextPath=s}),e("htmlbars-util/namespaces",["exports"],function(e){"use strict";function t(e){var t,r=e.indexOf(":");if(-1!==r){var i=e.slice(0,r);t=n[i]}return t||null}var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};e.getAttrNamespace=t}),e("htmlbars-util/object-utils",["exports"],function(e){"use strict";function t(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}e.merge=t}),e("htmlbars-util/quoting",["exports"],function(e){"use strict";function t(e){return e=e.replace(/\\/g,"\\\\"),e=e.replace(/"/g,'\\"'),e=e.replace(/\n/g,"\\n")}function n(e){return'"'+t(e)+'"'}function r(e){return"["+e+"]"}function i(e){return"{"+e.join(", ")+"}"}function o(e,t){for(var n="";t--;)n+=e;return n}e.escapeString=t,e.string=n,e.array=r,e.hash=i,e.repeat=o}),e("htmlbars-util/safe-string",["./handlebars/safe-string","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=n}),e("morph",["./morph/morph","./morph/attr-morph","./morph/dom-helper","exports"],function(e,t,n,r){"use strict";var i=e["default"],o=t["default"],s=n["default"];r.Morph=i,r.AttrMorph=o,r.DOMHelper=s}),e("morph/attr-morph",["./attr-morph/sanitize-attribute-value","./dom-helper/prop","./dom-helper/build-html-dom","../htmlbars-util","exports"],function(e,t,n,r,i){"use strict";function o(e){this.domHelper.setPropertyStrict(this.element,this.attrName,e)}function s(e){c(e)?this.domHelper.removeAttribute(this.element,this.attrName):this.domHelper.setAttribute(this.element,this.attrName,e)}function a(e){c(e)?this.domHelper.removeAttribute(this.element,this.attrName):this.domHelper.setAttributeNS(this.element,this.namespace,this.attrName,e)}function l(e,t,n,r){this.element=e,this.domHelper=n,this.namespace=void 0!==r?r:f(t),this.escaped=!0;var i=d(this.element,t);this.namespace?(this._update=a,this.attrName=t):e.namespaceURI!==h&&"style"!==t&&i?(this.attrName=i,this._update=o):(this.attrName=t,this._update=s)}var u=e.sanitizeAttributeValue,c=t.isAttrRemovalValue,d=t.normalizeProperty,h=n.svgNamespace,f=r.getAttrNamespace;l.prototype.setContent=function(e){if(this.escaped){var t=u(this.element,this.attrName,e);this._update(t,this.namespace)}else this._update(e,this.namespace)},i["default"]=l}),e("morph/attr-morph/sanitize-attribute-value",["exports"],function(e){"use strict";function t(e,t,s){var a;return n||(n=document.createElement("a")),a=e?e.tagName:null,s&&s.toHTML?s.toHTML():(null===a||i[a])&&o[t]&&(n.href=s,r[n.protocol]===!0)?"unsafe:"+s:s}var n,r={"javascript:":!0,"vbscript:":!0},i={A:!0,BODY:!0,LINK:!0,IMG:!0,IFRAME:!0},o={href:!0,src:!0,background:!0};e.badAttributes=o,e.sanitizeAttributeValue=t}),e("morph/dom-helper",["../morph/morph","../morph/attr-morph","./dom-helper/build-html-dom","./dom-helper/classes","./dom-helper/prop","exports"],function(e,t,n,r,i,o){"use strict";function s(e){return e&&e.namespaceURI===f&&!p[e.tagName]?f:null}function a(e,t){if("TABLE"===t.tagName){var n=O.exec(e);if(n){var r=n[1];return"tr"===r||"col"===r}}}function l(e,t){var n=t.document.createElement("div");return n.innerHTML="<svg>"+e+"</svg>",n.firstChild.childNodes}function u(e){if(this.document=e||document,!this.document)throw new Error("A document object must be passed to the DOMHelper, or available on the global scope");this.canClone=C,this.namespace=null}var c=e["default"],d=t["default"],h=n.buildHTMLDOM,f=n.svgNamespace,p=n.svgHTMLIntegrationPoints,m=r.addClasses,g=r.removeClasses,v=i.normalizeProperty,b=i.isAttrRemovalValue,y="undefined"==typeof document?!1:document,E=y&&function(e){var t=e.createElement("div");t.appendChild(e.createTextNode(""));var n=t.cloneNode(!0);return 0===n.childNodes.length}(y),_=y&&function(e){var t=e.createElement("input");t.setAttribute("checked","checked");var n=t.cloneNode(!1);return!n.checked}(y),T=y&&(y.createElementNS?function(e){var t=e.createElementNS(f,"svg");return t.setAttribute("viewBox","0 0 100 100"),t.removeAttribute("viewBox"),!t.getAttribute("viewBox")}(y):!0),C=y&&function(e){var t=e.createElement("div");t.appendChild(e.createTextNode(" ")),t.appendChild(e.createTextNode(" "));var n=t.cloneNode(!0);return" "===n.childNodes[0].nodeValue}(y),O=/<([\w:]+)/,I=u.prototype;I.constructor=u,I.getElementById=function(e,t){return t=t||this.document,t.getElementById(e)},I.insertBefore=function(e,t,n){return e.insertBefore(t,n)},I.appendChild=function(e,t){return e.appendChild(t)},I.childAt=function(e,t){for(var n=e,r=0;r<t.length;r++)n=n.childNodes.item(t[r]);return n},I.childAtIndex=function(e,t){for(var n=e.firstChild,r=0;n&&t>r;r++)n=n.nextSibling;return n},I.appendText=function(e,t){return e.appendChild(this.document.createTextNode(t))},I.setAttribute=function(e,t,n){e.setAttribute(t,String(n))},I.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,String(r))},I.removeAttribute=T?function(e,t){e.removeAttribute(t)}:function(e,t){"svg"===e.tagName&&"viewBox"===t?e.setAttribute(t,null):e.removeAttribute(t)},I.setPropertyStrict=function(e,t,n){e[t]=n},I.setProperty=function(e,t,n,r){var i=t.toLowerCase();if(e.namespaceURI===f||"style"===i)b(n)?e.removeAttribute(t):r?e.setAttributeNS(r,t,n):e.setAttribute(t,n);else{var o=v(e,t);o?e[o]=n:b(n)?e.removeAttribute(t):r&&e.setAttributeNS?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}},y&&y.createElementNS?(I.createElement=function(e,t){var n=this.namespace;return t&&(n="svg"===e?f:s(t)),n?this.document.createElementNS(n,e):this.document.createElement(e)},I.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,String(r))}):(I.createElement=function(e){return this.document.createElement(e)},I.setAttributeNS=function(e,t,n,r){e.setAttribute(n,String(r))}),I.addClasses=m,I.removeClasses=g,I.setNamespace=function(e){this.namespace=e},I.detectNamespace=function(e){this.namespace=s(e)},I.createDocumentFragment=function(){return this.document.createDocumentFragment()},I.createTextNode=function(e){return this.document.createTextNode(e)},I.createComment=function(e){return this.document.createComment(e)},I.repairClonedNode=function(e,t,n){if(E&&t.length>0)for(var r=0,i=t.length;i>r;r++){var o=this.document.createTextNode(""),s=t[r],a=this.childAtIndex(e,s);a?e.insertBefore(o,a):e.appendChild(o)}_&&n&&e.setAttribute("checked","checked")},I.cloneNode=function(e,t){var n=e.cloneNode(!!t);return n},I.createAttrMorph=function(e,t,n){return new d(e,t,this,n)},I.createUnsafeAttrMorph=function(e,t,n){var r=this.createAttrMorph(e,t,n);return r.escaped=!1,r},I.createMorph=function(e,t,n,r){return r||1!==e.nodeType||(r=e),new c(e,t,n,this,r)},I.createUnsafeMorph=function(e,t,n,r){var i=this.createMorph(e,t,n,r);return i.escaped=!1,i},I.createMorphAt=function(e,t,n,r){var i=-1===t?null:this.childAtIndex(e,t),o=-1===n?null:this.childAtIndex(e,n);return this.createMorph(e,i,o,r)},I.createUnsafeMorphAt=function(e,t,n,r){var i=this.createMorphAt(e,t,n,r);return i.escaped=!1,i},I.insertMorphBefore=function(e,t,n){var r=this.document.createTextNode(""),i=this.document.createTextNode("");return e.insertBefore(r,t),e.insertBefore(i,t),this.createMorph(e,r,i,n)},I.appendMorph=function(e,t){var n=this.document.createTextNode(""),r=this.document.createTextNode("");return e.appendChild(n),e.appendChild(r),this.createMorph(e,n,r,t)},I.parseHTML=function(e,t){if(s(t)===f)return l(e,this);var n=h(e,t,this);if(a(e,t)){for(var r=n[0];r&&1!==r.nodeType;)r=r.nextSibling;return r.childNodes}return n};var D;I.protocolForURL=function(e){return D||(D=this.document.createElement("a")),D.href=e,D.protocol},o["default"]=u}),e("morph/dom-helper/build-html-dom",["exports"],function(e){"use strict";function t(e,t){t="&shy;"+t,e.innerHTML=t;for(var n=e.childNodes,r=n[0];1===r.nodeType&&!r.nodeName;)r=r.firstChild;if(3===r.nodeType&&"­"===r.nodeValue.charAt(0)){var i=r.nodeValue.slice(1);i.length?r.nodeValue=r.nodeValue.slice(1):r.parentNode.removeChild(r)}return n}function n(e,n){var r=n.tagName,i=n.outerHTML||(new XMLSerializer).serializeToString(n);if(!i)throw"Can't set innerHTML on "+r+" in this browser";for(var o=f[r.toLowerCase()],s=i.match(new RegExp("<"+r+"([^>]*)>","i"))[0],a="</"+r+">",l=[s,e,a],u=o.length,c=1+u;u--;)l.unshift("<"+o[u]+">"),l.push("</"+o[u]+">");var d=document.createElement("div");t(d,l.join(""));for(var h=d;c--;)for(h=h.firstChild;h&&1!==h.nodeType;)h=h.nextSibling;for(;h&&h.tagName!==r;)h=h.nextSibling;return h?h.childNodes:[]}function r(e,t,n){var r=p(e,t,n);if("SELECT"===t.tagName)for(var i=0;r[i];i++)if("OPTION"===r[i].tagName){s(r[i].parentNode,r[i],e)&&(r[i].parentNode.selectedIndex=-1);break}return r}var i={foreignObject:1,desc:1,title:1};e.svgHTMLIntegrationPoints=i;var o="http://www.w3.org/2000/svg";e.svgNamespace=o;var s,a="undefined"==typeof document?!1:document,l=a&&function(e){if(void 0!==e.createElementNS){var t=e.createElementNS(o,"title");return t.innerHTML="<div></div>",0===t.childNodes.length||1!==t.childNodes[0].nodeType}}(a),u=a&&function(e){var t=e.createElement("div");return t.innerHTML="<div></div>",t.firstChild.innerHTML="<script></script>",""===t.firstChild.innerHTML}(a),c=a&&function(e){var t=e.createElement("div");return t.innerHTML="Test: <script type='text/x-placeholder'></script>Value","Test:"===t.childNodes[0].nodeValue&&" Value"===t.childNodes[2].nodeValue}(a),d=a&&function(e){var t=e.createElement("div");return t.innerHTML="<select><option></option></select>","selected"===t.childNodes[0].childNodes[0].getAttribute("selected")}(a);s=d?function(){var e=/<option[^>]*selected/;return function(t,n,r){return 0===t.selectedIndex&&!e.test(r)}}():function(e,t,n){var r=t.getAttribute("selected");return 0===e.selectedIndex&&(null===r||""!==r&&"selected"!==r.toLowerCase())};var h,f=a&&function(e){var t,n,r=e.createElement("table");try{r.innerHTML="<tbody></tbody>"}catch(i){}finally{n=0===r.childNodes.length}n&&(t={colgroup:["table"],table:[],tbody:["table"],tfoot:["table"],thead:["table"],tr:["table","tbody"]});var o=e.createElement("select");return o.innerHTML="<option></option>",o.childNodes[0]||(t=t||{},t.select=[]),t}(a);h=u?function(e,n,r){return n=r.cloneNode(n,!1),t(n,e),n.childNodes}:function(e,t,n){return t=n.cloneNode(t,!1),t.innerHTML=e,t.childNodes};var p;p=f||c?function(e,t,r){var i=[],o=[];"string"==typeof e&&(e=e.replace(/(\s*)(<script)/g,function(e,t,n){return i.push(t),n}),e=e.replace(/(<\/script>)(\s*)/g,function(e,t,n){return o.push(n),t}));var s;s=f[t.tagName.toLowerCase()]?n(e,t):h(e,t,r);var a,l,u,c,d=[];for(a=0;a<s.length;a++)if(u=s[a],1===u.nodeType)if("SCRIPT"===u.tagName)d.push(u);else for(c=u.getElementsByTagName("script"),l=0;l<c.length;l++)d.push(c[l]);var p,m,g,v;for(a=0;a<d.length;a++)p=d[a],g=i[a],g&&g.length>0&&(m=r.document.createTextNode(g),p.parentNode.insertBefore(m,p)),v=o[a],v&&v.length>0&&(m=r.document.createTextNode(v),p.parentNode.insertBefore(m,p.nextSibling));return s}:h;var m;m=l?function(e,t,n){return i[t.tagName]?r(e,document.createElement("div"),n):r(e,t,n)}:r,e.buildHTMLDOM=m}),e("morph/dom-helper/classes",["exports"],function(e){"use strict";function t(e){var t=e.getAttribute("class")||"";return""!==t&&" "!==t?t.split(" "):[]}function n(e,t){for(var n=0,r=e.length,i=0,o=t.length,s=new Array(o);r>n;n++)for(i=0;o>i;i++)if(t[i]===e[n]){s[i]=n;break}return s}function r(e,r){for(var i=t(e),o=n(i,r),s=!1,a=0,l=r.length;l>a;a++)void 0===o[a]&&(s=!0,i.push(r[a]));s&&e.setAttribute("class",i.length>0?i.join(" "):"")}function i(e,r){for(var i=t(e),o=n(r,i),s=!1,a=[],l=0,u=i.length;u>l;l++)void 0===o[l]?a.push(i[l]):s=!0;s&&e.setAttribute("class",a.length>0?a.join(" "):"")}var o,s,a="undefined"==typeof document?!1:document,l=a&&function(){var e=document.createElement("div");return e.classList?(e.classList.add("boo"),e.classList.add("boo","baz"),"boo baz"===e.className):!1}();l?(o=function(e,t){e.classList?1===t.length?e.classList.add(t[0]):2===t.length?e.classList.add(t[0],t[1]):e.classList.add.apply(e.classList,t):r(e,t)},s=function(e,t){e.classList?1===t.length?e.classList.remove(t[0]):2===t.length?e.classList.remove(t[0],t[1]):e.classList.remove.apply(e.classList,t):i(e,t)}):(o=r,s=i),e.addClasses=o,e.removeClasses=s}),e("morph/dom-helper/prop",["exports"],function(e){"use strict";function t(e){return null===e||void 0===e}function n(e,t){var n,i=e.tagName,o=r[i];if(!o){o={};for(n in e)o[n.toLowerCase()]=n;r[i]=o}return o[t]}e.isAttrRemovalValue=t;var r={};e.propertyCaches=r,e.normalizeProperty=n}),e("morph/morph",["exports"],function(e){"use strict";function t(e,t){if(null===e||null===t)throw new Error("a fragment parent must have boundary nodes in order to detect insertion")}function n(e){if(!e||1!==e.nodeType)throw new Error("An element node must be provided for a contextualElement, you provided "+(e?"nodeType "+e.nodeType:"nothing"))}function r(e,r,i,o,s){11===e.nodeType?(t(r,i),this.element=null):this.element=e,this._parent=e,this.start=r,this.end=i,this.domHelper=o,n(s),this.contextualElement=s,this.escaped=!0,this.reset()}function i(e,t,n){for(var r,i=t,o=n.length;o--;)r=n[o],e.insertBefore(r,i),i=r}function o(e,t,n){var r,i;for(r=null===n?e.lastChild:n.previousSibling;null!==r&&r!==t;)i=r.previousSibling,e.removeChild(r),r=i}var s=Array.prototype.splice;r.prototype.reset=function(){this.text=null,this.owner=null,this.morphs=null,this.before=null,this.after=null},r.prototype.parent=function(){if(!this.element){var e=this.start.parentNode;this._parent!==e&&(this._parent=e),1===e.nodeType&&(this.element=e)}return this._parent},r.prototype.destroy=function(){this.owner?this.owner.removeMorph(this):o(this.element||this.parent(),this.start,this.end)},r.prototype.removeMorph=function(e){for(var t=this.morphs,n=0,r=t.length;r>n;n++)if(t[n]===e){this.replace(n,1);break}},r.prototype.setContent=function(e){this._update(this.element||this.parent(),e)},r.prototype.updateNode=function(e){var t=this.element||this.parent();return e?void this._updateNode(t,e):this._updateText(t,"")},r.prototype.updateText=function(e){this._updateText(this.element||this.parent(),e)},r.prototype.updateHTML=function(e){var t=this.element||this.parent();return e?void this._updateHTML(t,e):this._updateText(t,"")},r.prototype._update=function(e,t){null===t||void 0===t?this._updateText(e,""):"string"==typeof t?this.escaped?this._updateText(e,t):this._updateHTML(e,t):t.nodeType?this._updateNode(e,t):t.string?this._updateHTML(e,t.string):this._updateText(e,t.toString())},r.prototype._updateNode=function(e,t){if(this.text){if(3===t.nodeType)return void(this.text.nodeValue=t.nodeValue);this.text=null}var n=this.start,r=this.end;o(e,n,r),e.insertBefore(t,r),null!==this.before&&(this.before.end=n.nextSibling),null!==this.after&&(this.after.start=r.previousSibling)},r.prototype._updateText=function(e,t){if(this.text)return void(this.text.nodeValue=t);var n=this.domHelper.createTextNode(t);this.text=n,o(e,this.start,this.end),e.insertBefore(n,this.end),null!==this.before&&(this.before.end=n),null!==this.after&&(this.after.start=n)},r.prototype._updateHTML=function(e,t){var n=this.start,r=this.end;o(e,n,r),this.text=null;var s=this.domHelper.parseHTML(t,this.contextualElement);i(e,r,s),null!==this.before&&(this.before.end=n.nextSibling),null!==this.after&&(this.after.start=r.previousSibling)},r.prototype.append=function(e){null===this.morphs&&(this.morphs=[]);var t=this.morphs.length;return this.insert(t,e)},r.prototype.insert=function(e,t){null===this.morphs&&(this.morphs=[]);var n=this.element||this.parent(),i=this.morphs,o=e>0?i[e-1]:null,s=e<i.length?i[e]:null,a=null===o?this.start:null===o.end?n.lastChild:o.end.previousSibling,l=null===s?this.end:null===s.start?n.firstChild:s.start.nextSibling,u=new r(n,a,l,this.domHelper,this.contextualElement);return u.owner=this,u._update(n,t),null!==o&&(u.before=o,o.end=a.nextSibling,o.after=u),null!==s&&(u.after=s,s.before=u,s.start=l.previousSibling),this.morphs.splice(e,0,u),u},r.prototype.replace=function(e,t,n){null===this.morphs&&(this.morphs=[]);var i,a,l,u=this.element||this.parent(),c=this.morphs,d=e>0?c[e-1]:null,h=e+t<c.length?c[e+t]:null,f=null===d?this.start:null===d.end?u.lastChild:d.end.previousSibling,p=null===h?this.end:null===h.start?u.firstChild:h.start.nextSibling,m=void 0===n?0:n.length;if(t>0&&o(u,f,p),0===m)return null!==d&&(d.after=h,d.end=p),null!==h&&(h.before=d,h.start=f),void c.splice(e,t);if(i=new Array(m+2),m>0){for(a=0;m>a;a++)i[a+2]=l=new r(u,f,p,this.domHelper,this.contextualElement),l._update(u,n[a]),l.owner=this,null!==d&&(l.before=d,d.end=f.nextSibling,d.after=l),d=l,f=null===p?u.lastChild:p.previousSibling;null!==h&&(l.after=h,h.before=l,h.start=p.previousSibling)}i[0]=e,i[1]=t,s.apply(c,i)},e["default"]=r}),e("route-recognizer",["./route-recognizer/dsl","exports"],function(e,t){"use strict";function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){this.string=e}function i(e){this.name=e}function o(e){this.name=e}function s(){}function a(e,t,n){"/"===e.charAt(0)&&(e=e.substr(1));for(var a=e.split("/"),l=[],u=0,c=a.length;c>u;u++){var d,h=a[u];(d=h.match(/^:([^\/]+)$/))?(l.push(new i(d[1])),t.push(d[1]),n.dynamics++):(d=h.match(/^\*([^\/]+)$/))?(l.push(new o(d[1])),t.push(d[1]),n.stars++):""===h?l.push(new s):(l.push(new r(h)),n.statics++)}return l}function l(e){this.charSpec=e,this.nextStates=[]}function u(e){return e.sort(function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}function c(e,t){for(var n=[],r=0,i=e.length;i>r;r++){var o=e[r];n=n.concat(o.match(t))}return n}function d(e){this.queryParams=e||{}}function h(e,t,n){for(var r=e.handlers,i=e.regex,o=t.match(i),s=1,a=new d(n),l=0,u=r.length;u>l;l++){for(var c=r[l],h=c.names,f={},p=0,m=h.length;m>p;p++)f[h[p]]=o[s++];a.push({handler:c.handler,params:f,isDynamic:!!h.length})}return a}function f(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function p(e){return e=e.replace(/\+/gm,"%20"),decodeURIComponent(e)}var m=e["default"],g=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],v=new RegExp("(\\"+g.join("|\\")+")","g");r.prototype={eachChar:function(e){for(var t,n=this.string,r=0,i=n.length;i>r;r++)t=n.charAt(r),e({validChars:t})},regex:function(){return this.string.replace(v,"\\$1")},generate:function(){return this.string}},i.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},o.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},s.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},l.prototype={get:function(e){for(var t=this.nextStates,n=0,r=t.length;r>n;n++){var i=t[n],o=i.charSpec.validChars===e.validChars;if(o=o&&i.charSpec.invalidChars===e.invalidChars)return i}},put:function(e){var t;return(t=this.get(e))?t:(t=new l(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,n,r,i=this.nextStates,o=[],s=0,a=i.length;a>s;s++)t=i[s],n=t.charSpec,"undefined"!=typeof(r=n.validChars)?-1!==r.indexOf(e)&&o.push(t):"undefined"!=typeof(r=n.invalidChars)&&-1===r.indexOf(e)&&o.push(t);return o}};var b=Object.create||function(e){function t(){}return t.prototype=e,new t};d.prototype=b({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var y=function(){this.rootState=new l,this.names={}};y.prototype={add:function(e,t){for(var n,r=this.rootState,i="^",o={statics:0,dynamics:0,stars:0},l=[],u=[],c=!0,d=0,h=e.length;h>d;d++){var p=e[d],m=[],g=a(p.path,m,o);u=u.concat(g);for(var v=0,b=g.length;b>v;v++){var y=g[v];y instanceof s||(c=!1,r=r.put({validChars:"/"}),i+="/",r=f(r,y),i+=y.regex())}var E={handler:p.handler,names:m};l.push(E)}c&&(r=r.put({validChars:"/"}),i+="/"),r.handlers=l,r.regex=new RegExp(i+"$"),r.types=o,(n=t&&t.as)&&(this.names[n]={segments:u,handlers:l})},handlersFor:function(e){var t=this.names[e],n=[];if(!t)throw new Error("There is no route named "+e);for(var r=0,i=t.handlers.length;i>r;r++)n.push(t.handlers[r]);return n},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var n=this.names[e],r="";if(!n)throw new Error("There is no route named "+e);for(var i=n.segments,o=0,a=i.length;a>o;o++){var l=i[o];l instanceof s||(r+="/",r+=l.generate(t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams,n.handlers)),r},generateQueryString:function(e,t){var r=[],i=[];for(var o in e)e.hasOwnProperty(o)&&i.push(o);i.sort();for(var s=0,a=i.length;a>s;s++){o=i[s];var l=e[o];if(null!=l){var u=encodeURIComponent(o);if(n(l))for(var c=0,d=l.length;d>c;c++){var h=o+"[]="+encodeURIComponent(l[c]);r.push(h)}else u+="="+encodeURIComponent(l),r.push(u)}}return 0===r.length?"":"?"+r.join("&")},parseQueryString:function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var i,o=t[r].split("="),s=p(o[0]),a=s.length,l=!1;1===o.length?i="true":(a>2&&"[]"===s.slice(a-2)&&(l=!0,s=s.slice(0,a-2),n[s]||(n[s]=[])),i=o[1]?p(o[1]):""),l?n[s].push(i):n[s]=i}return n},recognize:function(e){var t,n,r,i,o=[this.rootState],s={},a=!1;if(i=e.indexOf("?"),-1!==i){var l=e.substr(i+1,e.length);e=e.substr(0,i),s=this.parseQueryString(l)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),a=!0),n=0,r=e.length;r>n&&(o=c(o,e.charAt(n)),o.length);n++);var d=[];for(n=0,r=o.length;r>n;n++)o[n].handlers&&d.push(o[n]);o=u(d);var f=d[0];return f&&f.handlers?(a&&"(.+)$"===f.regex.source.slice(-5)&&(e+="/"),h(f,e,s)):void 0}},y.prototype.map=m,y.VERSION="1.10.0",t["default"]=y}),e("route-recognizer.umd",["./route-recognizer"],function(t){"use strict";var n=t["default"];"function"==typeof e&&e.amd?e(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof this&&(this.RouteRecognizer=n)}),e("route-recognizer/dsl",["exports"],function(e){"use strict";function t(e,t,n){this.path=e,this.matcher=t,this.delegate=n}function n(e){this.routes={},this.children={},this.target=e}function r(e,n,i){return function(o,s){var a=e+o;return s?void s(r(a,n,i)):new t(e+o,n,i)}}function i(e,t,n){for(var r=0,i=0,o=e.length;o>i;i++)r+=e[i].path.length;t=t.substr(r);var s={path:t,handler:n};e.push(s)}function o(e,t,n,r){var s=t.routes;for(var a in s)if(s.hasOwnProperty(a)){var l=e.slice();i(l,a,s[a]),t.children[a]?o(l,t.children[a],n,r):n.call(r,l)}}t.prototype={to:function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},n.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,i,o){var s=new n(t);this.children[e]=s;var a=r(e,s,o);o&&o.contextEntered&&o.contextEntered(t,a),i(a)}},e["default"]=function(e,t){var i=new n;e(r("",i,this.delegate)),o([],i,function(e){t?t(this,e):this.add(e)},this)}}),e("router",["./router/router","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=n}),e("router/handler-info",["./utils","rsvp/promise","exports"],function(e,t,n){"use strict";function r(e){var t=e||{};s(this,t),this.initialize(t)}function i(e,t){if(!e^!t)return!1;if(!e)return!0;for(var n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}var o=e.bind,s=e.merge,a=(e.serialize,e.promiseLabel),l=e.applyHook,u=t["default"];r.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(e,t){e.log&&e.log(this.name+": "+t)},promiseLabel:function(e){return a("'"+this.name+"' "+e)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(e,t){var n=o(this,this.checkForAbort,e),r=o(this,this.runBeforeModelHook,t),i=o(this,this.getModel,t),s=o(this,this.runAfterModelHook,t),a=o(this,this.becomeResolved,t);return u.resolve(void 0,this.promiseLabel("Start handler")).then(n,null,this.promiseLabel("Check for abort")).then(r,null,this.promiseLabel("Before model")).then(n,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(i,null,this.promiseLabel("Model")).then(n,null,this.promiseLabel("Check if aborted in 'model' hook")).then(s,null,this.promiseLabel("After model")).then(n,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(a,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(e){return e.trigger&&e.trigger(!0,"willResolveModel",e,this.handler),this.runSharedModelHook(e,"beforeModel",[])},runAfterModelHook:function(e,t){var n=this.name;return this.stashResolvedModel(e,t),this.runSharedModelHook(e,"afterModel",[t]).then(function(){return e.resolvedModels[n]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(e,t,n){this.log(e,"calling "+t+" hook"),this.queryParams&&n.push(this.queryParams),n.push(e);var r=l(this.handler,t,n);return r&&r.isTransition&&(r=null),u.resolve(r,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(e,t){return u.resolve(e(),this.promiseLabel("Check for abort")).then(function(){return t},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(e,t){e.resolvedModels=e.resolvedModels||{},e.resolvedModels[this.name]=t},becomeResolved:function(e,t){var n=this.serialize(t);return e&&(this.stashResolvedModel(e,t),e.params=e.params||{},e.params[this.name]=n),this.factory("resolved",{context:t,name:this.name,handler:this.handler,params:n})},shouldSupercede:function(e){if(!e)return!0;var t=e.context===this.context;return e.name!==this.name||this.hasOwnProperty("context")&&!t||this.hasOwnProperty("params")&&!i(this.params,e.params)}},n["default"]=r}),e("router/handler-info/factory",["router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param","exports"],function(e,t,n,r){"use strict";function i(e,t){var n=i.klasses[e],r=new n(t||{});return r.factory=i,r}var o=e["default"],s=t["default"],a=n["default"];i.klasses={resolved:o,param:a,object:s},r["default"]=i}),e("router/handler-info/resolved-handler-info",["../handler-info","router/utils","rsvp/promise","exports"],function(e,t,n,r){"use strict";var i=e["default"],o=t.subclass,s=(t.promiseLabel,n["default"]),a=o(i,{resolve:function(e,t){return t&&t.resolvedModels&&(t.resolvedModels[this.name]=this.context),s.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0});r["default"]=a}),e("router/handler-info/unresolved-handler-info-by-object",["../handler-info","router/utils","rsvp/promise","exports"],function(e,t,n,r){"use strict";var i=e["default"],o=(t.merge,t.subclass),s=(t.promiseLabel,t.isParam),a=n["default"],l=o(i,{getModel:function(e){return this.log(e,this.name+": resolving provided model"),a.resolve(this.context)},initialize:function(e){this.names=e.names||[],this.context=e.context},serialize:function(e){var t=e||this.context,n=this.names,r=this.handler,i={};if(s(t))return i[n[0]]=t,i;if(r.serialize)return r.serialize(t,n);if(1===n.length){var o=n[0];return i[o]=/_id$/.test(o)?t.id:t,i}}});r["default"]=l}),e("router/handler-info/unresolved-handler-info-by-param",["../handler-info","router/utils","exports"],function(e,t,n){"use strict";var r=e["default"],i=t.resolveHook,o=t.merge,s=t.subclass,a=(t.promiseLabel,s(r,{initialize:function(e){this.params=e.params||{}},getModel:function(e){var t=this.params;e&&e.queryParams&&(t={},o(t,this.params),t.queryParams=e.queryParams);var n=this.handler,r=i(n,"deserialize")||i(n,"model");return this.runSharedModelHook(e,r,[t])}}));n["default"]=a}),e("router/router",["route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","./handler-info","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(){this.recognizer=new _,this.reset()}function c(e,t){var n,r=!!this.activeTransition,i=r?this.activeTransition.state:this.state,o=e.applyToState(i,this.recognizer,this.getHandler,t),s=x(i.queryParams,o.queryParams);return b(o.handlerInfos,i.handlerInfos)?s&&(n=this.queryParamsTransition(s,r,i,o))?n:new A(this):t?void h(this,o):(n=new A(this,e,o),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=n,n.promise=n.promise.then(function(e){return g(n,e.state)},null,k("Settle transition promise when transition is finalized")),r||E(this,o,n),d(this,o,s),n)}function d(e,t,n){n&&(e._changedQueryParams=n.all,C(e,t.handlerInfos,!0,["queryParamsDidChange",n.changed,n.all,n.removed]),e._changedQueryParams=null)}function h(e,t,n){var r=p(e.state,t);D(r.exited,function(e){var t=e.handler;delete t.context,S(t,"reset",!0,n),S(t,"exit",n)});var i=e.oldState=e.state;e.state=t;var o=e.currentHandlerInfos=r.unchanged.slice();try{D(r.reset,function(e){var t=e.handler;S(t,"reset",!1,n)}),D(r.updatedContext,function(e){return f(o,e,!1,n)}),D(r.entered,function(e){return f(o,e,!0,n)})}catch(s){throw e.state=i,e.currentHandlerInfos=i.handlerInfos,s}e.state.queryParams=y(e,o,t.queryParams,n)}function f(e,t,n,r){var i=t.handler,o=t.context;if(n&&S(i,"enter",r),r&&r.isAborted)throw new P;if(i.context=o,S(i,"contextDidChange"),S(i,"setup",o,r),r&&r.isAborted)throw new P;return e.push(t),!0}function p(e,t){var n,r,i,o=e.handlerInfos,s=t.handlerInfos,a={updatedContext:[],exited:[],entered:[],unchanged:[]},l=!1;for(r=0,i=s.length;i>r;r++){var u=o[r],c=s[r];u&&u.handler===c.handler||(n=!0),n?(a.entered.push(c),u&&a.exited.unshift(u)):l||u.context!==c.context?(l=!0,a.updatedContext.push(c)):a.unchanged.push(u)}for(r=s.length,i=o.length;i>r;r++)a.exited.unshift(o[r]);return a.reset=a.updatedContext.slice(),a.reset.reverse(),a}function m(e,t,n){var r=e.urlMethod;if(r){for(var i=e.router,o=t.handlerInfos,s=o[o.length-1].name,a={},l=o.length-1;l>=0;--l){var u=o[l];R(a,u.params),u.handler.inaccessibleByURL&&(r=null)}if(r){a.queryParams=e._visibleQueryParams||t.queryParams;

var c=i.recognizer.generate(s,a);"replace"===r?i.replaceURL(c):i.updateURL(c)}}}function g(e,t){try{O(e.router,e.sequence,"Resolved all models on destination route; finalizing transition.");{var n=e.router,r=t.handlerInfos;e.sequence}return h(n,t,e),e.isAborted?(n.state.handlerInfos=n.currentHandlerInfos,T.reject(N(e))):(m(e,t,e.intent.url),e.isActive=!1,n.activeTransition=null,C(n,n.currentHandlerInfos,!0,["didTransition"]),n.didTransition&&n.didTransition(n.currentHandlerInfos),O(n,e.sequence,"TRANSITION COMPLETE."),r[r.length-1].handler)}catch(i){if(!(i instanceof P)){var o=e.state.handlerInfos;e.trigger(!0,"error",i,e,o[o.length-1].handler),e.abort()}throw i}}function v(e,t,n){var r=t[0]||"/",i=t[t.length-1],o={};i&&i.hasOwnProperty("queryParams")&&(o=F.call(t).queryParams);var s;if(0===t.length){O(e,"Updating query params");var a=e.state.handlerInfos;s=new L({name:a[a.length-1].name,contexts:[],queryParams:o})}else"/"===r.charAt(0)?(O(e,"Attempting URL transition to "+r),s=new M({url:r})):(O(e,"Attempting transition to "+r),s=new L({name:t[0],contexts:I.call(t,1),queryParams:o}));return e.transitionByIntent(s,n)}function b(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;r>n;++n)if(e[n]!==t[n])return!1;return!0}function y(e,t,n,r){for(var i in n)n.hasOwnProperty(i)&&null===n[i]&&delete n[i];var o=[];C(e,t,!0,["finalizeQueryParamChange",n,o,r]),r&&(r._visibleQueryParams={});for(var s={},a=0,l=o.length;l>a;++a){var u=o[a];s[u.key]=u.value,r&&u.visible!==!1&&(r._visibleQueryParams[u.key]=u.value)}return s}function E(e,t,n){var r,i,o,s,a,l,u=e.state.handlerInfos,c=[],d=null;for(s=u.length,o=0;s>o;o++){if(a=u[o],l=t.handlerInfos[o],!l||a.name!==l.name){d=o;break}l.isResolved||c.push(a)}null!==d&&(r=u.slice(d,s),i=function(e){for(var t=0,n=r.length;n>t;t++)if(r[t].name===e)return!0;return!1},e._triggerWillLeave(r,n,i)),c.length>0&&e._triggerWillChangeContext(c,n),C(e,u,!0,["willTransition",n])}var _=e["default"],T=t["default"],C=n.trigger,O=n.log,I=n.slice,D=n.forEach,R=n.merge,w=(n.serialize,n.extractQueryParams),x=n.getChangelist,k=n.promiseLabel,S=n.callHook,K=r["default"],N=i.logAbort,A=i.Transition,P=i.TransitionAborted,L=o["default"],M=s["default"],F=(a.ResolvedHandlerInfo,Array.prototype.pop);u.prototype={map:function(e){this.recognizer.delegate=this.delegate,this.recognizer.map(e,function(e,t){for(var n=t.length-1,r=!0;n>=0&&r;--n){var i=t[n];e.add(t,{as:i.handler}),r="/"===i.path||""===i.path||".index"===i.handler.slice(-6)}})},hasRoute:function(e){return this.recognizer.hasRoute(e)},queryParamsTransition:function(e,t,n,r){var i=this;if(d(this,r,e),!t&&this.activeTransition)return this.activeTransition;var o=new A(this);return o.queryParamsOnly=!0,n.queryParams=y(this,r.handlerInfos,r.queryParams,o),o.promise=o.promise.then(function(e){return m(o,n,!0),i.didTransition&&i.didTransition(i.currentHandlerInfos),e},null,k("Transition complete")),o},transitionByIntent:function(e,t){try{return c.apply(this,arguments)}catch(n){return new A(this,e,null,n)}},reset:function(){this.state&&D(this.state.handlerInfos.slice().reverse(),function(e){var t=e.handler;S(t,"exit")}),this.state=new K,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(e){var t=I.call(arguments);return"/"!==e.charAt(0)&&(t[0]="/"+e),v(this,t).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(e){this.updateURL(e)},transitionTo:function(e){return v(this,arguments)},intermediateTransitionTo:function(e){return v(this,arguments,!0)},refresh:function(e){for(var t=this.activeTransition?this.activeTransition.state:this.state,n=t.handlerInfos,r={},i=0,o=n.length;o>i;++i){var s=n[i];r[s.name]=s.params||{}}O(this,"Starting a refresh transition");var a=new L({name:n[n.length-1].name,pivotHandler:e||n[0].handler,contexts:[],queryParams:this._changedQueryParams||t.queryParams||{}});return this.transitionByIntent(a,!1)},replaceWith:function(e){return v(this,arguments).method("replace")},generate:function(e){for(var t=w(I.call(arguments,1)),n=t[0],r=t[1],i=new L({name:e,contexts:n}),o=i.applyToState(this.state,this.recognizer,this.getHandler),s={},a=0,l=o.handlerInfos.length;l>a;++a){var u=o.handlerInfos[a],c=u.serialize();R(s,c)}return s.queryParams=r,this.recognizer.generate(e,s)},applyIntent:function(e,t){var n=new L({name:e,contexts:t}),r=this.activeTransition&&this.activeTransition.state||this.state;return n.applyToState(r,this.recognizer,this.getHandler)},isActiveIntent:function(e,t,n){var r,i,o=this.state.handlerInfos;if(!o.length)return!1;var s=o[o.length-1].name,a=this.recognizer.handlersFor(s),l=0;for(i=a.length;i>l&&(r=o[l],r.name!==e);++l);if(l===a.length)return!1;var u=new K;u.handlerInfos=o.slice(0,l+1),a=a.slice(0,l+1);var c=new L({name:s,contexts:t}),d=c.applyToHandlers(u,a,this.getHandler,s,!0,!0),h=b(d.handlerInfos,u.handlerInfos);if(!n||!h)return h;var f={};R(f,n);var p=this.state.queryParams;for(var m in p)p.hasOwnProperty(m)&&f.hasOwnProperty(m)&&(f[m]=p[m]);return h&&!x(f,n)},isActive:function(e){var t=w(I.call(arguments,1));return this.isActiveIntent(e,t[0],t[1])},trigger:function(e){var t=I.call(arguments);C(this,this.currentHandlerInfos,!1,t)},log:null,_willChangeContextEvent:"willChangeContext",_triggerWillChangeContext:function(e,t){C(this,e,!0,[this._willChangeContextEvent,t])},_triggerWillLeave:function(e,t,n){C(this,e,!0,["willLeave",t,n])}},l["default"]=u}),e("router/transition-intent",["./utils","exports"],function(e,t){"use strict";function n(e){this.initialize(e),this.data=this.data||{}}e.merge;n.prototype={initialize:null,applyToState:null},t["default"]=n}),e("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(e,t,n,r,i){"use strict";var o=e["default"],s=t["default"],a=n["default"],l=r.isParam,u=r.extractQueryParams,c=r.merge,d=r.subclass;i["default"]=d(o,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(e){this.name=e.name,this.pivotHandler=e.pivotHandler,this.contexts=e.contexts||[],this.queryParams=e.queryParams},applyToState:function(e,t,n,r){var i=u([this.name].concat(this.contexts)),o=i[0],s=(i[1],t.handlersFor(o[0])),a=s[s.length-1].handler;return this.applyToHandlers(e,s,n,a,r)},applyToHandlers:function(e,t,n,r,i,o){var a,l,u=new s,d=this.contexts.slice(0),h=t.length;if(this.pivotHandler)for(a=0,l=t.length;l>a;++a)if(n(t[a].handler)===this.pivotHandler){h=a;break}!this.pivotHandler;for(a=t.length-1;a>=0;--a){var f=t[a],p=f.handler,m=n(p),g=e.handlerInfos[a],v=null;if(v=f.names.length>0?a>=h?this.createParamHandlerInfo(p,m,f.names,d,g):this.getHandlerInfoForDynamicSegment(p,m,f.names,d,g,r,a):this.createParamHandlerInfo(p,m,f.names,d,g),o){v=v.becomeResolved(null,v.context);var b=g&&g.context;f.names.length>0&&v.context===b&&(v.params=g&&g.params),v.context=b}var y=g;(a>=h||v.shouldSupercede(g))&&(h=Math.min(a,h),y=v),i&&!o&&(y=y.becomeResolved(null,y.context)),u.handlerInfos.unshift(y)}if(d.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+r);return i||this.invalidateChildren(u.handlerInfos,h),c(u.queryParams,this.queryParams||{}),u},invalidateChildren:function(e,t){for(var n=t,r=e.length;r>n;++n){{e[n]}e[n]=e[n].getUnresolved()}},getHandlerInfoForDynamicSegment:function(e,t,n,r,i,o,s){{var u;n.length}if(r.length>0){if(u=r[r.length-1],l(u))return this.createParamHandlerInfo(e,t,n,r,i);r.pop()}else{if(i&&i.name===e)return i;if(!this.preTransitionState)return i;var c=this.preTransitionState.handlerInfos[s];u=c&&c.context}return a("object",{name:e,handler:t,context:u,names:n})},createParamHandlerInfo:function(e,t,n,r,i){for(var o={},s=n.length;s--;){var u=i&&e===i.name&&i.params||{},c=r[r.length-1],d=n[s];if(l(c))o[d]=""+r.pop();else{if(!u.hasOwnProperty(d))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+e);o[d]=u[d]}}return a("param",{name:e,handler:t,params:o})}})}),e("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(e,t,n,r,i){"use strict";function o(e){this.message=e||"UnrecognizedURLError",this.name="UnrecognizedURLError"}var s=e["default"],a=t["default"],l=n["default"],u=(r.oCreate,r.merge),c=r.subclass;i["default"]=c(s,{url:null,initialize:function(e){this.url=e.url},applyToState:function(e,t,n){var r,i,s=new a,c=t.recognize(this.url);if(!c)throw new o(this.url);var d=!1;for(r=0,i=c.length;i>r;++r){var h=c[r],f=h.handler,p=n(f);if(p.inaccessibleByURL)throw new o(this.url);var m=l("param",{name:f,handler:p,params:h.params}),g=e.handlerInfos[r];d||m.shouldSupercede(g)?(d=!0,s.handlerInfos[r]=m):s.handlerInfos[r]=g}return u(s.queryParams,c.queryParams),s}})}),e("router/transition-state",["./handler-info","./utils","rsvp/promise","exports"],function(e,t,n,r){"use strict";function i(e){this.handlerInfos=[],this.queryParams={},this.params={}}var o=(e.ResolvedHandlerInfo,t.forEach),s=t.promiseLabel,a=t.callHook,l=n["default"];i.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(e){var t="";return o(this.handlerInfos,function(e){""!==t&&(t+="."),t+=e.name}),s("'"+t+"': "+e)},resolve:function(e,t){function n(){return l.resolve(e(),c.promiseLabel("Check if should continue"))["catch"](function(e){return d=!0,l.reject(e)},c.promiseLabel("Handle abort"))}function r(e){var n=c.handlerInfos,r=t.resolveIndex>=n.length?n.length-1:t.resolveIndex;return l.reject({error:e,handlerWithError:c.handlerInfos[r].handler,wasAborted:d,state:c})}function i(e){var r=c.handlerInfos[t.resolveIndex].isResolved;if(c.handlerInfos[t.resolveIndex++]=e,!r){var i=e.handler;a(i,"redirect",e.context,t)}return n().then(s,null,c.promiseLabel("Resolve handler"))}function s(){if(t.resolveIndex===c.handlerInfos.length)return{error:null,state:c};var e=c.handlerInfos[t.resolveIndex];return e.resolve(n,t).then(i,null,c.promiseLabel("Proceed"))}var u=this.params;o(this.handlerInfos,function(e){u[e.name]=e.params||{}}),t=t||{},t.resolveIndex=0;var c=this,d=!1;return l.resolve(null,this.promiseLabel("Start transition")).then(s,null,this.promiseLabel("Resolve handler"))["catch"](r,this.promiseLabel("Handle error"))}},r["default"]=i}),e("router/transition",["rsvp/promise","./handler-info","./utils","exports"],function(e,t,n,r){"use strict";function i(e,t,n,r){function s(){return l.isAborted?a.reject(void 0,d("Transition aborted - reject")):void 0}var l=this;if(this.state=n||e.state,this.intent=t,this.router=e,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},r)return this.promise=a.reject(r),void(this.error=r);if(n){this.params=n.params,this.queryParams=n.queryParams,this.handlerInfos=n.handlerInfos;var u=n.handlerInfos.length;u&&(this.targetName=n.handlerInfos[u-1].name);for(var c=0;u>c;++c){var h=n.handlerInfos[c];if(!h.isResolved)break;this.pivotHandler=h.handler}this.sequence=i.currentSequence++,this.promise=n.resolve(s,this)["catch"](function(e){return e.wasAborted||l.isAborted?a.reject(o(l)):(l.trigger("error",e.error,l,e.handlerWithError),l.abort(),a.reject(e.error))},d("Handle Abort"))}else this.promise=a.resolve(this.state),this.params={}}function o(e){return c(e.router,e.sequence,"detected abort."),new s}function s(e){this.message=e||"TransitionAborted",this.name="TransitionAborted"}var a=e["default"],l=(t.ResolvedHandlerInfo,n.trigger),u=n.slice,c=n.log,d=n.promiseLabel;i.currentSequence=0,i.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:!0,state:null,queryParamsOnly:!1,isTransition:!0,isExiting:function(e){for(var t=this.handlerInfos,n=0,r=t.length;r>n;++n){var i=t[n];if(i.name===e||i.handler===e)return!1}return!0},promise:null,data:null,then:function(e,t,n){return this.promise.then(e,t,n)},"catch":function(e,t){return this.promise["catch"](e,t)},"finally":function(e,t){return this.promise["finally"](e,t)},abort:function(){return this.isAborted?this:(c(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){return this.abort(),this.router.transitionByIntent(this.intent,!1)},method:function(e){return this.urlMethod=e,this},trigger:function(e){var t=u.call(arguments);"boolean"==typeof e?t.shift():e=!1,l(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),e,t)},followRedirects:function(){var e=this.router;return this.promise["catch"](function(t){return e.activeTransition?e.activeTransition.followRedirects():a.reject(t)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(e){c(this.router,this.sequence,e)}},i.prototype.send=i.prototype.trigger,r.Transition=i,r.logAbort=o,r.TransitionAborted=s}),e("router/utils",["exports"],function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function n(e){var t,n,r=e&&e.length;return r&&r>0&&e[r-1]&&e[r-1].hasOwnProperty("queryParams")?(n=e[r-1].queryParams,t=g.call(e,0,r-1),[t,n]):[e,null]}function r(e){for(var t in e)if("number"==typeof e[t])e[t]=""+e[t];else if(v(e[t]))for(var n=0,r=e[t].length;r>n;n++)e[t][n]=""+e[t][n]}function i(e,t,n){e.log&&(3===arguments.length?e.log("Transition #"+t+": "+n):(n=t,e.log(n)))}function o(e,t){var n=arguments;return function(r){var i=g.call(n,2);return i.push(r),t.apply(e,i)}}function s(e){return"string"==typeof e||e instanceof String||"number"==typeof e||e instanceof Number}function a(e,t){for(var n=0,r=e.length;r>n&&!1!==t(e[n]);n++);}function l(e,t,n,r){if(e.triggerEvent)return void e.triggerEvent(t,n,r);var i=r.shift();if(!t){if(n)return;throw new Error("Could not trigger event '"+i+"'. There are no active handlers")}for(var o=!1,s=t.length-1;s>=0;s--){var a=t[s],l=a.handler;if(l.events&&l.events[i]){if(l.events[i].apply(l,r)!==!0)return;o=!0}}if(!o&&!n)throw new Error("Nothing handled the event '"+i+"'.")}function u(e,n){var i,o={all:{},changed:{},removed:{}};t(o.all,n);var s=!1;r(e),r(n);for(i in e)e.hasOwnProperty(i)&&(n.hasOwnProperty(i)||(s=!0,o.removed[i]=e[i]));for(i in n)if(n.hasOwnProperty(i))if(v(e[i])&&v(n[i]))if(e[i].length!==n[i].length)o.changed[i]=n[i],s=!0;else for(var a=0,l=e[i].length;l>a;a++)e[i][a]!==n[i][a]&&(o.changed[i]=n[i],s=!0);else e[i]!==n[i]&&(o.changed[i]=n[i],s=!0);return s&&o}function c(e){return"Router: "+e}function d(e,n){function r(t){e.call(this,t||{})}return r.prototype=b(e.prototype),t(r.prototype,n),r}function h(e,t){if(e){var n="_"+t;return e[n]&&n||e[t]&&t}}function f(e,t){var n=g.call(arguments,2);return p(e,t,n)}function p(e,t,n){var r=h(e,t);return r?e[r].apply(e,n):void 0}var m,g=Array.prototype.slice;m=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var v=m;e.isArray=v;var b=Object.create||function(e){function t(){}return t.prototype=e,new t};e.oCreate=b,e.extractQueryParams=n,e.log=i,e.bind=o,e.forEach=a,e.trigger=l,e.getChangelist=u,e.promiseLabel=c,e.subclass=d,e.merge=t,e.slice=g,e.isParam=s,e.coerceQueryParamsToString=r,e.callHook=f,e.resolveHook=h,e.applyHook=p}),e("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all-settled","./rsvp/race","./rsvp/hash","./rsvp/hash-settled","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","./rsvp/asap","exports"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m,g){"use strict";function v(e,t){k.async(e,t)}function b(){k.on.apply(k,arguments)}function y(){k.off.apply(k,arguments)}var E=e["default"],_=t["default"],T=n["default"],C=r["default"],O=i["default"],I=o["default"],D=s["default"],R=a["default"],w=l["default"],x=u["default"],k=c.config,S=c.configure,K=d["default"],N=h["default"],A=f["default"],P=p["default"],L=m["default"];k.async=L;var M=N;if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var F=window.__PROMISE_INSTRUMENTATION__;S("instrument",!0);for(var B in F)F.hasOwnProperty(B)&&b(B,F[B])}g.cast=M,g.Promise=E,g.EventTarget=_,g.all=C,g.allSettled=O,g.race=I,g.hash=D,g.hashSettled=R,g.rethrow=w,g.defer=x,g.denodeify=T,g.configure=S,g.on=b,g.off=y,g.resolve=N,g.reject=A,g.async=v,g.map=K,g.filter=P}),e("rsvp.umd",["./rsvp"],function(t){"use strict";var n=t.Promise,r=t.allSettled,i=t.hash,o=t.hashSettled,s=t.denodeify,a=t.on,l=t.off,u=t.map,c=t.filter,d=t.resolve,h=t.reject,f=t.rethrow,p=t.all,m=t.defer,g=t.EventTarget,v=t.configure,b=t.race,y=t.async,E={race:b,Promise:n,allSettled:r,hash:i,hashSettled:o,denodeify:s,on:a,off:l,map:u,filter:c,resolve:d,reject:h,all:p,rethrow:f,defer:m,EventTarget:g,configure:v,async:y};"function"==typeof e&&e.amd?e(function(){return E}):"undefined"!=typeof module&&module.exports?module.exports=E:"undefined"!=typeof this&&(this.RSVP=E)}),e("rsvp/-internal",["./utils","./instrument","./config","exports"],function(e,t,n,r){"use strict";function i(){return new TypeError("A promises callback cannot return that same promise.")}function o(){}function s(e){try{return e.then}catch(t){return w.error=t,w}}function a(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function l(e,t,n){O.async(function(e){var r=!1,i=a(n,t,function(n){r||(r=!0,t!==n?d(e,n):f(e,n))},function(t){r||(r=!0,p(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,p(e,i))},e)}function u(e,t){t._state===D?f(e,t._result):e._state===R?p(e,t._result):m(t,void 0,function(n){t!==n?d(e,n):f(e,n)},function(t){p(e,t)})}function c(e,t){if(t.constructor===e.constructor)u(e,t);else{var n=s(t);n===w?p(e,w.error):void 0===n?f(e,t):T(n)?l(e,t,n):f(e,t)}}function d(e,t){e===t?f(e,t):_(t)?c(e,t):f(e,t)}function h(e){e._onerror&&e._onerror(e._result),g(e)}function f(e,t){e._state===I&&(e._result=t,e._state=D,0===e._subscribers.length?O.instrument&&C("fulfilled",e):O.async(g,e))}function p(e,t){e._state===I&&(e._state=R,e._result=t,O.async(h,e))}function m(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+D]=n,i[o+R]=r,0===o&&e._state&&O.async(g,e)}function g(e){var t=e._subscribers,n=e._state;if(O.instrument&&C(n===D?"fulfilled":"rejected",e),0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?y(n,r,i,o):i(o);e._subscribers.length=0}}function v(){this.error=null}function b(e,t){try{return e(t)}catch(n){return x.error=n,x}}function y(e,t,n,r){var o,s,a,l,u=T(n);if(u){if(o=b(n,r),o===x?(l=!0,s=o.error,o=null):a=!0,t===o)return void p(t,i())}else o=r,a=!0;t._state!==I||(u&&a?d(t,o):l?p(t,s):e===D?f(t,o):e===R&&p(t,o))}function E(e,t){try{t(function(t){d(e,t)},function(t){p(e,t)})}catch(n){p(e,n)}}var _=e.objectOrFunction,T=e.isFunction,C=t["default"],O=n.config,I=void 0,D=1,R=2,w=new v,x=new v;r.noop=o,r.resolve=d,r.reject=p,r.fulfill=f,r.subscribe=m,r.publish=g,r.publishRejection=h,r.initializePromise=E,r.invokeCallback=y,r.FULFILLED=D,r.REJECTED=R,r.PENDING=I}),e("rsvp/all-settled",["./enumerator","./promise","./utils","exports"],function(e,t,n,r){"use strict";function i(e,t,n){this._superConstructor(e,t,!1,n)}var o=e["default"],s=e.makeSettledResult,a=t["default"],l=n.o_create;i.prototype=l(o.prototype),i.prototype._superConstructor=o,i.prototype._makeResult=s,i.prototype._validationError=function(){return new Error("allSettled must be called with an array")},r["default"]=function(e,t){return new i(a,e,t).promise}}),e("rsvp/all",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.all(e,t)}}),e("rsvp/asap",["exports"],function(e){"use strict";function t(){return function(){process.nextTick(a)}}function r(){return function(){vertxNext(a)}}function i(){var e=0,t=new f(a),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function o(){var e=new MessageChannel;return e.port1.onmessage=a,function(){e.port2.postMessage(0)}}function s(){return function(){setTimeout(a,1)}}function a(){for(var e=0;u>e;e+=2){var t=m[e],n=m[e+1];t(n),m[e]=void 0,m[e+1]=void 0}u=0}function l(){try{{var e=n("vertx");e.runOnLoop||e.runOnContext}return r()}catch(t){return s()}}var u=0;e["default"]=function(e,t){m[u]=e,m[u+1]=t,u+=2,2===u&&c()};var c,d="undefined"!=typeof window?window:void 0,h=d||{},f=h.MutationObserver||h.WebKitMutationObserver,p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,m=new Array(1e3);c="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():f?i():p?o():void 0===d&&"function"==typeof n?l():s()}),e("rsvp/config",["./events","exports"],function(e,t){"use strict";function n(e,t){return"onerror"===e?void i.on("error",t):2!==arguments.length?i[e]:void(i[e]=t)}var r=e["default"],i={instrument:!1};r.mixin(i),t.config=i,t.configure=n}),e("rsvp/defer",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e){var t={};return t.promise=new n(function(e,n){t.resolve=e,t.reject=n},e),t}}),e("rsvp/enumerator",["./utils","./-internal","exports"],function(e,t,n){"use strict";function r(e,t,n){return e===d?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function i(e,t,n,r){this._instanceConstructor=e,this.promise=new e(a,r),this._abortOnReject=n,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?u(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&u(this.promise,this._result))):l(this.promise,this._validationError())}var o=e.isArray,s=e.isMaybeThenable,a=t.noop,l=t.reject,u=t.fulfill,c=t.subscribe,d=t.FULFILLED,h=t.REJECTED,f=t.PENDING;n.makeSettledResult=r,i.prototype._validateInput=function(e){return o(e)},i.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},i.prototype._init=function(){this._result=new Array(this.length)},n["default"]=i,i.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,r=0;t._state===f&&e>r;r++)this._eachEntry(n[r],r)},i.prototype._eachEntry=function(e,t){var n=this._instanceConstructor;s(e)?e.constructor===n&&e._state!==f?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(n.resolve(e),t):(this._remaining--,this._result[t]=this._makeResult(d,t,e))},i.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===f&&(this._remaining--,this._abortOnReject&&e===h?l(r,n):this._result[t]=this._makeResult(e,t,n)),0===this._remaining&&u(r,this._result)},i.prototype._makeResult=function(e,t,n){return n},i.prototype._willSettleAt=function(e,t){var n=this;c(e,void 0,function(e){n._settledAt(d,t,e)},function(e){n._settledAt(h,t,e)})}}),e("rsvp/events",["exports"],function(e){"use strict";function t(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}function n(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}e["default"]={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,r){var i,o=n(this);i=o[e],i||(i=o[e]=[]),-1===t(i,r)&&i.push(r)},off:function(e,r){var i,o,s=n(this);return r?(i=s[e],o=t(i,r),void(-1!==o&&i.splice(o,1))):void(s[e]=[])},trigger:function(e,t){var r,i,o=n(this);if(r=o[e])for(var s=0;s<r.length;s++)(i=r[s])(t)}}}),e("rsvp/filter",["./promise","./utils","exports"],function(e,t,n){"use strict";var r=e["default"],i=t.isFunction;n["default"]=function(e,t,n){return r.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as filter's second argument.");for(var o=e.length,s=new Array(o),a=0;o>a;a++)s[a]=t(e[a]);return r.all(s,n).then(function(t){for(var n=new Array(o),r=0,i=0;o>i;i++)t[i]&&(n[r]=e[i],r++);return n.length=r,n})})}}),e("rsvp/hash-settled",["./promise","./enumerator","./promise-hash","./utils","exports"],function(e,t,n,r,i){"use strict";function o(e,t,n){this._superConstructor(e,t,!1,n)}var s=e["default"],a=t.makeSettledResult,l=n["default"],u=t["default"],c=r.o_create;o.prototype=c(l.prototype),o.prototype._superConstructor=u,o.prototype._makeResult=a,o.prototype._validationError=function(){return new Error("hashSettled must be called with an object")},i["default"]=function(e,t){return new o(s,e,t).promise}}),e("rsvp/hash",["./promise","./promise-hash","exports"],function(e,t,n){"use strict";var r=e["default"],i=t["default"];n["default"]=function(e,t){return new i(r,e,t).promise}}),e("rsvp/instrument",["./config","./utils","exports"],function(e,t,n){"use strict";function r(){setTimeout(function(){for(var e,t=0;t<s.length;t++){e=s[t];var n=e.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),i.trigger(e.name,e.payload)}s.length=0},50)}var i=e.config,o=t.now,s=[];n["default"]=function(e,t,n){1===s.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:n&&n._id,label:t._label,timeStamp:o(),error:i["instrument-with-stack"]?new Error(t._label):null}})&&r()}}),e("rsvp/map",["./promise","./utils","exports"],function(e,t,n){"use strict";var r=e["default"],i=t.isFunction;n["default"]=function(e,t,n){return r.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as map's second argument.");for(var o=e.length,s=new Array(o),a=0;o>a;a++)s[a]=t(e[a]);return r.all(s,n)})}}),e("rsvp/node",["./promise","./-internal","./utils","exports"],function(e,t,n,r){"use strict";function i(){this.value=void 0}function o(e){try{return e.then}catch(t){return b.value=t,b}}function s(e,t,n){try{e.apply(t,n)}catch(r){return b.value=r,b}}function a(e,t){for(var n,r,i={},o=e.length,s=new Array(o),a=0;o>a;a++)s[a]=e[a];for(r=0;r<t.length;r++)n=t[r],i[n]=s[r+1];return i}function l(e){for(var t=e.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=e[r];return n}function u(e,t){return{then:function(n,r){return e.call(t,n,r)}}}function c(e,t,n,r){var i=s(n,r,t);return i===b&&g(e,i.value),e}function d(e,t,n,r){return f.all(t).then(function(t){var i=s(n,r,t);return i===b&&g(e,i.value),e})}function h(e){return e&&"object"==typeof e?e.constructor===f?!0:o(e):!1}var f=e["default"],p=t.noop,m=t.resolve,g=t.reject,v=n.isArray,b=new i,y=new i;r["default"]=function(e,t){var n=function(){for(var n,r=this,i=arguments.length,o=new Array(i+1),s=!1,b=0;i>b;++b){if(n=arguments[b],!s){if(s=h(n),s===y){var E=new f(p);return g(E,y.value),E}s&&s!==!0&&(n=u(s,n))}o[b]=n}var _=new f(p);return o[i]=function(e,n){e?g(_,e):void 0===t?m(_,n):t===!0?m(_,l(arguments)):v(t)?m(_,a(arguments,t)):m(_,n)},s?d(_,o,e,r):c(_,o,e,r)};return n.__proto__=e,n}}),e("rsvp/promise-hash",["./enumerator","./-internal","./utils","exports"],function(e,t,n,r){"use strict";function i(e,t,n){this._superConstructor(e,t,!0,n)}var o=e["default"],s=t.PENDING,a=n.o_create;r["default"]=i,i.prototype=a(o.prototype),i.prototype._superConstructor=o,i.prototype._init=function(){this._result={}},i.prototype._validateInput=function(e){return e&&"object"==typeof e},i.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},i.prototype._enumerate=function(){var e=this.promise,t=this._input,n=[];for(var r in t)e._state===s&&t.hasOwnProperty(r)&&n.push({position:r,entry:t[r]});var i=n.length;this._remaining=i;for(var o,a=0;e._state===s&&i>a;a++)o=n[a],this._eachEntry(o.entry,o.position)}}),e("rsvp/promise",["./config","./instrument","./utils","./-internal","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(e,t,n,r,i,o,s,a,l){"use strict";function u(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function c(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function d(e,t){this._id=R++,this._label=t,this._state=void 0,this._result=void 0,this._subscribers=[],h.instrument&&f("created",this),g!==e&&(p(e)||u(),this instanceof d||c(),b(this,e))}var h=e.config,f=t["default"],p=n.isFunction,m=n.now,g=r.noop,v=r.subscribe,b=r.initializePromise,y=r.invokeCallback,E=r.FULFILLED,_=r.REJECTED,T=i["default"],C=o["default"],O=s["default"],I=a["default"],D="rsvp_"+m()+"-",R=0;l["default"]=d,d.cast=O,d.all=T,d.race=C,d.resolve=O,d.reject=I,d.prototype={constructor:d,_guidKey:D,_onerror:function(e){h.trigger("error",e)},then:function(e,t,n){var r=this,i=r._state;if(i===E&&!e||i===_&&!t)return h.instrument&&f("chained",this,this),this;r._onerror=null;var o=new this.constructor(g,n),s=r._result;if(h.instrument&&f("chained",r,o),i){var a=arguments[i-1];h.async(function(){y(i,o,a,s)})}else v(r,o,e,t);return o},"catch":function(e,t){return this.then(null,e,t)},"finally":function(e,t){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})},t)}}}),e("rsvp/promise/all",["../enumerator","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return new n(this,e,!0,t).promise}}),e("rsvp/promise/race",["../utils","../-internal","exports"],function(e,t,n){"use strict";var r=e.isArray,i=t.noop,o=t.resolve,s=t.reject,a=t.subscribe,l=t.PENDING;n["default"]=function(e,t){function n(e){o(d,e)}function u(e){s(d,e)}var c=this,d=new c(i,t);if(!r(e))return s(d,new TypeError("You must pass an array to race.")),d;for(var h=e.length,f=0;d._state===l&&h>f;f++)a(c.resolve(e[f]),void 0,n,u);return d}}),e("rsvp/promise/reject",["../-internal","exports"],function(e,t){"use strict";var n=e.noop,r=e.reject;t["default"]=function(e,t){var i=this,o=new i(n,t);return r(o,e),o}}),e("rsvp/promise/resolve",["../-internal","exports"],function(e,t){"use strict";var n=e.noop,r=e.resolve;t["default"]=function(e,t){var i=this;if(e&&"object"==typeof e&&e.constructor===i)return e;var o=new i(n,t);return r(o,e),o}}),e("rsvp/race",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.race(e,t)}}),e("rsvp/reject",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.reject(e,t)}}),e("rsvp/resolve",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.resolve(e,t)}}),e("rsvp/rethrow",["exports"],function(e){"use strict";e["default"]=function(e){throw setTimeout(function(){throw e}),e}}),e("rsvp/utils",["exports"],function(e){"use strict";function t(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(){}e.objectOrFunction=t,e.isFunction=n,e.isMaybeThenable=r;var o;o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var s=o;e.isArray=s;var a=Date.now||function(){return(new Date).getTime()};e.now=a;var l=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return i.prototype=e,new i};e.o_create=l}),t("ember")}(),function(){define("ember",[],function(){"use strict";return{"default":Ember}}),define("ember-data",[],function(){"use strict";return{"default":DS}})}(),define("jquery",[],function(){"use strict";return{"default":jQuery}}),function(){define("ember/resolver",[],function(){"use strict";function e(e){return{create:function(t){return"function"==typeof e.extend?e.extend(t):e}}}function t(){var e=Object.create(null);return e._dict=null,delete e._dict,e}function n(e){if(e.parsedName===!0)return e;var t,n=e.split("@");2===n.length&&("view"===n[0].split(":")[0]&&(n[0]=n[0].split(":")[1],n[1]="view:"+n[1]),t=n[0]);var r=n[n.length-1].split(":"),s=r[0],a=r[1],l=a,u=o(this,"namespace"),c=u;return{parsedName:!0,fullName:e,prefix:t||this.prefix({type:s}),type:s,fullNameWithoutType:a,
name:l,root:c,resolveMethodName:"resolve"+i(s)}}function r(t){Ember.assert("`modulePrefix` must be defined",this.namespace.modulePrefix);var n=this.findModuleName(t);if(n){var r=require(n,null,null,!0);if(r&&r["default"]&&(r=r["default"]),void 0===r)throw new Error(" Expected to find: '"+t.fullName+"' within '"+n+"' but got 'undefined'. Did you forget to `export default` within '"+n+"'?");return this.shouldWrapInClassFactory(r,t)&&(r=e(r)),r}return this._super(t)}if("undefined"==typeof requirejs.entries&&(requirejs.entries=requirejs._eak_seen),!Object.create||Object.create(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");var i=(Ember.String.underscore,Ember.String.classify),o=Ember.get,s=Ember.DefaultResolver.extend({resolveOther:r,resolveTemplate:r,pluralizedTypes:null,makeToString:function(e,t){return""+this.namespace.modulePrefix+"@"+t+":"},parseName:n,shouldWrapInClassFactory:function(e,t){return!1},init:function(){this._super(),this.moduleBasedResolver=!0,this._normalizeCache=t(),this.pluralizedTypes=this.pluralizedTypes||t(),this.pluralizedTypes.config||(this.pluralizedTypes.config="config"),this._deprecatedPodModulePrefix=!1},normalize:function(e){return this._normalizeCache[e]||(this._normalizeCache[e]=this._normalize(e))},_normalize:function(e){var t=e.split(":");return t.length>1?t[0]+":"+Ember.String.dasherize(t[1].replace(/\./g,"/")):e},pluralize:function(e){return this.pluralizedTypes[e]||(this.pluralizedTypes[e]=e+"s")},podBasedLookupWithPrefix:function(e,t){var n=t.fullNameWithoutType;return"template"===t.type&&(n=n.replace(/^components\//,"")),e+"/"+n+"/"+t.type},podBasedModuleName:function(e){var t=this.namespace.podModulePrefix||this.namespace.modulePrefix;return this.podBasedLookupWithPrefix(t,e)},podBasedComponentsInSubdir:function(e){var t=this.namespace.podModulePrefix||this.namespace.modulePrefix;return t+="/components","component"===e.type||e.fullNameWithoutType.match(/^components/)?this.podBasedLookupWithPrefix(t,e):void 0},mainModuleName:function(e){var t=e.prefix+"/"+e.type;return"main"===e.fullNameWithoutType?t:void 0},defaultModuleName:function(e){return e.prefix+"/"+this.pluralize(e.type)+"/"+e.fullNameWithoutType},prefix:function(e){var t=this.namespace.modulePrefix;return this.namespace[e.type+"Prefix"]&&(t=this.namespace[e.type+"Prefix"]),t},moduleNameLookupPatterns:Ember.computed(function(){return Ember.A([this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName])}),findModuleName:function(e,t){var n,r=this;return this.get("moduleNameLookupPatterns").find(function(i){var o=requirejs.entries,s=i.call(r,e);return s&&(s=r.chooseModuleName(o,s)),s&&o[s]&&(t||r._logLookup(!0,e,s),n=s),t||r._logLookup(n,e,s),n}),n},chooseModuleName:function(e,t){var n=Ember.String.underscore(t);if(t!==n&&e[t]&&e[n])throw new TypeError("Ambiguous module names: `"+t+"` and `"+n+"`");if(e[t])return t;if(e[n])return n;var r=t.replace(/\/-([^\/]*)$/,"/_$1");return e[r]?(Ember.deprecate('Modules should not contain underscores. Attempted to lookup "'+t+'" which was not found. Please rename "'+r+'" to "'+t+'" instead.',!1),r):t},lookupDescription:function(e){var t=this.parseName(e),n=this.findModuleName(t,!0);return n},_logLookup:function(e,t,n){if(Ember.ENV.LOG_MODULE_RESOLVER||t.root.LOG_RESOLVER){var r,i;r=e?"[✓]":"[ ]",i=t.fullName.length>60?".":new Array(60-t.fullName.length).join("."),n||(n=this.lookupDescription(t)),Ember.Logger.info(r,t.fullName,i,n)}}});return s.moduleBasedResolver=!0,s["default"]=s,s}),define("resolver",["ember/resolver"],function(e){return Ember.deprecate('Importing/requiring Ember Resolver as "resolver" is deprecated, please use "ember/resolver" instead'),e})}(),function(){define("ember/container-debug-adapter",[],function(){"use strict";function e(e,t,n){var r=t.match(new RegExp("^/?"+n+"/(.+)/"+e+"$"));return r?r[1]:void 0}if("undefined"==typeof Ember.ContainerDebugAdapter)return null;var t=Ember.ContainerDebugAdapter.extend({canCatalogEntriesByType:function(e){return!0},_getEntries:function(){return requirejs.entries},catalogEntriesByType:function(t){var n=this._getEntries(),r=Ember.A(),i=this.namespace.modulePrefix;for(var o in n)if(n.hasOwnProperty(o)&&-1!==o.indexOf(t)){var s=e(t,o,this.namespace.podModulePrefix||i);s||(s=o.split(t+"s/").pop()),r.addObject(s)}return r}});return t["default"]=t,t})}(),function(){!function(){"use strict";Ember.Application.initializer({name:"container-debug-adapter",initialize:function(e,t){{var n=require("ember/container-debug-adapter");require("ember/resolver")}e.register("container-debug-adapter:main",n),t.inject("container-debug-adapter:main","namespace","application:main")}})}()}(),function(){define("ember/load-initializers",[],function(){"use strict";return{"default":function(e,t){var n=new RegExp("^"+t+"/initializers");Ember.keys(requirejs._eak_seen).filter(function(e){return n.test(e)}).forEach(function(t){var n=require(t,null,null,!0);if(!n)throw new Error(t+" must export an initializer.");e.initializer(n["default"])})}}})}(),define("ic-ajax",["ember","exports"],function(e,t){"use strict";function n(){return r.apply(null,arguments).then(function(e){return e.response},null,"ic-ajax: unwrap raw ajax response")}function r(){return s(a.apply(null,arguments))}function i(e,t){t.response&&(t.response=JSON.parse(JSON.stringify(t.response))),d[e]=t}function o(e){return d&&d[e]}function s(e){return new c.RSVP.Promise(function(t,n){var r=o(e.url);return r?"success"===r.textStatus||null==r.textStatus?c.run.later(null,t,r):c.run.later(null,n,r):(e.success=l(t),e.error=u(n),void c.$.ajax(e))},"ic-ajax: "+(e.type||"GET")+" to "+e.url)}function a(){var e={};if(1===arguments.length?"string"==typeof arguments[0]?e.url=arguments[0]:e=arguments[0]:2===arguments.length&&(e=arguments[1],e.url=arguments[0]),e.success||e.error)throw new c.Error("ajax should use promises, received 'success' or 'error' callback");return e}function l(e){return function(t,n,r){c.run(null,e,{response:t,textStatus:n,jqXHR:r})}}function u(e){return function(t,n,r){c.run(null,e,{jqXHR:t,textStatus:n,errorThrown:r})}}var c=e["default"]||e;t.request=n,t["default"]=n,t.raw=r;var d={};t.__fixtures__=d,t.defineFixture=i,t.lookupFixture=o}),function(){"use strict";function e(e){var t=Error.prototype.constructor.call(this,"The backend rejected the commit because it was invalid: "+Ember.inspect(e));this.errors=e;for(var n=0,r=fe.length;r>n;n++)this[fe[n]]=t[fe[n]]}function t(e,t){return"function"!=typeof String.prototype.endsWith?-1!==e.indexOf(t,e.length-t.length):e.endsWith(t)}function n(e,t){for(var n=0,r=t.length;r>n;n++)e.uncountable[t[n].toLowerCase()]=!0}function r(e,t){for(var n,r=0,i=t.length;i>r;r++)n=t[r],e.irregular[n[0].toLowerCase()]=n[1],e.irregular[n[1].toLowerCase()]=n[1],e.irregularInverse[n[1].toLowerCase()]=n[0],e.irregularInverse[n[0].toLowerCase()]=n[0]}function i(e){e=e||{},e.uncountable=e.uncountable||o(),e.irregularPairs=e.irregularPairs||o();var t=this.rules={plurals:e.plurals||[],singular:e.singular||[],irregular:o(),irregularInverse:o(),uncountable:o()};n(t,e.uncountable),r(t,e.irregularPairs),this.enableCache()}function o(){var e=Object.create(null);return e._dict=null,delete e._dict,e}function s(e){return Ke.inflector.pluralize(e)}function a(e){return Ke.inflector.singularize(e)}function l(e){return null==e?null:e+""}function u(e){this.container=e}function c(e,t){var n=new rt(e);n.registerDeprecations([{deprecated:"serializer:_ams",valid:"serializer:-active-model"},{deprecated:"adapter:_ams",valid:"adapter:-active-model"}]),e.register("serializer:-active-model",nt),e.register("adapter:-active-model",Me)}function d(e){return function(){var t=lt(this,"content");return t[e].apply(t,arguments)}}function h(e){var t=Ember.create(null);for(var n in e)t[n]=e[n];return t}function f(e){e.destroy()}function p(e){for(var t=e.length,n=Ember.A(),r=0;t>r;r++)n=n.concat(e[r]);return n}function m(e,t){t.value===t.originalValue?(delete e._attributes[t.name],e.send("propertyWasReset",t.name)):t.value!==t.oldValue&&e.send("becomeDirty"),e.updateRecordArraysLater()}function g(e){var t,n={};for(var r in e)t=e[r],n[r]=t&&"object"==typeof t?g(t):t;return n}function v(e,t){for(var n in t)e[n]=t[n];return e}function b(e){var t=g(kt);return v(t,e)}function y(e){}function E(e,t,n){e=v(t?Ember.create(t):{},e),e.parentState=t,e.stateName=n;for(var r in e)e.hasOwnProperty(r)&&"parentState"!==r&&"stateName"!==r&&"object"==typeof e[r]&&(e[r]=E(e[r],e,n+"."+r));return e}function _(e,t){if(!t||"object"!=typeof t)return e;for(var n,r=Ember.keys(t),i=r.length,o=0;i>o;o++)n=r[o],e[n]=t[n];return e}function T(e){var t=new Ce;if(e)for(var n=0,r=e.length;r>n;n++)t.add(e[n]);return t}function C(e){if(this._attributes=Ember.create(null),this._belongsToRelationships=Ember.create(null),this._belongsToIds=Ember.create(null),this._hasManyRelationships=Ember.create(null),this._hasManyIds=Ember.create(null),e.eachAttribute(function(t){this._attributes[t]=Gt(e,t)},this),this.id=Gt(e,"id"),this.record=e,this.type=e.constructor,this.typeKey=e.constructor.typeKey,Ember.platform.hasPropertyAccessors){var t=!0;Ember.defineProperty(this,"constructor",{get:function(){return t&&(t=!1,t=!0),this.type}})}else this.constructor=this.type}function O(e){return on[e]||(on[e]=e.split("."))}function I(e){return rn[e]||(rn[e]=O(e)[0])}function D(e,t){var n=[];if(!t||"object"!=typeof t)return n;var r,i,o,s=Ember.keys(t),a=s.length;for(r=0;a>r;r++)o=s[r],i=t[o],e[o]!==i&&n.push(o),e[o]=i;return n}function R(e,t,n){return"function"==typeof t.defaultValue?t.defaultValue.apply(null,arguments):t.defaultValue}function w(e,t){return t in e._attributes||t in e._inFlightAttributes||e._data.hasOwnProperty(t)}function x(e,t){return t in e._attributes?e._attributes[t]:t in e._inFlightAttributes?e._inFlightAttributes[t]:e._data[t]}function k(e,t){"object"==typeof e?(t=e,e=void 0):t=t||{};var n={type:e,isAttribute:!0,options:t};return Ember.computed(function(e,n){if(arguments.length>1){var r=x(this,e);return n!==r&&(this._attributes[e]=n,this.send("didSetProperty",{name:e,oldValue:r,originalValue:this._data[e],value:n})),n}return w(this,e)?x(this,e):R(this,t,e)}).meta(n)}function S(e){return null==e?null:e+""}function K(e,t,n,r){return t.eachRelationship(function(t,r){var i=r.kind,o=n[t];"belongsTo"===i?N(e,n,t,r,o):"hasMany"===i&&P(e,n,t,r,o)}),n}function N(e,t,n,r,i){if(!(gn(i)||i instanceof an)){var o;"number"==typeof i||"string"==typeof i?(o=A(r,n,t),t[n]=e.recordForId(o,i)):"object"==typeof i&&(t[n]=e.recordForId(i.type,i.id))}}function A(e,t,n){return e.options.polymorphic?n[t+"Type"]:e.type}function P(e,t,n,r,i){if(!gn(i))for(var o=0,s=i.length;s>o;o++)N(e,i,o,r,i[o])}function L(e,t,n){return e.lookup("serializer:"+t)||e.lookup("serializer:application")||e.lookup("serializer:"+n)||e.lookup("serializer:-default")}function M(e){return e.lookup("serializer:application")||e.lookup("serializer:-default")}function F(e,t){var n=e.serializer,r=e.defaultSerializer,i=e.container;return i&&void 0===n&&(n=L(i,t.typeKey,r)),(null===n||void 0===n)&&(n={extract:function(e,t,n){return n}}),n}function B(e){return!(fn(e,"isDestroyed")||fn(e,"isDestroying"))}function $(e,t){var n=e["finally"](function(){t()||(n._subscribers.length=0)});return n}function j(e,t){return e._backburner.run(t)}function H(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(void 0,t)}}function z(e,t,n,r,i){var o=e.find(t,n,r,i),s=F(e,n),a="DS: Handle Adapter#find of "+n+" with id: "+r;return o=En.cast(o,a),o=$(o,H(B,t)),o.then(function(e){return j(t,function(){var i=s.extract(t,n,e,r,"find");return t.push(n,i)})},function(e){var i=t.getById(n,r);throw i&&(i.notFound(),fn(i,"isEmpty")&&t.unloadRecord(i)),e},"DS: Extract payload of '"+n+"'")}function V(e,t,n,r,i){var o=e.findMany(t,n,r,i),s=F(e,n),a="DS: Handle Adapter#findMany of "+n;if(void 0===o)throw new Error("adapter.findMany returned undefined, this was very likely a mistake");return o=En.cast(o,a),o=$(o,H(B,t)),o.then(function(e){return j(t,function(){var r=s.extract(t,n,e,null,"findMany");return t.pushMany(n,r)})},null,"DS: Extract payload of "+n)}function q(e,t,n,r,i){var o=e.findHasMany(t,n,r,i),s=F(e,i.type),a="DS: Handle Adapter#findHasMany of "+n+" : "+i.type;return o=En.cast(o,a),o=$(o,H(B,t)),o=$(o,H(B,n)),o.then(function(e){return j(t,function(){var n=s.extract(t,i.type,e,null,"findHasMany"),r=t.pushMany(i.type,n);return r})},null,"DS: Extract payload of "+n+" : hasMany "+i.type)}function U(e,t,n,r,i){var o=e.findBelongsTo(t,n,r,i),s=F(e,i.type),a="DS: Handle Adapter#findBelongsTo of "+n+" : "+i.type;return o=En.cast(o,a),o=$(o,H(B,t)),o=$(o,H(B,n)),o.then(function(e){return j(t,function(){var n=s.extract(t,i.type,e,null,"findBelongsTo");if(!n)return null;var r=t.push(i.type,n);return r})},null,"DS: Extract payload of "+n+" : "+i.type)}function W(e,t,n,r){var i=e.findAll(t,n,r),o=F(e,n),s="DS: Handle Adapter#findAll of "+n;return i=En.cast(i,s),i=$(i,H(B,t)),i.then(function(e){return j(t,function(){var r=o.extract(t,n,e,null,"findAll");t.pushMany(n,r)}),t.didUpdateAll(n),t.all(n)},null,"DS: Extract payload of findAll "+n)}function Y(e,t,n,r,i){var o=e.findQuery(t,n,r,i),s=F(e,n),a="DS: Handle Adapter#findQuery of "+n;return o=En.cast(o,a),o=$(o,H(B,t)),o.then(function(e){var r;return j(t,function(){r=s.extract(t,n,e,null,"findQuery")}),i.load(r),i},null,"DS: Extract payload of findQuery "+n)}function G(t,n,r,i){var o=i.constructor,s=t[r](n,o,i),a=F(t,o),l="DS: Extract and notify about "+r+" completion of "+i;return s=En.cast(s,l),s=$(s,H(B,n)),s=$(s,H(B,i)),s.then(function(e){var t;return j(n,function(){t=e?a.extract(n,o,e,fn(i,"id"),r):e,n.didSaveRecord(i,t)}),i},function(t){if(t instanceof e){var r=a.extractErrors(n,o,t.errors,fn(i,"id"));n.recordWasInvalid(i,r),t=new e(r)}else n.recordWasError(i,t);throw t},l)}function X(e,t,n){var r=t.constructor;r.eachRelationship(function(e,r){var i=r.kind,o=n[e],s=t._relationships[e];if(n.links&&n.links[e]&&s.updateLink(n.links[e]),"belongsTo"===i){if(void 0===o)return;s.setCanonicalRecord(o)}else"hasMany"===i&&o&&s.updateRecordsFromAdapter(o)})}function Q(e,t){e.register("store:main",e.lookupFactory("store:application")||t&&t.Store||Cn);var n=new rt(e);n.registerDeprecations([{deprecated:"serializer:_default",valid:"serializer:-default"},{deprecated:"serializer:_rest",valid:"serializer:-rest"},{deprecated:"adapter:_rest",valid:"adapter:-rest"}]),e.register("serializer:-default",Ve),e.register("serializer:-rest",Ge),e.register("adapter:-rest",De),e.lookup("store:main")}function Z(e){return e===e&&e!==1/0&&e!==-(1/0)}function J(e){e.register("transform:boolean",Kn),e.register("transform:date",xn),e.register("transform:number",Rn),e.register("transform:string",Sn)}function ee(e){e.injection("controller","store","store:main"),e.injection("route","store","store:main"),e.injection("serializer","store","store:main"),e.injection("data-adapter","store","store:main")}function te(e){e.register("data-adapter:main",Fn)}function ne(e,t){Bn(e,t),Nn(e,t),An(e,t),On(e,t),it(e,t)}function re(e,t,n,r){return n.eachRelationship(function(n,i){if(e.hasDeserializeRecordsOption(n)){var o=t.modelFor(i.type.typeKey);"hasMany"===i.kind&&(i.options.polymorphic?oe(t,n,r):ie(t,n,o,r)),"belongsTo"===i.kind&&(i.options.polymorphic?ae(t,n,r):se(t,n,o,r))}}),r}function ie(e,t,n,r){if(!r[t])return r;var i=[],o=e.serializerFor(n.typeKey);return Un(r[t],function(t){var r=o.normalize(n,t,null);e.push(n,r),i.push(r.id)}),r[t]=i,r}function oe(e,t,n){if(!n[t])return n;var r=[];return Un(n[t],function(t){var n=t.type,i=e.serializerFor(n),o=e.modelFor(n),s=qn(i,"primaryKey"),a=i.normalize(o,t,null);e.push(o,a),r.push({id:a[s],type:n})}),n[t]=r,n}function se(e,t,n,r){if(!r[t])return r;var i=e.serializerFor(n.typeKey),o=i.normalize(n,r[t],null);return e.push(n,o),r[t]=o.id,r}function ae(e,t,n){if(!n[t])return n;var r=n[t],i=r.type,o=e.serializerFor(i),s=e.modelFor(i),a=qn(o,"primaryKey"),l=o.normalize(s,r,null);return e.push(s,l),n[t]=l[a],n[t+"Type"]=i,n}function le(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n={type:e,isRelationship:!0,options:t,kind:"belongsTo",key:null};return Ember.computed(function(e,t){return arguments.length>1&&(void 0===t&&(t=null),t&&t.then?this._relationships[e].setRecordPromise(t):this._relationships[e].setRecord(t)),this._relationships[e].getRecord()}).meta(n)}function ue(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n={type:e,isRelationship:!0,options:t,kind:"hasMany",key:null};return Ember.computed(function(e){var t=this._relationships[e];return t.getRecords()}).meta(n).readOnly()}function ce(e,t){var n,r;return n=t.type||t.key,"string"==typeof n?("hasMany"===t.kind&&(n=a(n)),r=e.modelFor(n)):r=t.type,r}function de(e,t){return{key:t.key,kind:t.kind,type:ce(e,t),options:t.options,parentType:t.parentType,isRelationship:!0}}var he=Ember.get,fe=["description","fileName","lineNumber","message","name","number","stack"];e.prototype=Ember.create(Error.prototype);var pe=Ember.Object.extend({find:Ember.required(Function),findAll:null,findQuery:null,generateIdForRecord:null,serialize:function(e,t){var n=e._createSnapshot();return he(e,"store").serializerFor(n.typeKey).serialize(n,t)},createRecord:Ember.required(Function),updateRecord:Ember.required(Function),deleteRecord:Ember.required(Function),coalesceFindRequests:!0,groupRecordsForFindMany:function(e,t){return[t]}}),me=pe,ge=Ember.get,ve=Ember.String.fmt,be=Ember.EnumerableUtils.indexOf,ye=0,Ee=me.extend({serializer:null,simulateRemoteResponse:!0,latency:50,fixturesForType:function(e){if(e.FIXTURES){var t=Ember.A(e.FIXTURES);return t.map(function(e){var t=typeof e.id;if("number"!==t&&"string"!==t)throw new Error(ve("the id property must be defined as a number or string for fixture %@",[e]));return e.id=e.id+"",e})}return null},queryFixtures:function(e,t,n){},updateFixtures:function(e,t){e.FIXTURES||(e.FIXTURES=[]);var n=e.FIXTURES;this.deleteLoadedFixture(e,t),n.push(t)},mockJSON:function(e,t,n){var r=n._createSnapshot();return e.serializerFor(r.typeKey).serialize(r,{includeId:!0})},generateIdForRecord:function(e){return"fixture-"+ye++},find:function(e,t,n){var r,i=this.fixturesForType(t);return i&&(r=Ember.A(i).findBy("id",n)),r?this.simulateRemoteCall(function(){return r},this):void 0},findMany:function(e,t,n){var r=this.fixturesForType(t);return r&&(r=r.filter(function(e){return-1!==be(n,e.id)})),r?this.simulateRemoteCall(function(){return r},this):void 0},findAll:function(e,t){var n=this.fixturesForType(t);return this.simulateRemoteCall(function(){return n},this)},findQuery:function(e,t,n,r){var i=this.fixturesForType(t);return i=this.queryFixtures(i,n,t),i?this.simulateRemoteCall(function(){return i},this):void 0},createRecord:function(e,t,n){var r=this.mockJSON(e,t,n);return this.updateFixtures(t,r),this.simulateRemoteCall(function(){return r},this)},updateRecord:function(e,t,n){var r=this.mockJSON(e,t,n);return this.updateFixtures(t,r),this.simulateRemoteCall(function(){return r},this)},deleteRecord:function(e,t,n){return this.deleteLoadedFixture(t,n),this.simulateRemoteCall(function(){return null})},deleteLoadedFixture:function(e,t){var n=this.findExistingFixture(e,t);if(n){var r=be(e.FIXTURES,n);return e.FIXTURES.splice(r,1),!0}},findExistingFixture:function(e,t){var n=this.fixturesForType(e),r=ge(t,"id");return this.findFixtureById(n,r)},findFixtureById:function(e,t){return Ember.A(e).find(function(e){return""+ge(e,"id")==""+t?!0:!1})},simulateRemoteCall:function(e,t){var n=this;return new Ember.RSVP.Promise(function(r){var i=Ember.copy(e.call(t),!0);ge(n,"simulateRemoteResponse")?Ember.run.later(function(){r(i)},ge(n,"latency")):Ember.run.schedule("actions",null,function(){r(i)})},"DS: FixtureAdapter#simulateRemoteCall")}}),_e=Ember.Map,Te=Ember.MapWithDefault,Ce=Ember.OrderedSet,Oe=Ember.get,Ie=Ember.ArrayPolyfills.forEach,De=pe.extend({defaultSerializer:"-rest",sortQueryParams:function(e){var t=Ember.keys(e),n=t.length;if(2>n)return e;for(var r={},i=t.sort(),o=0;n>o;o++)r[i[o]]=e[i[o]];return r},coalesceFindRequests:!1,find:function(e,t,n,r){return this.ajax(this.buildURL(t.typeKey,n,r),"GET")},findAll:function(e,t,n){var r;return n&&(r={since:n}),this.ajax(this.buildURL(t.typeKey),"GET",{data:r})},findQuery:function(e,t,n){return this.sortQueryParams&&(n=this.sortQueryParams(n)),this.ajax(this.buildURL(t.typeKey),"GET",{data:n})},findMany:function(e,t,n,r){return this.ajax(this.buildURL(t.typeKey,n,r),"GET",{data:{ids:n}})},findHasMany:function(e,t,n,r){var i=Oe(this,"host"),o=Oe(t,"id"),s=t.constructor.typeKey;return i&&"/"===n.charAt(0)&&"/"!==n.charAt(1)&&(n=i+n),this.ajax(this.urlPrefix(n,this.buildURL(s,o)),"GET")},findBelongsTo:function(e,t,n,r){var i=Oe(t,"id"),o=t.constructor.typeKey;return this.ajax(this.urlPrefix(n,this.buildURL(o,i)),"GET")},createRecord:function(e,t,n){var r={},i=e.serializerFor(t.typeKey),o=n._createSnapshot();return i.serializeIntoHash(r,t,o,{includeId:!0}),this.ajax(this.buildURL(t.typeKey,null,n),"POST",{data:r})},updateRecord:function(e,t,n){var r={},i=e.serializerFor(t.typeKey),o=n._createSnapshot();i.serializeIntoHash(r,t,o);var s=Oe(n,"id");return this.ajax(this.buildURL(t.typeKey,s,n),"PUT",{data:r})},deleteRecord:function(e,t,n){var r=Oe(n,"id");return this.ajax(this.buildURL(t.typeKey,r,n),"DELETE")},buildURL:function(e,t,n){var r=[],i=Oe(this,"host"),o=this.urlPrefix();return e&&r.push(this.pathForType(e)),t&&!Ember.isArray(t)&&r.push(encodeURIComponent(t)),o&&r.unshift(o),r=r.join("/"),!i&&r&&(r="/"+r),r},urlPrefix:function(e,t){var n=Oe(this,"host"),r=Oe(this,"namespace"),i=[];return e?/^\/\//.test(e)||("/"===e.charAt(0)?n&&(e=e.slice(1),i.push(n)):/^http(s)?:\/\//.test(e)||i.push(t)):(n&&i.push(n),r&&i.push(r)),e&&i.push(e),i.join("/")},_stripIDFromURL:function(e,n){var r=n.constructor,i=this.buildURL(r.typeKey,n.get("id"),n),o=i.split("/"),s=o[o.length-1],a=n.get("id");return s===a?o[o.length-1]="":t(s,"?id="+a)&&(o[o.length-1]=s.substring(0,s.length-a.length-1)),o.join("/")},maxUrlLength:2048,groupRecordsForFindMany:function(e,t){function n(t,n,r){var o=i._stripIDFromURL(e,t[0]),s=0,a=[[]];return Ie.call(t,function(e){var t=encodeURIComponent(e.get("id")).length+r;o.length+s+t>=n&&(s=0,a.push([])),s+=t;var i=a.length-1;a[i].push(e)}),a}var r=Te.create({defaultValue:function(){return[]}}),i=this,o=this.maxUrlLength;Ie.call(t,function(t){var n=i._stripIDFromURL(e,t);r.get(n).push(t)});var s=[];return r.forEach(function(e,t){var r="&ids%5B%5D=".length,i=n(e,o,r);Ie.call(i,function(e){s.push(e)})}),s},pathForType:function(e){var t=Ember.String.camelize(e);return Ember.String.pluralize(t)},ajaxError:function(e,t,n){var r=null!==e&&"object"==typeof e;return r&&(e.then=null,e.errorThrown||(e.errorThrown="string"==typeof n?new Error(n):n)),e},ajaxSuccess:function(e,t){return t},ajax:function(t,n,r){var i=this;return new Ember.RSVP.Promise(function(o,s){var a=i.ajaxOptions(t,n,r);a.success=function(t,n,r){t=i.ajaxSuccess(r,t),t instanceof e?Ember.run(null,s,t):Ember.run(null,o,t)},a.error=function(e,t,n){Ember.run(null,s,i.ajaxError(e,e.responseText,n))},Ember.$.ajax(a)},"DS: RESTAdapter#ajax "+n+" to "+t)},ajaxOptions:function(e,t,n){var r=n||{};r.url=e,r.type=t,r.dataType="json",r.context=this,r.data&&"GET"!==t&&(r.contentType="application/json; charset=utf-8",r.data=JSON.stringify(r.data));var i=Oe(this,"headers");return void 0!==i&&(r.beforeSend=function(e){Ie.call(Ember.keys(i),function(t){e.setRequestHeader(t,i[t])})}),r}}),Re=Ember.String.capitalize,we=/^\s*$/,xe=/(\w+[_-])([a-z\d]+$)/,ke=/(\w+)([A-Z][a-z\d]*$)/,Se=/[A-Z][a-z\d]*$/;if(!Object.create&&!Object.create(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");i.prototype={enableCache:function(){this.purgeCache(),this.singularize=function(e){return this._cacheUsed=!0,this._sCache[e]||(this._sCache[e]=this._singularize(e))},this.pluralize=function(e){return this._cacheUsed=!0,this._pCache[e]||(this._pCache[e]=this._pluralize(e))}},purgeCache:function(){this._cacheUsed=!1,this._sCache=o(),this._pCache=o()},disableCache:function(){this._sCache=null,this._pCache=null,this.singularize=function(e){return this._singularize(e)},this.pluralize=function(e){return this._pluralize(e)}},plural:function(e,t){this._cacheUsed&&this.purgeCache(),this.rules.plurals.push([e,t.toLowerCase()])},singular:function(e,t){this._cacheUsed&&this.purgeCache(),this.rules.singular.push([e,t.toLowerCase()])},uncountable:function(e){this._cacheUsed&&this.purgeCache(),n(this.rules,[e.toLowerCase()])},irregular:function(e,t){this._cacheUsed&&this.purgeCache(),r(this.rules,[[e,t]])},pluralize:function(e){return this._pluralize(e)},_pluralize:function(e){return this.inflect(e,this.rules.plurals,this.rules.irregular)},singularize:function(e){return this._singularize(e)},_singularize:function(e){return this.inflect(e,this.rules.singular,this.rules.irregularInverse)},inflect:function(e,t,n){var r,i,o,s,a,l,u,c,d,h,f,p;if(c=we.test(e),d=Se.test(e),l="",c)return e;if(s=e.toLowerCase(),a=xe.exec(e)||ke.exec(e),a&&(l=a[1],u=a[2].toLowerCase()),h=this.rules.uncountable[s]||this.rules.uncountable[u])return e;if(f=n&&(n[s]||n[u]))return n[s]?f:(f=d?Re(f):f,l+f);for(var m=t.length,g=0;m>g&&(r=t[m-1],p=r[0],!p.test(e));m--);return r=r||[],p=r[0],i=r[1],o=e.replace(p,i)}};var Ke=i,Ne={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]};Ke.inflector=new Ke(Ne),Ember.Handlebars.helper("singularize",a),Ember.Handlebars.helper("pluralize",function(e,t,n){return arguments.length<3?s(e):(1!=e&&(t=s(t)),e+" "+t)}),(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.String)&&(String.prototype.pluralize=function(){return s(this)},String.prototype.singularize=function(){return a(this)}),Ke.defaultRules=Ne,Ember.Inflector=Ke,Ember.String.pluralize=s,Ember.String.singularize=a;var Ae=Ember.String.decamelize,Pe=Ember.String.underscore,Le=De.extend({defaultSerializer:"-active-model",pathForType:function(e){var t=Ae(e),n=Pe(t);return s(n)},ajaxError:function(t){var n=this._super.apply(this,arguments);return t&&422===t.status?new e(Ember.$.parseJSON(t.responseText)):n}}),Me=Le,Fe=Ember.Object.extend({extract:Ember.required(Function),serialize:Ember.required(Function),normalize:function(e,t){return t}}),Be=Fe,$e=Ember.get,je=Ember.isNone,He=Ember.ArrayPolyfills.map,ze=Ember.merge,Ve=Be.extend({primaryKey:"id",applyTransforms:function(e,t){return e.eachTransformedAttribute(function(e,n){if(t.hasOwnProperty(e)){var r=this.transformFor(n);t[e]=r.deserialize(t[e])}},this),t},normalize:function(e,t){return t?(this.normalizeId(t),this.normalizeAttributes(e,t),this.normalizeRelationships(e,t),this.normalizeUsingDeclaredMapping(e,t),this.applyTransforms(e,t),t):t},normalizePayload:function(e){return e},normalizeAttributes:function(e,t){var n;this.keyForAttribute&&e.eachAttribute(function(e){n=this.keyForAttribute(e),e!==n&&t.hasOwnProperty(n)&&(t[e]=t[n],delete t[n])},this)},normalizeRelationships:function(e,t){var n;this.keyForRelationship&&e.eachRelationship(function(e,r){n=this.keyForRelationship(e,r.kind),e!==n&&t.hasOwnProperty(n)&&(t[e]=t[n],delete t[n])},this)},normalizeUsingDeclaredMapping:function(e,t){var n,r,i=$e(this,"attrs");if(i)for(r in i)n=this._getMappedKey(r),t.hasOwnProperty(n)&&n!==r&&(t[r]=t[n],delete t[n])},normalizeId:function(e){var t=$e(this,"primaryKey");"id"!==t&&(e.id=e[t],delete e[t])},normalizeErrors:function(e,t){this.normalizeId(t),this.normalizeAttributes(e,t),this.normalizeRelationships(e,t)},_getMappedKey:function(e){var t,n=$e(this,"attrs");return n&&n[e]&&(t=n[e],t.key&&(t=t.key),"string"==typeof t&&(e=t)),e},_canSerialize:function(e){var t=$e(this,"attrs");return!t||!t[e]||t[e].serialize!==!1},serialize:function(e,t){var n={};if(t&&t.includeId){var r=e.id;r&&(n[$e(this,"primaryKey")]=r)}return e.eachAttribute(function(t,r){this.serializeAttribute(e,n,t,r)},this),e.eachRelationship(function(t,r){"belongsTo"===r.kind?this.serializeBelongsTo(e,n,r):"hasMany"===r.kind&&this.serializeHasMany(e,n,r)},this),n},serializeIntoHash:function(e,t,n,r){ze(e,this.serialize(n,r))},serializeAttribute:function(e,t,n,r){var i=r.type;if(this._canSerialize(n)){var o=e.attr(n);if(i){var s=this.transformFor(i);o=s.serialize(o)}var a=this._getMappedKey(n);a===n&&this.keyForAttribute&&(a=this.keyForAttribute(n)),t[a]=o}},serializeBelongsTo:function(e,t,n){var r=n.key;if(this._canSerialize(r)){var i=e.belongsTo(r,{id:!0}),o=this._getMappedKey(r);o===r&&this.keyForRelationship&&(o=this.keyForRelationship(r,"belongsTo")),t[o]=je(i)?null:i,n.options.polymorphic&&this.serializePolymorphicType(e,t,n)}},serializeHasMany:function(e,t,n){var r=n.key;if(this._canSerialize(r)){var i;i=this._getMappedKey(r),i===r&&this.keyForRelationship&&(i=this.keyForRelationship(r,"hasMany"));var o=e.type.determineRelationshipType(n);("manyToNone"===o||"manyToMany"===o)&&(t[i]=e.hasMany(r,{ids:!0}))}},serializePolymorphicType:Ember.K,extract:function(e,t,n,r,i){this.extractMeta(e,t,n);var o="extract"+i.charAt(0).toUpperCase()+i.substr(1);return this[o](e,t,n,r,i)},extractFindAll:function(e,t,n,r,i){return this.extractArray(e,t,n,r,i)},extractFindQuery:function(e,t,n,r,i){return this.extractArray(e,t,n,r,i)},extractFindMany:function(e,t,n,r,i){return this.extractArray(e,t,n,r,i)},extractFindHasMany:function(e,t,n,r,i){return this.extractArray(e,t,n,r,i)},extractCreateRecord:function(e,t,n,r,i){return this.extractSave(e,t,n,r,i)},extractUpdateRecord:function(e,t,n,r,i){return this.extractSave(e,t,n,r,i)},extractDeleteRecord:function(e,t,n,r,i){return this.extractSave(e,t,n,r,i)},extractFind:function(e,t,n,r,i){return this.extractSingle(e,t,n,r,i)},extractFindBelongsTo:function(e,t,n,r,i){return this.extractSingle(e,t,n,r,i)},extractSave:function(e,t,n,r,i){return this.extractSingle(e,t,n,r,i)},extractSingle:function(e,t,n,r,i){return n=this.normalizePayload(n),this.normalize(t,n)},extractArray:function(e,t,n,r,i){var o=this.normalizePayload(n),s=this;return He.call(o,function(e){return s.normalize(t,e)})},extractMeta:function(e,t,n){n&&n.meta&&(e.setMetadataFor(t,n.meta),delete n.meta)},extractErrors:function(e,t,n,r){return n&&"object"==typeof n&&n.errors&&(n=n.errors,this.normalizeErrors(t,n)),n},keyForAttribute:function(e){return e},keyForRelationship:function(e,t){return e},transformFor:function(e,t){var n=this.container.lookup("transform:"+e);return n}}),qe=Ember.ArrayPolyfills.forEach,Ue=Ember.ArrayPolyfills.map,We=Ember.String.camelize,Ye=Ve.extend({
normalize:function(e,t,n){return this.normalizeId(t),this.normalizeAttributes(e,t),this.normalizeRelationships(e,t),this.normalizeUsingDeclaredMapping(e,t),this.normalizeHash&&this.normalizeHash[n]&&this.normalizeHash[n](t),this.applyTransforms(e,t),t},extractSingle:function(e,t,n,r){var i,o=this.normalizePayload(n),s=t.typeKey;for(var a in o){var u=this.typeForRoot(a);if(e.modelFactoryFor(u)){var c=e.modelFor(u),d=c.typeKey===s,h=o[a];null!==h&&(d&&"array"!==Ember.typeOf(h)?i=this.normalize(t,h,a):qe.call(h,function(t){var n=this.typeForRoot(a),o=e.modelFor(n),s=e.serializerFor(o);t=s.normalize(o,t,a);var u=d&&!r&&!i,c=d&&l(t.id)===r;u||c?i=t:e.push(n,t)},this))}}return i},extractArray:function(e,t,n){var r,i=this.normalizePayload(n),o=t.typeKey;for(var s in i){var a=s,l=!1;"_"===s.charAt(0)&&(l=!0,a=s.substr(1));var u=this.typeForRoot(a);if(e.modelFactoryFor(u)){var c=e.modelFor(u),d=e.serializerFor(c),h=!l&&c.typeKey===o,f=Ue.call(i[s],function(e){return d.normalize(c,e,s)},this);h?r=f:e.pushMany(u,f)}}return r},pushPayload:function(e,t){var n=this.normalizePayload(t);for(var r in n){var i=this.typeForRoot(r);if(e.modelFactoryFor(i,r)){var o=e.modelFor(i),s=e.serializerFor(o),a=Ue.call(Ember.makeArray(n[r]),function(e){return s.normalize(o,e,r)},this);e.pushMany(i,a)}}},typeForRoot:function(e){return We(a(e))},serialize:function(e,t){return this._super.apply(this,arguments)},serializeIntoHash:function(e,t,n,r){e[t.typeKey]=this.serialize(n,r)},serializePolymorphicType:function(e,t,n){var r=n.key,i=e.belongsTo(r);r=this.keyForAttribute?this.keyForAttribute(r):r,t[r+"Type"]=Ember.isNone(i)?null:Ember.String.camelize(i.typeKey)}}),Ge=Ye,Xe=Ember.EnumerableUtils.forEach,Qe=Ember.String.camelize,Ze=Ember.String.capitalize,Je=Ember.String.decamelize,et=Ember.String.underscore,tt=Ge.extend({keyForAttribute:function(e){return Je(e)},keyForRelationship:function(e,t){var n=Je(e);return"belongsTo"===t?n+"_id":"hasMany"===t?a(n)+"_ids":n},serializeHasMany:Ember.K,serializeIntoHash:function(e,t,n,r){var i=et(Je(t.typeKey));e[i]=this.serialize(n,r)},serializePolymorphicType:function(e,t,n){var r=n.key,i=e.belongsTo(r),o=et(r+"_type");t[o]=Ember.isNone(i)?null:Ze(Qe(i.typeKey))},normalize:function(e,t,n){return this.normalizeLinks(t),this._super(e,t,n)},normalizeLinks:function(e){if(e.links){var t=e.links;for(var n in t){var r=Qe(n);r!==n&&(t[r]=t[n],delete t[n])}}},normalizeRelationships:function(e,t){this.keyForRelationship&&e.eachRelationship(function(e,n){var r,i;if(n.options.polymorphic){if(r=this.keyForAttribute(e),i=t[r],i&&i.type)i.type=this.typeForRoot(i.type);else if(i&&"hasMany"===n.kind){var o=this;Xe(i,function(e){e.type=o.typeForRoot(e.type)})}}else{if(r=this.keyForRelationship(e,n.kind),!t.hasOwnProperty(r))return;i=t[r]}t[e]=i,e!==r&&delete t[r]},this)}}),nt=tt;u.prototype.aliasedFactory=function(e,t){var n=this;return{create:function(){return t&&t(),n.container.lookup(e)}}},u.prototype.registerAlias=function(e,t,n){var r=this.aliasedFactory(t,n);return this.container.register(e,r)},u.prototype.registerDeprecation=function(e,t){var n=function(){};return this.registerAlias(e,t,n)},u.prototype.registerDeprecations=function(e){var t,n,r,i;for(t=e.length;t>0;t--)n=e[t-1],r=n.deprecated,i=n.valid,this.registerDeprecation(r,i)};var rt=u,it=c,ot=Ember.Namespace.create({VERSION:"1.0.0-beta.15"});Ember.libraries&&Ember.libraries.registerCoreLibrary("Ember Data",ot.VERSION);var st=ot,at=Ember.RSVP.Promise,lt=Ember.get,ut=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),ct=Ember.ObjectProxy.extend(Ember.PromiseProxyMixin),dt=function(e,t){return ct.create({promise:at.resolve(e,t)})},ht=function(e,t){return ut.create({promise:at.resolve(e,t)})},ft=ut.extend({reload:function(){return ft.create({promise:lt(this,"content").reload()})},createRecord:d("createRecord"),on:d("on"),one:d("one"),trigger:d("trigger"),off:d("off"),has:d("has")}),pt=Ember.get,mt=Ember.set,gt=Ember.ArrayProxy.extend(Ember.Evented,{type:null,content:null,isLoaded:!1,isUpdating:!1,store:null,objectAtContent:function(e){var t=pt(this,"content");return t.objectAt(e)},update:function(){if(!pt(this,"isUpdating")){var e=pt(this,"store"),t=pt(this,"type");return e.fetchAll(t,this)}},addRecord:function(e,t){var n=pt(this,"content");void 0===t?n.addObject(e):n.contains(e)||n.insertAt(t,e)},_pushRecord:function(e){pt(this,"content").pushObject(e)},pushRecord:function(e){this._pushRecord(e)},removeRecord:function(e){pt(this,"content").removeObject(e)},save:function(){var e=this,t="DS: RecordArray#save "+pt(this,"type"),n=Ember.RSVP.all(this.invoke("save"),t).then(function(t){return e},null,"DS: RecordArray#save return RecordArray");return ut.create({promise:n})},_dissociateFromOwnRecords:function(){var e=this;this.forEach(function(t){var n=t._recordArrays;n&&n["delete"](e)})},_unregisterFromManager:function(){var e=pt(this,"manager");e&&e.unregisterFilteredRecordArray(this)},willDestroy:function(){this._unregisterFromManager(),this._dissociateFromOwnRecords(),mt(this,"content",void 0),this._super.apply(this,arguments)}}),vt=Ember.get,bt=gt.extend({filterFunction:null,isLoaded:!0,replace:function(){var e=vt(this,"type").toString();throw new Error("The result of a client-side filter (on "+e+") is immutable.")},_updateFilter:function(){var e=vt(this,"manager");e.updateFilter(this,vt(this,"type"),vt(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")}),yt=Ember.get,Et=gt.extend({query:null,replace:function(){var e=yt(this,"type").toString();throw new Error("The result of a server query (on "+e+") is immutable.")},load:function(e){var t=yt(this,"store"),n=yt(this,"type"),r=t.pushMany(n,e),i=t.metadataFor(n);this.setProperties({content:Ember.A(r),isLoaded:!0,meta:h(i)}),r.forEach(function(e){this.manager.recordArraysForRecord(e).add(this)},this),Ember.run.once(this,"trigger","didLoad")}}),_t=Ember.get,Tt=Ember.set,Ct=Ember.Object.extend(Ember.MutableArray,Ember.Evented,{init:function(){this.currentState=Ember.A([])},record:null,canonicalState:null,currentState:null,length:0,objectAt:function(e){return this.currentState[e]?this.currentState[e]:this.canonicalState[e]},flushCanonical:function(){var e=this.canonicalState.slice(0),t=this.currentState.filter(function(e){return e.get("isNew")});e=e.concat(t);var n=this.length;this.arrayContentWillChange(0,this.length,e.length),this.set("length",e.length),this.currentState=e,this.arrayContentDidChange(0,n,this.length),this.relationship.notifyHasManyChanged(),this.record.updateRecordArrays()},isPolymorphic:!1,isLoaded:!1,relationship:null,internalReplace:function(e,t,n){n||(n=[]),this.arrayContentWillChange(e,t,n.length),this.currentState.splice.apply(this.currentState,[e,t].concat(n)),this.set("length",this.currentState.length),this.arrayContentDidChange(e,t,n.length),n&&this.relationship.notifyHasManyChanged(),this.record.updateRecordArrays()},internalRemoveRecords:function(e){for(var t,n=0;n<e.length;n++)t=this.currentState.indexOf(e[n]),this.internalReplace(t,1)},internalAddRecords:function(e,t){void 0===t&&(t=this.currentState.length),this.internalReplace(t,0,e)},replace:function(e,t,n){var r;t>0&&(r=this.currentState.slice(e,e+t),this.get("relationship").removeRecords(r)),n&&this.get("relationship").addRecords(n,e)},promise:null,loadingRecordsCount:function(e){this.loadingRecordsCount=e},loadedRecord:function(){this.loadingRecordsCount--,0===this.loadingRecordsCount&&(Tt(this,"isLoaded",!0),this.trigger("didLoad"))},reload:function(){return this.relationship.reload()},save:function(){var e=this,t="DS: ManyArray#save "+_t(this,"type"),n=Ember.RSVP.all(this.invoke("save"),t).then(function(t){return e},null,"DS: ManyArray#save return ManyArray");return ut.create({promise:n})},createRecord:function(e){var t,n=_t(this,"store"),r=_t(this,"type");return t=n.createRecord(r,e),this.pushObject(t),t},addRecord:function(e){this.addObject(e)},removeRecord:function(e){this.removeObject(e)}}),Ot=Ember.get,It=Ember.EnumerableUtils.forEach,Dt=Ember.EnumerableUtils.indexOf,Rt=Ember.Object.extend({init:function(){this.filteredRecordArrays=Te.create({defaultValue:function(){return[]}}),this.changedRecords=[],this._adapterPopulatedRecordArrays=[]},recordDidChange:function(e){1===this.changedRecords.push(e)&&Ember.run.schedule("actions",this,this.updateRecordArrays)},recordArraysForRecord:function(e){return e._recordArrays=e._recordArrays||Ce.create(),e._recordArrays},updateRecordArrays:function(){It(this.changedRecords,function(e){Ot(e,"isDeleted")?this._recordWasDeleted(e):this._recordWasChanged(e)},this),this.changedRecords.length=0},_recordWasDeleted:function(e){var t=e._recordArrays;t&&(t.forEach(function(t){t.removeRecord(e)}),e._recordArrays=null)},_recordWasChanged:function(e){var t,n=e.constructor,r=this.filteredRecordArrays.get(n);It(r,function(r){t=Ot(r,"filterFunction"),t&&this.updateRecordArray(r,t,n,e)},this)},recordWasLoaded:function(e){var t,n=e.constructor,r=this.filteredRecordArrays.get(n);It(r,function(r){t=Ot(r,"filterFunction"),this.updateRecordArray(r,t,n,e)},this)},updateRecordArray:function(e,t,n,r){var i;i=t?t(r):!0;var o=this.recordArraysForRecord(r);i?o.has(e)||(e._pushRecord(r),o.add(e)):i||(o["delete"](e),e.removeRecord(r))},updateFilter:function(e,t,n){for(var r,i=this.store.typeMapFor(t),o=i.records,s=0,a=o.length;a>s;s++)r=o[s],Ot(r,"isDeleted")||Ot(r,"isEmpty")||this.updateRecordArray(e,n,t,r)},createRecordArray:function(e){var t=gt.create({type:e,content:Ember.A(),store:this.store,isLoaded:!0,manager:this});return this.registerFilteredRecordArray(t,e),t},createFilteredRecordArray:function(e,t,n){var r=bt.create({query:n,type:e,content:Ember.A(),store:this.store,manager:this,filterFunction:t});return this.registerFilteredRecordArray(r,e,t),r},createAdapterPopulatedRecordArray:function(e,t){var n=Et.create({type:e,query:t,content:Ember.A(),store:this.store,manager:this});return this._adapterPopulatedRecordArrays.push(n),n},registerFilteredRecordArray:function(e,t,n){var r=this.filteredRecordArrays.get(t);r.push(e),this.updateFilter(e,t,n)},unregisterFilteredRecordArray:function(e){var t=this.filteredRecordArrays.get(e.type),n=Dt(t,e);t.splice(n,1)},willDestroy:function(){this._super.apply(this,arguments),this.filteredRecordArrays.forEach(function(e){It(p(e),f)}),It(this._adapterPopulatedRecordArrays,f)}}),wt=Ember.get,xt=Ember.set,kt={initialState:"uncommitted",isDirty:!0,uncommitted:{didSetProperty:m,loadingData:Ember.K,propertyWasReset:function(e,t){var n=Ember.keys(e._attributes).length,r=n>0;r||e.send("rolledBack")},pushedData:Ember.K,becomeDirty:Ember.K,willCommit:function(e){e.transitionTo("inFlight")},reloadRecord:function(e,t){t(wt(e,"store").reloadRecord(e))},rolledBack:function(e){e.transitionTo("loaded.saved")},becameInvalid:function(e){e.transitionTo("invalid")},rollback:function(e){e.rollback(),e.triggerLater("ready")}},inFlight:{isSaving:!0,didSetProperty:m,becomeDirty:Ember.K,pushedData:Ember.K,unloadRecord:function(e){},willCommit:Ember.K,didCommit:function(e){var t=wt(this,"dirtyType");e.transitionTo("saved"),e.send("invokeLifecycleCallbacks",t)},becameInvalid:function(e){e.transitionTo("invalid"),e.send("invokeLifecycleCallbacks")},becameError:function(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)}},invalid:{isValid:!1,deleteRecord:function(e){e.transitionTo("deleted.uncommitted"),e.disconnectRelationships()},didSetProperty:function(e,t){wt(e,"errors").remove(t.name),m(e,t)},becomeDirty:Ember.K,willCommit:function(e){wt(e,"errors").clear(),e.transitionTo("inFlight")},rolledBack:function(e){wt(e,"errors").clear(),e.triggerLater("ready")},becameValid:function(e){e.transitionTo("uncommitted")},invokeLifecycleCallbacks:function(e){e.triggerLater("becameInvalid",e)},exit:function(e){e._inFlightAttributes={}}}},St=b({dirtyType:"created",isNew:!0});St.uncommitted.rolledBack=function(e){e.transitionTo("deleted.saved")};var Kt=b({dirtyType:"updated"});St.uncommitted.deleteRecord=function(e){e.disconnectRelationships(),e.transitionTo("deleted.saved")},St.uncommitted.rollback=function(e){kt.uncommitted.rollback.apply(this,arguments),e.transitionTo("deleted.saved")},St.uncommitted.pushedData=function(e){e.transitionTo("loaded.updated.uncommitted"),e.triggerLater("didLoad")},St.uncommitted.propertyWasReset=Ember.K,Kt.inFlight.unloadRecord=y,Kt.uncommitted.deleteRecord=function(e){e.transitionTo("deleted.uncommitted"),e.disconnectRelationships()};var Nt={isEmpty:!1,isLoading:!1,isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isNew:!1,isValid:!0,rolledBack:Ember.K,unloadRecord:function(e){e.clearRelationships(),e.transitionTo("deleted.saved")},propertyWasReset:Ember.K,empty:{isEmpty:!0,loadingData:function(e,t){e._loadingPromise=t,e.transitionTo("loading")},loadedData:function(e){e.transitionTo("loaded.created.uncommitted"),e.triggerLater("ready")},pushedData:function(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad"),e.triggerLater("ready")}},loading:{isLoading:!0,exit:function(e){e._loadingPromise=null},pushedData:function(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad"),e.triggerLater("ready"),xt(e,"isError",!1)},becameError:function(e){e.triggerLater("becameError",e)},notFound:function(e){e.transitionTo("empty")}},loaded:{initialState:"saved",isLoaded:!0,loadingData:Ember.K,saved:{setup:function(e){var t=e._attributes,n=Ember.keys(t).length>0;n&&e.adapterDidDirty()},didSetProperty:m,pushedData:Ember.K,becomeDirty:function(e){e.transitionTo("updated.uncommitted")},willCommit:function(e){e.transitionTo("updated.inFlight")},reloadRecord:function(e,t){t(wt(e,"store").reloadRecord(e))},deleteRecord:function(e){e.transitionTo("deleted.uncommitted"),e.disconnectRelationships()},unloadRecord:function(e){e.clearRelationships(),e.transitionTo("deleted.saved")},didCommit:function(e){e.send("invokeLifecycleCallbacks",wt(e,"lastDirtyType"))},notFound:Ember.K},created:St,updated:Kt},deleted:{initialState:"uncommitted",dirtyType:"deleted",isDeleted:!0,isLoaded:!0,isDirty:!0,setup:function(e){e.updateRecordArrays()},uncommitted:{willCommit:function(e){e.transitionTo("inFlight")},rollback:function(e){e.rollback(),e.triggerLater("ready")},becomeDirty:Ember.K,deleteRecord:Ember.K,rolledBack:function(e){e.transitionTo("loaded.saved"),e.triggerLater("ready")}},inFlight:{isSaving:!0,unloadRecord:y,willCommit:Ember.K,didCommit:function(e){e.transitionTo("saved"),e.send("invokeLifecycleCallbacks")},becameError:function(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)}},saved:{isDirty:!1,setup:function(e){var t=wt(e,"store");t._dematerializeRecord(e)},invokeLifecycleCallbacks:function(e){e.triggerLater("didDelete",e),e.triggerLater("didCommit",e)},willCommit:Ember.K,didCommit:Ember.K}},invokeLifecycleCallbacks:function(e,t){"created"===t?e.triggerLater("didCreate",e):e.triggerLater("didUpdate",e),e.triggerLater("didCommit",e)}};Nt=E(Nt,null,"root");var At=Nt,Pt=Ember.get,Lt=Ember.isEmpty,Mt=Ember.EnumerableUtils.map,Ft=Ember.Object.extend(Ember.Enumerable,Ember.Evented,{registerHandlers:function(e,t,n){this.on("becameInvalid",e,t),this.on("becameValid",e,n)},errorsByAttributeName:Ember.reduceComputed("content",{initialValue:function(){return Te.create({defaultValue:function(){return Ember.A()}})},addedItem:function(e,t){return e.get(t.attribute).pushObject(t),e},removedItem:function(e,t){return e.get(t.attribute).removeObject(t),e}}),errorsFor:function(e){return Pt(this,"errorsByAttributeName").get(e)},messages:Ember.computed.mapBy("content","message"),content:Ember.computed(function(){return Ember.A()}),unknownProperty:function(e){var t=this.errorsFor(e);return Lt(t)?null:t},nextObject:function(e,t,n){return Pt(this,"content").objectAt(e)},length:Ember.computed.oneWay("content.length").readOnly(),isEmpty:Ember.computed.not("length").readOnly(),add:function(e,t){var n=Pt(this,"isEmpty");t=this._findOrCreateMessages(e,t),Pt(this,"content").addObjects(t),this.notifyPropertyChange(e),this.enumerableContentDidChange(),n&&!Pt(this,"isEmpty")&&this.trigger("becameInvalid")},_findOrCreateMessages:function(e,t){var n=this.errorsFor(e);return Mt(Ember.makeArray(t),function(t){return n.findBy("message",t)||{attribute:e,message:t}})},remove:function(e){if(!Pt(this,"isEmpty")){var t=Pt(this,"content").rejectBy("attribute",e);Pt(this,"content").setObjects(t),this.notifyPropertyChange(e),this.enumerableContentDidChange(),Pt(this,"isEmpty")&&this.trigger("becameValid")}},clear:function(){Pt(this,"isEmpty")||(Pt(this,"content").clear(),this.enumerableContentDidChange(),this.trigger("becameValid"))},has:function(e){return!Lt(this.errorsFor(e))}}),Bt=_,$t=Ember.EnumerableUtils.forEach,jt=function(e,t,n,r){this.members=new Ce,this.canonicalMembers=new Ce,this.store=e,this.key=r.key,this.inverseKey=n,this.record=t,this.isAsync=r.options.async,this.relationshipMeta=r,this.inverseKeyForImplicit=this.store.modelFor(this.record.constructor).typeKey+this.key,this.linkPromise=null};jt.prototype={constructor:jt,destroy:Ember.K,clear:function(){for(var e,t=this.members.list;t.length>0;)e=t[0],this.removeRecord(e)},disconnect:function(){this.members.forEach(function(e){this.removeRecordFromInverse(e)},this)},reconnect:function(){this.members.forEach(function(e){this.addRecordToInverse(e)},this)},removeRecords:function(e){var t=this;$t(e,function(e){t.removeRecord(e)})},addRecords:function(e,t){var n=this;$t(e,function(e){n.addRecord(e,t),void 0!==t&&t++})},addCanonicalRecords:function(e,t){for(var n=0;n<e.length;n++)void 0!==t?this.addCanonicalRecord(e[n],n+t):this.addCanonicalRecord(e[n])},addCanonicalRecord:function(e,t){this.canonicalMembers.has(e)||(this.canonicalMembers.add(e),this.inverseKey?e._relationships[this.inverseKey].addCanonicalRecord(this.record):(e._implicitRelationships[this.inverseKeyForImplicit]||(e._implicitRelationships[this.inverseKeyForImplicit]=new jt(this.store,e,this.key,{options:{}})),e._implicitRelationships[this.inverseKeyForImplicit].addCanonicalRecord(this.record))),this.flushCanonicalLater()},removeCanonicalRecords:function(e,t){for(var n=0;n<e.length;n++)void 0!==t?this.removeCanonicalRecord(e[n],n+t):this.removeCanonicalRecord(e[n])},removeCanonicalRecord:function(e,t){this.canonicalMembers.has(e)&&(this.removeCanonicalRecordFromOwn(e),this.inverseKey?this.removeCanonicalRecordFromInverse(e):e._implicitRelationships[this.inverseKeyForImplicit]&&e._implicitRelationships[this.inverseKeyForImplicit].removeCanonicalRecord(this.record)),this.flushCanonicalLater()},addRecord:function(e,t){this.members.has(e)||(this.members.add(e),this.notifyRecordRelationshipAdded(e,t),this.inverseKey?e._relationships[this.inverseKey].addRecord(this.record):(e._implicitRelationships[this.inverseKeyForImplicit]||(e._implicitRelationships[this.inverseKeyForImplicit]=new jt(this.store,e,this.key,{options:{}})),e._implicitRelationships[this.inverseKeyForImplicit].addRecord(this.record)),this.record.updateRecordArraysLater())},removeRecord:function(e){this.members.has(e)&&(this.removeRecordFromOwn(e),this.inverseKey?this.removeRecordFromInverse(e):e._implicitRelationships[this.inverseKeyForImplicit]&&e._implicitRelationships[this.inverseKeyForImplicit].removeRecord(this.record))},addRecordToInverse:function(e){this.inverseKey&&e._relationships[this.inverseKey].addRecord(this.record)},removeRecordFromInverse:function(e){var t=e._relationships[this.inverseKey];t&&t.removeRecordFromOwn(this.record)},removeRecordFromOwn:function(e){this.members["delete"](e),this.notifyRecordRelationshipRemoved(e),this.record.updateRecordArrays()},removeCanonicalRecordFromInverse:function(e){var t=e._relationships[this.inverseKey];t&&t.removeCanonicalRecordFromOwn(this.record)},removeCanonicalRecordFromOwn:function(e){this.canonicalMembers["delete"](e),this.flushCanonicalLater()},flushCanonical:function(){this.willSync=!1;for(var e=[],t=0;t<this.members.list.length;t++)this.members.list[t].get("isNew")&&e.push(this.members.list[t]);for(this.members=this.canonicalMembers.copy(),t=0;t<e.length;t++)this.members.add(e[t])},flushCanonicalLater:function(){if(!this.willSync){this.willSync=!0;var e=this;this.store._backburner.join(function(){e.store._backburner.schedule("syncRelationships",e,e.flushCanonical)})}},updateLink:function(e){e!==this.link&&(this.link=e,this.linkPromise=null,this.record.notifyPropertyChange(this.key))},findLink:function(){if(this.linkPromise)return this.linkPromise;var e=this.fetchLink();return this.linkPromise=e,e.then(function(e){return e})},updateRecordsFromAdapter:function(e){var t=this;t.computeChanges(e)},notifyRecordRelationshipAdded:Ember.K,notifyRecordRelationshipRemoved:Ember.K};var Ht=jt,zt=function(e,t,n,r){this._super$constructor(e,t,n,r),this.belongsToType=r.type,this.canonicalState=[],this.manyArray=Ct.create({canonicalState:this.canonicalState,store:this.store,relationship:this,type:this.belongsToType,record:t}),this.isPolymorphic=r.options.polymorphic,this.manyArray.isPolymorphic=this.isPolymorphic};zt.prototype=Ember.create(Ht.prototype),zt.prototype.constructor=zt,zt.prototype._super$constructor=Ht,zt.prototype.destroy=function(){this.manyArray.destroy()},zt.prototype._super$addCanonicalRecord=Ht.prototype.addCanonicalRecord,zt.prototype.addCanonicalRecord=function(e,t){this.canonicalMembers.has(e)||(void 0!==t?this.canonicalState.splice(t,0,e):this.canonicalState.push(e),this._super$addCanonicalRecord(e,t))},zt.prototype._super$addRecord=Ht.prototype.addRecord,zt.prototype.addRecord=function(e,t){this.members.has(e)||(this._super$addRecord(e,t),this.manyArray.internalAddRecords([e],t))},zt.prototype._super$removeCanonicalRecordFromOwn=Ht.prototype.removeCanonicalRecordFromOwn,zt.prototype.removeCanonicalRecordFromOwn=function(e,t){var n=t;this.canonicalMembers.has(e)&&(void 0===n&&(n=this.canonicalState.indexOf(e)),n>-1&&this.canonicalState.splice(n,1),this._super$removeCanonicalRecordFromOwn(e,t))},zt.prototype._super$flushCanonical=Ht.prototype.flushCanonical,zt.prototype.flushCanonical=function(){this.manyArray.flushCanonical(),this._super$flushCanonical()},zt.prototype._super$removeRecordFromOwn=Ht.prototype.removeRecordFromOwn,zt.prototype.removeRecordFromOwn=function(e,t){this.members.has(e)&&(this._super$removeRecordFromOwn(e,t),void 0!==t?this.manyArray.currentState.removeAt(t):this.manyArray.internalRemoveRecords([e]))},zt.prototype.notifyRecordRelationshipAdded=function(e,t){this.relationshipMeta.type;this.record.notifyHasManyAdded(this.key,e,t)},zt.prototype.reload=function(){var e=this;return this.link?this.fetchLink():this.store.scheduleFetchMany(this.manyArray.toArray()).then(function(){return e.manyArray.set("isLoaded",!0),e.manyArray})},zt.prototype.computeChanges=function(e){var t,n,r,i=this.canonicalMembers,o=[];for(e=T(e),i.forEach(function(t){e.has(t)||o.push(t)}),this.removeCanonicalRecords(o),e=e.toArray(),t=e.length,r=0;t>r;r++)n=e[r],this.removeCanonicalRecord(n),this.addCanonicalRecord(n,r)},zt.prototype.fetchLink=function(){var e=this;return this.store.findHasMany(this.record,this.link,this.relationshipMeta).then(function(t){return e.updateRecordsFromAdapter(t),e.manyArray})},zt.prototype.findRecords=function(){var e=this.manyArray;return this.store.findMany(e.toArray()).then(function(){return e.set("isLoaded",!0),e})},zt.prototype.notifyHasManyChanged=function(){this.record.notifyHasManyAdded(this.key)},zt.prototype.getRecords=function(){if(this.isAsync){var e,t=this;return e=this.link?this.findLink().then(function(){return t.findRecords()}):this.findRecords(),ft.create({content:this.manyArray,promise:e})}return this.manyArray.get("isDestroyed")||this.manyArray.set("isLoaded",!0),this.manyArray};var Vt=zt,qt=function(e,t,n,r){this._super$constructor(e,t,n,r),this.record=t,this.key=r.key,this.inverseRecord=null,this.canonicalState=null};qt.prototype=Ember.create(Ht.prototype),qt.prototype.constructor=qt,qt.prototype._super$constructor=Ht,qt.prototype.setRecord=function(e){e?this.addRecord(e):this.inverseRecord&&this.removeRecord(this.inverseRecord)},qt.prototype.setCanonicalRecord=function(e){e?this.addCanonicalRecord(e):this.inverseRecord&&this.removeCanonicalRecord(this.inverseRecord)},qt.prototype._super$addCanonicalRecord=Ht.prototype.addCanonicalRecord,qt.prototype.addCanonicalRecord=function(e){this.canonicalMembers.has(e)||(this.canonicalState&&this.removeCanonicalRecord(this.canonicalState),this.canonicalState=e,this._super$addCanonicalRecord(e))},qt.prototype._super$flushCanonical=Ht.prototype.flushCanonical,qt.prototype.flushCanonical=function(){this.inverseRecord&&this.inverseRecord.get("isNew")&&!this.canonicalState||(this.inverseRecord=this.canonicalState,this.record.notifyBelongsToChanged(this.key),this._super$flushCanonical())},qt.prototype._super$addRecord=Ht.prototype.addRecord,qt.prototype.addRecord=function(e){if(!this.members.has(e)){{this.relationshipMeta.type}this.inverseRecord&&this.removeRecord(this.inverseRecord),this.inverseRecord=e,this._super$addRecord(e),this.record.notifyBelongsToChanged(this.key)}},qt.prototype.setRecordPromise=function(e){var t=e.get&&e.get("content");this.setRecord(t)},qt.prototype._super$removeRecordFromOwn=Ht.prototype.removeRecordFromOwn,qt.prototype.removeRecordFromOwn=function(e){this.members.has(e)&&(this.inverseRecord=null,this._super$removeRecordFromOwn(e),this.record.notifyBelongsToChanged(this.key))},qt.prototype._super$removeCanonicalRecordFromOwn=Ht.prototype.removeCanonicalRecordFromOwn,qt.prototype.removeCanonicalRecordFromOwn=function(e){this.canonicalMembers.has(e)&&(this.canonicalState=null,this._super$removeCanonicalRecordFromOwn(e))},qt.prototype.findRecord=function(){return this.inverseRecord?this.store._findByRecord(this.inverseRecord):Ember.RSVP.Promise.resolve(null)},qt.prototype.fetchLink=function(){var e=this;return this.store.findBelongsTo(this.record,this.link,this.relationshipMeta).then(function(t){return t&&e.addRecord(t),t})},qt.prototype.getRecord=function(){if(this.isAsync){var e;if(this.link){var t=this;e=this.findLink().then(function(){return t.findRecord()})}else e=this.findRecord();return ct.create({promise:e,content:this.inverseRecord})}return this.inverseRecord};var Ut=qt,Wt=function(e,t,n){var r,i=e.constructor.inverseFor(t.key);return i&&(r=i.name),"hasMany"===t.kind?new Vt(n,e,r,t):new Ut(n,e,r,t)},Yt=Wt,Gt=Ember.get;C.prototype={constructor:C,id:null,record:null,type:null,typeKey:null,attr:function(e){if(e in this._attributes)return this._attributes[e];throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no attribute named '"+e+"' defined.")},attributes:function(){return Ember.copy(this._attributes)},belongsTo:function(e,t){var n,r,i,o=t&&t.id;if(o&&e in this._belongsToIds)return this._belongsToIds[e];if(!o&&e in this._belongsToRelationships)return this._belongsToRelationships[e];if(r=this.record._relationships[e],!r||"belongsTo"!==r.relationshipMeta.kind)throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no belongsTo relationship named '"+e+"' defined.");return i=Gt(r,"inverseRecord"),o?(i&&(n=Gt(i,"id")),this._belongsToIds[e]=n):(i&&(n=i._createSnapshot()),this._belongsToRelationships[e]=n),n},hasMany:function(e,t){var n,r,i=t&&t.ids,o=[];if(i&&e in this._hasManyIds)return this._hasManyIds[e];if(!i&&e in this._hasManyRelationships)return this._hasManyRelationships[e];if(n=this.record._relationships[e],!n||"hasMany"!==n.relationshipMeta.kind)throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no hasMany relationship named '"+e+"' defined.");return r=Gt(n,"members"),i?(r.forEach(function(e){o.push(Gt(e,"id"))}),this._hasManyIds[e]=o):(r.forEach(function(e){o.push(e._createSnapshot())}),this._hasManyRelationships[e]=o),o},eachAttribute:function(e,t){this.record.eachAttribute(e,t)},eachRelationship:function(e,t){this.record.eachRelationship(e,t)},get:function(e){if("id"===e)return this.id;if(e in this._attributes)return this.attr(e);var t=this.record._relationships[e];return t&&"belongsTo"===t.relationshipMeta.kind?this.belongsTo(e):t&&"hasMany"===t.relationshipMeta.kind?this.hasMany(e):Gt(this.record,e)},unknownProperty:function(e){return this.get(e)}};var Xt=C,Qt=Ember.get,Zt=Ember.set,Jt=Ember.RSVP.Promise,en=Ember.ArrayPolyfills.forEach,tn=Ember.ArrayPolyfills.map,nn=Ember.computed("currentState",function(e,t){return Qt(Qt(this,"currentState"),e)}).readOnly(),rn=Ember.create(null),on=Ember.create(null),sn=Ember.Object.extend(Ember.Evented,{_recordArrays:void 0,_relationships:void 0,isEmpty:nn,isLoading:nn,isLoaded:nn,isDirty:nn,isSaving:nn,isDeleted:nn,isNew:nn,isValid:nn,dirtyType:nn,isError:!1,isReloading:!1,clientId:null,id:null,currentState:At.empty,errors:Ember.computed(function(){var e=Ft.create();return e.registerHandlers(this,function(){this.send("becameInvalid")},function(){this.send("becameValid")}),e}).readOnly(),serialize:function(e){var t=Qt(this,"store");return t.serialize(this,e)},toJSON:function(e){var t=Ve.create({container:this.container}),n=this._createSnapshot();return t.serialize(n,e)},ready:function(){this.store.recordArrayManager.recordWasLoaded(this)},didLoad:Ember.K,didUpdate:Ember.K,didCreate:Ember.K,didDelete:Ember.K,becameInvalid:Ember.K,becameError:Ember.K,data:Ember.computed(function(){return this._data=this._data||{},this._data}).readOnly(),_data:null,init:function(){this._super.apply(this,arguments),this._setup()},_setup:function(){this._changesToSync={},this._deferredTriggers=[],this._data={},this._attributes=Ember.create(null),this._inFlightAttributes=Ember.create(null),this._relationships={},this._implicitRelationships=Ember.create(null);var e=this;this.constructor.eachRelationship(function(t,n){e._relationships[t]=Yt(e,n,e.store)})},send:function(e,t){var n=Qt(this,"currentState");return n[e]||this._unhandledEvent(n,e,t),n[e](this,t)},transitionTo:function(e){var t=I(e),n=Qt(this,"currentState"),r=n;do r.exit&&r.exit(this),r=r.parentState;while(!r.hasOwnProperty(t));var i,o,s=O(e),a=[],l=[];for(i=0,o=s.length;o>i;i++)r=r[s[i]],r.enter&&l.push(r),r.setup&&a.push(r);for(i=0,o=l.length;o>i;i++)l[i].enter(this);for(Zt(this,"currentState",r),i=0,o=a.length;o>i;i++)a[i].setup(this);this.updateRecordArraysLater()},_unhandledEvent:function(e,t,n){var r="Attempted to handle event `"+t+"` ";throw r+="on "+String(this)+" while in state ",r+=e.stateName+". ",void 0!==n&&(r+="Called with "+Ember.inspect(n)+"."),new Ember.Error(r)},withTransaction:function(e){var t=Qt(this,"transaction");t&&e(t)},loadingData:function(e){this.send("loadingData",e)},loadedData:function(){this.send("loadedData")},notFound:function(){this.send("notFound")},pushedData:function(){this.send("pushedData")},deleteRecord:function(){this.send("deleteRecord")},destroyRecord:function(){return this.deleteRecord(),this.save()},unloadRecord:function(){this.isDestroyed||this.send("unloadRecord")},clearRelationships:function(){this.eachRelationship(function(e,t){var n=this._relationships[e];n&&(n.clear(),n.destroy())},this)},disconnectRelationships:function(){this.eachRelationship(function(e,t){this._relationships[e].disconnect()},this);var e=this;en.call(Ember.keys(this._implicitRelationships),function(t){e._implicitRelationships[t].disconnect()})},reconnectRelationships:function(){this.eachRelationship(function(e,t){this._relationships[e].reconnect()},this);var e=this;en.call(Ember.keys(this._implicitRelationships),function(t){e._implicitRelationships[t].reconnect()})},updateRecordArrays:function(){this._updatingRecordArraysLater=!1,Qt(this,"store").dataWasUpdated(this.constructor,this)},_preloadData:function(e){var t=this;en.call(Ember.keys(e),function(n){var r=Qt(e,n),i=t.constructor.metaForProperty(n);i.isRelationship?t._preloadRelationship(n,r):Qt(t,"_data")[n]=r})},_preloadRelationship:function(e,t){var n=this.constructor.metaForProperty(e),r=n.type;"hasMany"===n.kind?this._preloadHasMany(e,t,r):this._preloadBelongsTo(e,t,r)},_preloadHasMany:function(e,t,n){var r=this,i=tn.call(t,function(e){return r._convertStringOrNumberIntoRecord(e,n);

});this._relationships[e].updateRecordsFromAdapter(i)},_preloadBelongsTo:function(e,t,n){var r=this._convertStringOrNumberIntoRecord(t,n);this._relationships[e].setRecord(r)},_convertStringOrNumberIntoRecord:function(e,t){return"string"===Ember.typeOf(e)||"number"===Ember.typeOf(e)?this.store.recordForId(t,e):e},_notifyProperties:function(e){Ember.beginPropertyChanges();for(var t,n=0,r=e.length;r>n;n++)t=e[n],this.notifyPropertyChange(t);Ember.endPropertyChanges()},changedAttributes:function(){var e,t=Qt(this,"_data"),n=Qt(this,"_attributes"),r={};for(e in n)r[e]=[t[e],n[e]];return r},adapterWillCommit:function(){this.send("willCommit")},adapterDidCommit:function(e){var t;Zt(this,"isError",!1),e?t=D(this._data,e):Bt(this._data,this._inFlightAttributes),this._inFlightAttributes=Ember.create(null),this.send("didCommit"),this.updateRecordArraysLater(),e&&this._notifyProperties(t)},adapterDidDirty:function(){this.send("becomeDirty"),this.updateRecordArraysLater()},updateRecordArraysLater:function(){this._updatingRecordArraysLater||(this._updatingRecordArraysLater=!0,Ember.run.schedule("actions",this,this.updateRecordArrays))},setupData:function(e){var t=D(this._data,e);this.pushedData(),this._notifyProperties(t)},materializeId:function(e){Zt(this,"id",e)},materializeAttributes:function(e){Bt(this._data,e)},materializeAttribute:function(e,t){this._data[e]=t},rollback:function(){var e=Ember.keys(this._attributes);this._attributes=Ember.create(null),Qt(this,"isError")&&(this._inFlightAttributes=Ember.create(null),Zt(this,"isError",!1)),Qt(this,"isDeleted")&&this.reconnectRelationships(),Qt(this,"isNew")&&this.clearRelationships(),Qt(this,"isValid")||(this._inFlightAttributes=Ember.create(null)),this.send("rolledBack"),this._notifyProperties(e)},_createSnapshot:function(){return new Xt(this)},toStringExtension:function(){return Qt(this,"id")},save:function(){var e="DS: Model#save "+this,t=Ember.RSVP.defer(e);return this.get("store").scheduleSave(this,t),this._inFlightAttributes=this._attributes,this._attributes=Ember.create(null),ct.create({promise:t.promise})},reload:function(){Zt(this,"isReloading",!0);var e=this,t="DS: Model#reload of "+this,n=new Jt(function(t){e.send("reloadRecord",t)},t).then(function(){return e.set("isReloading",!1),e.set("isError",!1),e},function(t){throw e.set("isError",!0),t},"DS: Model#reload complete, update flags")["finally"](function(){e.updateRecordArrays()});return ct.create({promise:n})},adapterDidInvalidate:function(e){var t=Qt(this,"errors");for(var n in e)e.hasOwnProperty(n)&&t.add(n,e[n]);this._saveWasRejected()},adapterDidError:function(){this.send("becameError"),Zt(this,"isError",!0),this._saveWasRejected()},_saveWasRejected:function(){for(var e=Ember.keys(this._inFlightAttributes),t=0;t<e.length;t++)void 0===this._attributes[e[t]]&&(this._attributes[e[t]]=this._inFlightAttributes[e[t]]);this._inFlightAttributes=Ember.create(null)},trigger:function(){for(var e=arguments.length,t=new Array(e-1),n=arguments[0],r=1;e>r;r++)t[r-1]=arguments[r];Ember.tryInvoke(this,n,t),this._super.apply(this,arguments)},triggerLater:function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];1===this._deferredTriggers.push(t)&&Ember.run.schedule("actions",this,"_triggerDeferredTriggers")},_triggerDeferredTriggers:function(){for(var e=0,t=this._deferredTriggers.length;t>e;e++)this.trigger.apply(this,this._deferredTriggers[e]);this._deferredTriggers.length=0},willDestroy:function(){this._super.apply(this,arguments),this.clearRelationships()},willMergeMixin:function(e){}});sn.reopenClass({_create:sn.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.createRecord` with the attributes you would like to set.")}});var an=sn,ln=Ember.get;an.reopenClass({attributes:Ember.computed(function(){var e=_e.create();return this.eachComputedProperty(function(t,n){n.isAttribute&&(n.name=t,e.set(t,n))}),e}).readOnly(),transformedAttributes:Ember.computed(function(){var e=_e.create();return this.eachAttribute(function(t,n){n.type&&e.set(t,n.type)}),e}).readOnly(),eachAttribute:function(e,t){ln(this,"attributes").forEach(function(n,r){e.call(t,r,n)},t)},eachTransformedAttribute:function(e,t){ln(this,"transformedAttributes").forEach(function(n,r){e.call(t,r,n)})}}),an.reopen({eachAttribute:function(e,t){this.constructor.eachAttribute(e,t)}});var un=k,cn=Ember.__loader.require("backburner")["default"]||Ember.__loader.require("backburner").Backburner;if(!cn.prototype.join){var dn=function(e){return"string"==typeof e};cn.prototype.join=function(){var e,t;if(this.currentInstance){var n=arguments.length;if(1===n?(e=arguments[0],t=null):(t=arguments[0],e=arguments[1]),dn(e)&&(e=t[e]),1===n)return e();if(2===n)return e.call(t);for(var r=new Array(n-2),i=0,o=n-2;o>i;i++)r[i]=arguments[i+2];return e.apply(t,r)}return this.run.apply(this,arguments)}}var hn,fn=Ember.get,pn=Ember.set,mn=Ember.run.once,gn=Ember.isNone,vn=Ember.EnumerableUtils.forEach,bn=Ember.EnumerableUtils.indexOf,yn=Ember.EnumerableUtils.map,En=Ember.RSVP.Promise,_n=Ember.copy,Tn=Ember.String.camelize;hn=Ember.Object.extend({init:function(){this._backburner=new cn(["normalizeRelationships","syncRelationships","finished"]),this.typeMaps={},this.recordArrayManager=Rt.create({store:this}),this._pendingSave=[],this._pendingFetch=_e.create()},adapter:"-rest",serialize:function(e,t){var n=e._createSnapshot();return this.serializerFor(n.typeKey).serialize(n,t)},defaultAdapter:Ember.computed("adapter",function(){var e=fn(this,"adapter");return"string"==typeof e&&(e=this.container.lookup("adapter:"+e)||this.container.lookup("adapter:application")||this.container.lookup("adapter:-rest")),DS.Adapter.detect(e)&&(e=e.create({container:this.container})),e}),createRecord:function(e,t){var n=this.modelFor(e),r=_n(t)||{};gn(r.id)&&(r.id=this._generateId(n,r)),r.id=S(r.id);var i=this.buildRecord(n,r.id);return i.loadedData(),i.setProperties(r),i},_generateId:function(e,t){var n=this.adapterFor(e);return n&&n.generateIdForRecord?n.generateIdForRecord(this,e,t):null},deleteRecord:function(e){e.deleteRecord()},unloadRecord:function(e){e.unloadRecord()},find:function(e,t,n){return 1===arguments.length?this.findAll(e):"object"===Ember.typeOf(t)?this.findQuery(e,t):this.findById(e,S(t),n)},fetchById:function(e,t,n){return this.hasRecordForId(e,t)?this.getById(e,t).reload():this.find(e,t,n)},fetchAll:function(e){return e=this.modelFor(e),this._fetchAll(e,this.all(e))},fetch:function(e,t,n){return this.fetchById(e,t,n)},findById:function(e,t,n){var r=this.modelFor(e),i=this.recordForId(r,t);return this._findByRecord(i,n)},_findByRecord:function(e,t){var n;return t&&e._preloadData(t),fn(e,"isEmpty")?n=this.scheduleFetch(e):fn(e,"isLoading")&&(n=e._loadingPromise),dt(n||e,"DS: Store#findByRecord "+e.typeKey+" with id: "+fn(e,"id"))},findByIds:function(e,t){var n=this;return ht(Ember.RSVP.all(yn(t,function(t){return n.findById(e,t)})).then(Ember.A,null,"DS: Store#findByIds of "+e+" complete"))},fetchRecord:function(e){var t=e.constructor,n=fn(e,"id"),r=this.adapterFor(t),i=z(r,this,t,n,e);return i},scheduleFetchMany:function(e){return En.all(yn(e,this.scheduleFetch,this))},scheduleFetch:function(e){var t=e.constructor;if(gn(e))return null;if(e._loadingPromise)return e._loadingPromise;var n=Ember.RSVP.defer("Fetching "+t+"with id: "+e.get("id")),r={record:e,resolver:n},i=n.promise;return e.loadingData(i),this._pendingFetch.get(t)?this._pendingFetch.get(t).push(r):this._pendingFetch.set(t,[r]),Ember.run.scheduleOnce("afterRender",this,this.flushAllPendingFetches),i},flushAllPendingFetches:function(){this.isDestroyed||this.isDestroying||(this._pendingFetch.forEach(this._flushPendingFetchForType,this),this._pendingFetch=_e.create())},_flushPendingFetchForType:function(e,t){function n(e){e.resolver.resolve(a.fetchRecord(e.record))}function r(t){vn(t,function(t){var n=Ember.A(e).findBy("record",t);if(n){var r=n.resolver;r.resolve(t)}})}function i(e){return function(t){var n=e.without(t);s(n)}}function o(e){return function(t){s(e,t)}}function s(t,n){vn(t,function(t){var r=Ember.A(e).findBy("record",t);if(r){var i=r.resolver;i.reject(n)}})}var a=this,l=a.adapterFor(t),u=!!l.findMany&&l.coalesceFindRequests,c=Ember.A(e).mapBy("record");if(1===e.length)n(e[0]);else if(u){var d=l.groupRecordsForFindMany(this,c);vn(d,function(s){var u=Ember.A(s),c=u.mapBy("id");if(c.length>1)V(l,a,t,c,u).then(r).then(i(u)).then(null,o(u));else if(1===c.length){var d=Ember.A(e).findBy("record",s[0]);n(d)}})}else vn(e,n)},getById:function(e,t){return this.hasRecordForId(e,t)?this.recordForId(e,t):null},reloadRecord:function(e){{var t=e.constructor;this.adapterFor(t),fn(e,"id")}return this.scheduleFetch(e)},hasRecordForId:function(e,t){var n=this.modelFor(e),r=S(t);return!!this.typeMapFor(n).idToRecord[r]},recordForId:function(e,t){var n=this.modelFor(e),r=S(t),i=this.typeMapFor(n).idToRecord,o=i[r];return o&&i[r]||(o=this.buildRecord(n,r)),o},findMany:function(e){var t=this;return En.all(yn(e,function(e){return t._findByRecord(e)}))},findHasMany:function(e,t,n){var r=this.adapterFor(e.constructor);return q(r,this,e,t,n)},findBelongsTo:function(e,t,n){var r=this.adapterFor(e.constructor);return U(r,this,e,t,n)},findQuery:function(e,t){var n=this.modelFor(e),r=this.recordArrayManager.createAdapterPopulatedRecordArray(n,t),i=this.adapterFor(n);return ht(Y(i,this,n,t,r))},findAll:function(e){return this.fetchAll(e)},_fetchAll:function(e,t){var n=this.adapterFor(e),r=this.typeMapFor(e).metadata.since;return pn(t,"isUpdating",!0),ht(W(n,this,e,r))},didUpdateAll:function(e){var t=this.typeMapFor(e).findAllCache;pn(t,"isUpdating",!1)},all:function(e){var t=this.modelFor(e),n=this.typeMapFor(t),r=n.findAllCache;if(r)return this.recordArrayManager.updateFilter(r,t),r;var i=this.recordArrayManager.createRecordArray(t);return n.findAllCache=i,i},unloadAll:function(e){for(var t,n=this.modelFor(e),r=this.typeMapFor(n),i=r.records.slice(),o=0;o<i.length;o++)t=i[o],t.unloadRecord(),t.destroy();r.findAllCache=null},filter:function(e,t,n){var r,i,o=arguments.length,s=3===o;return s?r=this.findQuery(e,t):2===arguments.length&&(n=t),e=this.modelFor(e),i=s?this.recordArrayManager.createFilteredRecordArray(e,n,t):this.recordArrayManager.createFilteredRecordArray(e,n),r=r||En.cast(i),ht(r.then(function(){return i},null,"DS: Store#filter of "+e))},recordIsLoaded:function(e,t){return this.hasRecordForId(e,t)?!fn(this.recordForId(e,t),"isEmpty"):!1},metadataFor:function(e){var t=this.modelFor(e);return this.typeMapFor(t).metadata},setMetadataFor:function(e,t){var n=this.modelFor(e);Ember.merge(this.typeMapFor(n).metadata,t)},dataWasUpdated:function(e,t){this.recordArrayManager.recordDidChange(t)},scheduleSave:function(e,t){e.adapterWillCommit(),this._pendingSave.push([e,t]),mn(this,"flushPendingSave")},flushPendingSave:function(){var e=this._pendingSave.slice();this._pendingSave=[],vn(e,function(e){var t,n=e[0],r=e[1],i=this.adapterFor(n.constructor);return"root.deleted.saved"===fn(n,"currentState.stateName")?r.resolve(n):(t=fn(n,"isNew")?"createRecord":fn(n,"isDeleted")?"deleteRecord":"updateRecord",void r.resolve(G(i,this,t,n)))},this)},didSaveRecord:function(e,t){t&&(this._backburner.schedule("normalizeRelationships",this,"_setupRelationships",e,e.constructor,t),this.updateId(e,t)),e.adapterDidCommit(t)},recordWasInvalid:function(e,t){e.adapterDidInvalidate(t)},recordWasError:function(e){e.adapterDidError()},updateId:function(e,t){var n=(fn(e,"id"),S(t.id));this.typeMapFor(e.constructor).idToRecord[n]=e,pn(e,"id",n)},typeMapFor:function(e){var t,n=fn(this,"typeMaps"),r=Ember.guidFor(e);return(t=n[r])?t:(t={idToRecord:Ember.create(null),records:[],metadata:Ember.create(null),type:e},n[r]=t,t)},_load:function(e,t){var n=S(t.id),r=this.recordForId(e,n);return r.setupData(t),this.recordArrayManager.recordDidChange(r),r},modelFor:function(e){var t;if("string"==typeof e){if(t=this.modelFactoryFor(e),!t)throw new Ember.Error("No model was found for '"+e+"'");t.typeKey=t.typeKey||this._normalizeTypeKey(e)}else t=e,t.typeKey&&(t.typeKey=this._normalizeTypeKey(t.typeKey));return t.store=this,t},modelFactoryFor:function(e){return this.container.lookupFactory("model:"+e)},push:function(e,t){{var n=this.modelFor(e);Ember.EnumerableUtils.filter}Ember.ENV.DS_WARN_ON_UNKNOWN_KEYS,this._load(n,t);var r=this.recordForId(n,t.id),i=this;return this._backburner.join(function(){i._backburner.schedule("normalizeRelationships",i,"_setupRelationships",r,n,t)}),r},_setupRelationships:function(e,t,n){n=K(this,t,n),X(this,e,n)},pushPayload:function(e,t){var n,r;t?(r=t,n=this.serializerFor(e)):(r=e,n=M(this.container));var i=this;j(this,function(){n.pushPayload(i,r)})},normalize:function(e,t){var n=this.serializerFor(e),r=this.modelFor(e);return n.normalize(r,t)},update:function(e,t){return this.push(e,t)},pushMany:function(e,t){for(var n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=this.push(e,t[i]);return r},metaForType:function(e,t){this.setMetadataFor(e,t)},buildRecord:function(e,t,n){var r=this.typeMapFor(e),i=r.idToRecord,o=e._create({id:t,store:this,container:this.container});return n&&o.setupData(n),t&&(i[t]=o),r.records.push(o),o},recordWasLoaded:function(e){this.recordArrayManager.recordWasLoaded(e)},dematerializeRecord:function(e){this._dematerializeRecord(e)},_dematerializeRecord:function(e){var t=e.constructor,n=this.typeMapFor(t),r=fn(e,"id");e.updateRecordArrays(),r&&delete n.idToRecord[r];var i=bn(n.records,e);n.records.splice(i,1)},adapterFor:function(e){var t,n=this.container;return n&&(t=n.lookup("adapter:"+e.typeKey)||n.lookup("adapter:application")),t||fn(this,"defaultAdapter")},serializerFor:function(e){e=this.modelFor(e);var t=this.adapterFor(e);return L(this.container,e.typeKey,t&&t.defaultSerializer)},willDestroy:function(){function e(e){return t[e].type}var t=this.typeMaps,n=Ember.keys(t),r=yn(n,e);this.recordArrayManager.destroy(),vn(r,this.unloadAll,this)},_normalizeTypeKey:function(e){return Tn(a(e))}});var Cn=hn,On=Q,In=Ember.Object.extend({serialize:Ember.required(),deserialize:Ember.required()}),Dn=Ember.isEmpty,Rn=In.extend({deserialize:function(e){var t;return Dn(e)?null:(t=Number(e),Z(t)?t:null)},serialize:function(e){var t;return Dn(e)?null:(t=Number(e),Z(t)?t:null)}}),wn=Date.prototype.toISOString||function(){function e(e){return 10>e?"0"+e:e}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};Ember.SHIM_ES5&&(Date.prototype.toISOString||(Date.prototype.toISOString=wn));var xn=In.extend({deserialize:function(e){var t=typeof e;return"string"===t?new Date(Ember.Date.parse(e)):"number"===t?new Date(e):null===e||void 0===e?e:null},serialize:function(e){return e instanceof Date?wn.call(e):null}}),kn=Ember.isNone,Sn=In.extend({deserialize:function(e){return kn(e)?null:String(e)},serialize:function(e){return kn(e)?null:String(e)}}),Kn=In.extend({deserialize:function(e){var t=typeof e;return"boolean"===t?e:"string"===t?null!==e.match(/^true$|^t$|^1$/i):"number"===t?1===e:!1},serialize:function(e){return Boolean(e)}}),Nn=J,An=ee,Pn=Ember.get,Ln=Ember.String.capitalize,Mn=Ember.String.underscore,Fn=Ember.DataAdapter.extend({getFilters:function(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]},detect:function(e){return e!==an&&an.detect(e)},columnsForType:function(e){var t=[{name:"id",desc:"Id"}],n=0,r=this;return Pn(e,"attributes").forEach(function(e,i){if(n++>r.attributeLimit)return!1;var o=Ln(Mn(i).replace("_"," "));t.push({name:i,desc:o})}),t},getRecords:function(e){return this.get("store").all(e)},getRecordColumnValues:function(e){var t=this,n=0,r={id:Pn(e,"id")};return e.eachAttribute(function(i){if(n++>t.attributeLimit)return!1;var o=Pn(e,i);r[i]=o}),r},getRecordKeywords:function(e){var t=[],n=Ember.A(["id"]);return e.eachAttribute(function(e){n.push(e)}),n.forEach(function(n){t.push(Pn(e,n))}),t},getRecordFilterValues:function(e){return{isNew:e.get("isNew"),isModified:e.get("isDirty")&&!e.get("isNew"),isClean:!e.get("isDirty")}},getRecordColor:function(e){var t="black";return e.get("isNew")?t="green":e.get("isDirty")&&(t="blue"),t},observeRecord:function(e,t){var n=Ember.A(),r=this,i=Ember.A(["id","isNew","isDirty"]);e.eachAttribute(function(e){i.push(e)}),i.forEach(function(i){var o=function(){t(r.wrapRecord(e))};Ember.addObserver(e,i,o),n.push(function(){Ember.removeObserver(e,i,o)})});var o=function(){n.forEach(function(e){e()})};return o}}),Bn=te,$n=ne,jn=Ember.K;Ember.onLoad("Ember.Application",function(e){e.initializer({name:"ember-data",initialize:$n}),e.initializer({name:"store",after:"ember-data",initialize:jn}),e.initializer({name:"activeModelAdapter",before:"store",initialize:jn}),e.initializer({name:"transforms",before:"store",initialize:jn}),e.initializer({name:"data-adapter",before:"store",initialize:jn}),e.initializer({name:"injectStore",before:"store",initialize:jn})}),Ember.Date=Ember.Date||{};var Hn=Date.parse,zn=[1,4,5,6,7,10,11];Ember.Date.parse=function(e){var t,n,r=0;if(n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(e)){for(var i,o=0;i=zn[o];++o)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(r=60*n[10]+n[11],"+"===n[9]&&(r=0-r)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else t=Hn?Hn(e):0/0;return t},(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.Date)&&(Date.parse=Ember.Date.parse),an.reopen({_debugInfo:function(){var e=["id"],t={belongsTo:[],hasMany:[]},n=[];this.eachAttribute(function(t,n){e.push(t)},this),this.eachRelationship(function(e,r){t[r.kind].push(e),n.push(e)});var r=[{name:"Attributes",properties:e,expand:!0},{name:"Belongs To",properties:t.belongsTo,expand:!0},{name:"Has Many",properties:t.hasMany,expand:!0},{name:"Flags",properties:["isLoaded","isDirty","isSaving","isDeleted","isError","isNew","isValid"]}];return{propertyInfo:{includeOtherProperties:!0,groups:r,expensiveProperties:n}}}});var Vn=Fn,qn=Ember.get,Un=Ember.EnumerableUtils.forEach,Wn=Ember.String.camelize,Yn=Ember.Mixin.create({normalize:function(e,t,n){var r=this._super(e,t,n);return re(this,this.store,e,r)},keyForRelationship:function(e,t){return this.hasDeserializeRecordsOption(e)?this.keyForAttribute(e):this._super(e,t)||e},serializeBelongsTo:function(e,t,n){var r=n.key;if(this.noSerializeOptionSpecified(r))return void this._super(e,t,n);var i,o=this.hasSerializeIdsOption(r),s=this.hasSerializeRecordsOption(r),a=e.belongsTo(r);o?(i=this.keyForRelationship(r,n.kind),t[i]=a?a.id:null):s&&(i=this.keyForAttribute(r),a?(t[i]=a.record.serialize({includeId:!0}),this.removeEmbeddedForeignKey(e,a,n,t[i])):t[i]=null)},serializeHasMany:function(e,t,n){var r=n.key;if(this.noSerializeOptionSpecified(r))return void this._super(e,t,n);var i,o=this.hasSerializeIdsOption(r),s=this.hasSerializeRecordsOption(r);o?(i=this.keyForRelationship(r,n.kind),t[i]=e.hasMany(r,{ids:!0})):s&&(i=this.keyForAttribute(r),t[i]=e.hasMany(r).map(function(t){var r=t.record.serialize({includeId:!0});return this.removeEmbeddedForeignKey(e,t,n,r),r},this))},removeEmbeddedForeignKey:function(e,t,n,r){if("hasMany"!==n.kind&&"belongsTo"===n.kind){var i=e.type.inverseFor(n.key);if(i){var o=i.name,s=this.store.serializerFor(t.type),a=s.keyForRelationship(o,i.kind);a&&delete r[a]}}},hasEmbeddedAlwaysOption:function(e){var t=this.attrsOption(e);return t&&"always"===t.embedded},hasSerializeRecordsOption:function(e){var t=this.hasEmbeddedAlwaysOption(e),n=this.attrsOption(e);return t||n&&"records"===n.serialize},hasSerializeIdsOption:function(e){var t=this.attrsOption(e);return t&&("ids"===t.serialize||"id"===t.serialize)},noSerializeOptionSpecified:function(e){var t=this.attrsOption(e);return!(t&&(t.serialize||t.embedded))},hasDeserializeRecordsOption:function(e){var t=this.hasEmbeddedAlwaysOption(e),n=this.attrsOption(e);return t||n&&"records"===n.deserialize},attrsOption:function(e){var t=this.get("attrs");return t&&(t[Wn(e)]||t[e])}}),Gn=Yn;an.reopen({notifyBelongsToChanged:function(e){this.notifyPropertyChange(e)}});var Xn=le;an.reopen({notifyHasManyAdded:function(e){this.notifyPropertyChange(e)}});var Qn=ue,Zn=Ember.get,Jn=Ember.ArrayPolyfills.filter,er=Ember.computed(function(){Ember.testing===!0&&er._cacheable===!0&&(er._cacheable=!1);var e=new Te({defaultValue:function(){return[]}});return this.eachComputedProperty(function(t,n){if(n.isRelationship){n.key=t;var r=e.get(ce(this.store,n));r.push({name:t,kind:n.kind})}}),e}).readOnly(),tr=Ember.computed(function(){Ember.testing===!0&&tr._cacheable===!0&&(tr._cacheable=!1);var e,t=Ember.A();return this.eachComputedProperty(function(n,r){r.isRelationship&&(r.key=n,e=ce(this.store,r),t.contains(e)||t.push(e))}),t}).readOnly(),nr=Ember.computed(function(){Ember.testing===!0&&nr._cacheable===!0&&(nr._cacheable=!1);var e=_e.create();return this.eachComputedProperty(function(t,n){if(n.isRelationship){n.key=t;var r=de(this.store,n);r.type=ce(this.store,n),e.set(t,r)}}),e}).readOnly();an.reopen({didDefineProperty:function(e,t,n){if(n instanceof Ember.ComputedProperty){var r=n.meta();r.parentType=e.constructor}}}),an.reopenClass({typeForRelationship:function(e){var t=Zn(this,"relationshipsByName").get(e);return t&&t.type},inverseMap:Ember.computed(function(){return Ember.create(null)}),inverseFor:function(e){var t=Zn(this,"inverseMap");if(t[e])return t[e];var n=this._findInverseFor(e);return t[e]=n,n},_findInverseFor:function(e){function t(n,r,i){var o=i||[],s=Zn(r,"relationships");if(s){var a=s.get(n);return a=Jn.call(a,function(t){var n=r.metaForProperty(t.name).options;return n.inverse?e===n.inverse:!0}),a&&o.push.apply(o,a),n.superclass&&t(n.superclass,r,o),o}}var n=this.typeForRelationship(e);if(!n)return null;var r=this.metaForProperty(e),i=r.options;if(null===i.inverse)return null;var o,s,a;if(i.inverse)o=i.inverse,a=Ember.get(n,"relationshipsByName").get(o),s=a.kind;else{var l=t(this,n);if(0===l.length)return null;var u=Jn.call(l,function(t){var r=n.metaForProperty(t.name).options;return e===r.inverse});1===u.length&&(l=u),o=l[0].name,s=l[0].kind}return{type:n,name:o,kind:s}},relationships:er,relationshipNames:Ember.computed(function(){var e={hasMany:[],belongsTo:[]};return this.eachComputedProperty(function(t,n){n.isRelationship&&e[n.kind].push(t)}),e}),relatedTypes:tr,relationshipsByName:nr,fields:Ember.computed(function(){var e=_e.create();return this.eachComputedProperty(function(t,n){n.isRelationship?e.set(t,n.kind):n.isAttribute&&e.set(t,"attribute")}),e}).readOnly(),eachRelationship:function(e,t){Zn(this,"relationshipsByName").forEach(function(n,r){e.call(t,r,n)})},eachRelatedType:function(e,t){Zn(this,"relatedTypes").forEach(function(n){e.call(t,n)})},determineRelationshipType:function(e){var t,n,r=e.key,i=e.kind,o=this.inverseFor(r);return o?(t=o.name,n=o.kind,"belongsTo"===n?"belongsTo"===i?"oneToOne":"manyToOne":"belongsTo"===i?"oneToMany":"manyToMany"):"belongsTo"===i?"oneToNone":"manyToNone"}}),an.reopen({eachRelationship:function(e,t){this.constructor.eachRelationship(e,t)},relationshipFor:function(e){return Zn(this.constructor,"relationshipsByName").get(e)},inverseFor:function(e){return this.constructor.inverseFor(e)}}),Ember.RSVP.Promise.cast=Ember.RSVP.Promise.cast||Ember.RSVP.resolve,st.Store=hn,st.PromiseArray=ut,st.PromiseObject=ct,st.PromiseManyArray=ft,st.Model=an,st.RootState=At,st.attr=un,st.Errors=Ft,st.Snapshot=Xt,st.Adapter=pe,st.InvalidError=e,st.Serializer=Be,st.DebugAdapter=Vn,st.RecordArray=gt,st.FilteredRecordArray=bt,st.AdapterPopulatedRecordArray=Et,st.ManyArray=Ct,st.RecordArrayManager=Rt,st.RESTAdapter=De,st.FixtureAdapter=Ee,st.RESTSerializer=Ge,st.JSONSerializer=Ve,st.Transform=In,st.DateTransform=xn,st.StringTransform=Sn,st.NumberTransform=Rn,st.BooleanTransform=Kn,st.ActiveModelAdapter=Me,st.ActiveModelSerializer=nt,st.EmbeddedRecordsMixin=Gn,st.belongsTo=Xn,st.hasMany=Qn,st.Relationship=Ht,st.ContainerProxy=rt,st._setupContainer=$n,Ember.lookup.DS=st}.call(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e:e(jQuery)}(function(e,t){"use strict";function n(t,n,r,i){for(var o=[],s=0;s<t.length;s++){var a=t[s];if(a){var l=tinycolor(a),u=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,a)?" sp-thumb-active":"";var c=l.toString(i.preferredFormat||"rgb"),d=m?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+c+'" data-color="'+l.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{var h="sp-clear-display";o.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+h+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+r+"'>"+o.join("")+"</div>"}function r(){for(var e=0;e<f.length;e++)f[e]&&f[e].hide()}function i(t,n){var r=e.extend({},h,t);return r.callbacks={move:u(r.move,n),change:u(r.change,n),show:u(r.show,n),hide:u(r.hide,n),beforeShow:u(r.beforeShow,n)},r}function o(o,a){function u(){if(q.showPaletteOnly&&(q.showPalette=!0),Le.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),q.palette){de=q.palette.slice(0),he=e.isArray(de[0])?de:[de],fe={};for(var t=0;t<he.length;t++)for(var n=0;n<he[t].length;n++){var r=tinycolor(he[t][n]).toRgbString();fe[r]=!0}}_e.toggleClass("sp-flat",U),_e.toggleClass("sp-input-disabled",!q.showInput),_e.toggleClass("sp-alpha-enabled",q.showAlpha),_e.toggleClass("sp-clear-enabled",Ge),_e.toggleClass("sp-buttons-disabled",!q.showButtons),_e.toggleClass("sp-palette-buttons-disabled",!q.togglePaletteOnly),_e.toggleClass("sp-palette-disabled",!q.showPalette),_e.toggleClass("sp-palette-only",q.showPaletteOnly),_e.toggleClass("sp-initial-disabled",!q.showInitial),_e.addClass(q.className).addClass(q.containerClassName),B()}function h(){function t(t){return t.data&&t.data.ignore?(K(e(t.target).closest(".sp-thumb-el").data("color")),P()):(K(e(t.target).closest(".sp-thumb-el").data("color")),P(),F(!0),q.hideAfterPaletteSelect&&k()),!1}if(p&&_e.find("*:not(input)").attr("unselectable","on"),u(),Be&&ye.after($e).hide(),Ge||Ae.hide(),U)ye.after(_e).hide();else{var n="parent"===q.appendTo?ye.parent():e(q.appendTo);1!==n.length&&(n=e("body")),n.append(_e)}y(),je.bind("click.spectrum touchstart.spectrum",function(t){Ee||R(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(ye.is(":disabled")||q.disabled===!0)&&z(),_e.click(l),ke.change(D),ke.bind("paste",function(){setTimeout(D,1)}),ke.keydown(function(e){13==e.keyCode&&D()}),Ne.text(q.cancelText),Ne.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),S(),k()}),Ae.attr("title",q.clearText),Ae.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Ye=!0,P(),U&&F(!0)}),Pe.text(q.chooseText),Pe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),p&&ke.is(":focus")&&ke.trigger("change"),A()&&(F(!0),k())}),Le.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),Le.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),q.showPaletteOnly=!q.showPaletteOnly,q.showPaletteOnly||U||_e.css("left","-="+(Te.outerWidth(!0)+5)),u()}),c(we,function(e,t,n){ce=e/ie,Ye=!1,n.shiftKey&&(ce=Math.round(10*ce)/10),P()},O,I),c(Ie,function(e,t){ae=parseFloat(t/ne),Ye=!1,q.showAlpha||(ce=1),P()},O,I),c(Ce,function(e,t,n){if(n.shiftKey){if(!ve){var r=le*J,i=ee-ue*ee,o=Math.abs(e-r)>Math.abs(t-i);ve=o?"x":"y"}}else ve=null;var s=!ve||"x"===ve,a=!ve||"y"===ve;s&&(le=parseFloat(e/J)),a&&(ue=parseFloat((ee-t)/ee)),Ye=!1,q.showAlpha||(ce=1),P()},O,I),ze?(K(ze),L(),Ue=qe||tinycolor(ze).format,E(ze)):L(),U&&w();var r=p?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Se.delegate(".sp-thumb-el",r,t),Ke.delegate(".sp-thumb-el:nth-child(1)",r,{ignore:!0},t)}function y(){if(Y&&window.localStorage){try{var t=window.localStorage[Y].split(",#");t.length>1&&(delete window.localStorage[Y],e.each(t,function(e,t){E(t)}))}catch(n){}try{pe=window.localStorage[Y].split(";")}catch(n){}}}function E(t){if(W){var n=tinycolor(t).toRgbString();if(!fe[n]&&-1===e.inArray(n,pe))for(pe.push(n);pe.length>me;)pe.shift();if(Y&&window.localStorage)try{window.localStorage[Y]=pe.join(";")}catch(r){}}}function _(){var e=[];if(q.showPalette)for(var t=0;t<pe.length;t++){var n=tinycolor(pe[t]).toRgbString();fe[n]||e.push(pe[t])}return e.reverse().slice(0,q.maxSelectionSize)}function T(){var t=N(),r=e.map(he,function(e,r){return n(e,t,"sp-palette-row sp-palette-row-"+r,q)});y(),pe&&r.push(n(_(),t,"sp-palette-row sp-palette-row-selection",q)),Se.html(r.join(""))}function C(){if(q.showInitial){var e=Ve,t=N();Ke.html(n([e,t],t,"sp-palette-row-initial",q))}}function O(){(0>=ee||0>=J||0>=ne)&&B(),_e.addClass(ge),ve=null,ye.trigger("dragstart.spectrum",[N()])}function I(){_e.removeClass(ge),ye.trigger("dragstop.spectrum",[N()])}function D(){var e=ke.val();if(null!==e&&""!==e||!Ge){var t=tinycolor(e);t.isValid()?(K(t),F(!0)):ke.addClass("sp-validation-error")}else K(null),F(!0)}function R(){Z?k():w()}function w(){var t=e.Event("beforeShow.spectrum");return Z?void B():(ye.trigger(t,[N()]),void(X.beforeShow(N())===!1||t.isDefaultPrevented()||(r(),Z=!0,e(be).bind("click.spectrum",x),e(window).bind("resize.spectrum",Q),$e.addClass("sp-active"),_e.removeClass("sp-hidden"),B(),L(),Ve=N(),C(),X.show(Ve),ye.trigger("show.spectrum",[Ve]))))}function x(e){2!=e.button&&(We?F(!0):S(),k())}function k(){Z&&!U&&(Z=!1,e(be).unbind("click.spectrum",x),e(window).unbind("resize.spectrum",Q),$e.removeClass("sp-active"),_e.addClass("sp-hidden"),X.hide(N()),ye.trigger("hide.spectrum",[N()]))}function S(){K(Ve,!0)}function K(e,t){if(tinycolor.equals(e,N()))return void L();var n,r;!e&&Ge?Ye=!0:(Ye=!1,n=tinycolor(e),r=n.toHsv(),ae=r.h%360/360,le=r.s,ue=r.v,ce=r.a),L(),n&&n.isValid()&&!t&&(Ue=qe||n.getFormat())}function N(e){return e=e||{},Ge&&Ye?null:tinycolor.fromRatio({h:ae,s:le,v:ue,a:Math.round(100*ce)/100},{format:e.format||Ue})}function A(){return!ke.hasClass("sp-validation-error")}function P(){L(),X.move(N()),ye.trigger("move.spectrum",[N()])}function L(){ke.removeClass("sp-validation-error"),M();var e=tinycolor.fromRatio({h:ae,s:1,v:1});Ce.css("background-color",e.toHexString());var t=Ue;1>ce&&(0!==ce||"name"!==t)&&("hex"===t||"hex3"===t||"hex6"===t||"name"===t)&&(t="rgb");var n=N({format:t}),r="";if(He.removeClass("sp-clear-display"),He.css("background-color","transparent"),!n&&Ge)He.addClass("sp-clear-display");else{var i=n.toHexString(),o=n.toRgbString();if(m||1===n.alpha?He.css("background-color",o):(He.css("background-color","transparent"),He.css("filter",n.toFilter())),q.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),l="linear-gradient(left, "+a+", "+i+")";p?Re.css("filter",tinycolor(a).toFilter({gradientType:1},i)):(Re.css("background","-webkit-"+l),Re.css("background","-moz-"+l),Re.css("background","-ms-"+l),Re.css("background","linear-gradient(to right, "+a+", "+i+")"))}r=n.toString(t)}q.showInput&&ke.val(r),q.showPalette&&T(),C()}function M(){var e=le,t=ue;if(Ge&&Ye)xe.hide(),De.hide(),Oe.hide();else{xe.show(),De.show(),Oe.show();var n=e*J,r=ee-t*ee;n=Math.max(-te,Math.min(J-te,n-te)),r=Math.max(-te,Math.min(ee-te,r-te)),Oe.css({top:r+"px",left:n+"px"});var i=ce*ie;xe.css({left:i-oe/2+"px"});var o=ae*ne;De.css({top:o-se+"px"})}}function F(e){var t=N(),n="",r=!tinycolor.equals(t,Ve);t&&(n=t.toString(Ue),E(t)),Me&&ye.val(n),e&&r&&(X.change(t),ye.trigger("change",[t]))}function B(){J=Ce.width(),ee=Ce.height(),te=Oe.height(),re=Ie.width(),ne=Ie.height(),se=De.height(),ie=we.width(),oe=xe.width(),U||(_e.css("position","absolute"),_e.offset(q.offset?q.offset:s(_e,je))),M(),q.showPalette&&T(),ye.trigger("reflow.spectrum");

}function $(){ye.show(),je.unbind("click.spectrum touchstart.spectrum"),_e.remove(),$e.remove(),f[Xe.id]=null}function j(n,r){return n===t?e.extend({},q):r===t?q[n]:(q[n]=r,void u())}function H(){Ee=!1,ye.attr("disabled",!1),je.removeClass("sp-disabled")}function z(){k(),Ee=!0,ye.attr("disabled",!0),je.addClass("sp-disabled")}function V(e){q.offset=e,B()}var q=i(a,o),U=q.flat,W=q.showSelectionPalette,Y=q.localStorageKey,G=q.theme,X=q.callbacks,Q=d(B,10),Z=!1,J=0,ee=0,te=0,ne=0,re=0,ie=0,oe=0,se=0,ae=0,le=0,ue=0,ce=1,de=[],he=[],fe={},pe=q.selectionPalette.slice(0),me=q.maxSelectionSize,ge="sp-dragging",ve=null,be=o.ownerDocument,ye=(be.body,e(o)),Ee=!1,_e=e(b,be).addClass(G),Te=_e.find(".sp-picker-container"),Ce=_e.find(".sp-color"),Oe=_e.find(".sp-dragger"),Ie=_e.find(".sp-hue"),De=_e.find(".sp-slider"),Re=_e.find(".sp-alpha-inner"),we=_e.find(".sp-alpha"),xe=_e.find(".sp-alpha-handle"),ke=_e.find(".sp-input"),Se=_e.find(".sp-palette"),Ke=_e.find(".sp-initial"),Ne=_e.find(".sp-cancel"),Ae=_e.find(".sp-clear"),Pe=_e.find(".sp-choose"),Le=_e.find(".sp-palette-toggle"),Me=ye.is("input"),Fe=Me&&g&&"color"===ye.attr("type"),Be=Me&&!U,$e=Be?e(v).addClass(G).addClass(q.className).addClass(q.replacerClassName):e([]),je=Be?$e:ye,He=$e.find(".sp-preview-inner"),ze=q.color||Me&&ye.val(),Ve=!1,qe=q.preferredFormat,Ue=qe,We=!q.showButtons||q.clickoutFiresChange,Ye=!ze,Ge=q.allowEmpty&&!Fe;h();var Xe={show:w,hide:k,toggle:R,reflow:B,option:j,enable:H,disable:z,offset:V,set:function(e){K(e),F()},get:N,destroy:$,container:_e};return Xe.id=f.push(Xe)-1,Xe}function s(t,n){var r=0,i=t.outerWidth(),o=t.outerHeight(),s=n.outerHeight(),a=t[0].ownerDocument,l=a.documentElement,u=l.clientWidth+e(a).scrollLeft(),c=l.clientHeight+e(a).scrollTop(),d=n.offset();return d.top+=s,d.left-=Math.min(d.left,d.left+i>u&&u>i?Math.abs(d.left+i-u):0),d.top-=Math.min(d.top,d.top+o>c&&c>o?Math.abs(o+s-r):r),d}function a(){}function l(e){e.stopPropagation()}function u(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function c(t,n,r,i){function o(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function s(e){if(c){if(p&&u.documentMode<9&&!e.button)return l();var r=e.originalEvent&&e.originalEvent.touches,i=r?r[0].pageX:e.pageX,s=r?r[0].pageY:e.pageY,a=Math.max(0,Math.min(i-d.left,f)),g=Math.max(0,Math.min(s-d.top,h));m&&o(e),n.apply(t,[a,g,e])}}function a(n){var i=n.which?3==n.which:2==n.button;i||c||r.apply(t,arguments)!==!1&&(c=!0,h=e(t).height(),f=e(t).width(),d=e(t).offset(),e(u).bind(g),e(u.body).addClass("sp-dragging"),m||s(n),o(n))}function l(){c&&(e(u).unbind(g),e(u.body).removeClass("sp-dragging"),i.apply(t,arguments)),c=!1}n=n||function(){},r=r||function(){},i=i||function(){};var u=document,c=!1,d={},h=0,f=0,m="ontouchstart"in window,g={};g.selectstart=o,g.dragstart=o,g["touchmove mousemove"]=s,g["touchend mouseup"]=l,e(t).bind("touchstart mousedown",a)}function d(e,t,n){var r;return function(){var i=this,o=arguments,s=function(){r=null,e.apply(i,o)};n&&clearTimeout(r),(n||!r)&&(r=setTimeout(s,t))}}var h={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},f=[],p=!!/msie/i.exec(window.navigator.userAgent),m=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),n=t.style;return n.cssText="background-color:rgba(0,0,0,.5)",e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),g=function(){var t=e("<input type='color' value='!' />")[0];return"color"===t.type&&"!"!==t.value}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var e="";if(p)for(var t=1;6>=t;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";e.fn.spectrum=function(t,n){if("string"==typeof t){var r=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=f[e(this).data(y)];if(n){var o=n[t];if(!o)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?r=n.get():"container"==t?r=n.container:"option"==t?r=n.option.apply(n,i):"destroy"==t?(n.destroy(),e(this).removeData(y)):o.apply(n,i)}}),r}return this.spectrum("destroy").each(function(){var n=e.extend({},t,e(this).data()),r=o(this,n);e(this).data(y,r.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=c,e.fn.spectrum.defaults=h,e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){g||e("input[type=color]").spectrum({preferredFormat:"hex6"})},function(){function e(e){var n={r:0,g:0,b:0},i=1,s=!1,a=!1;return"string"==typeof e&&(e=K(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(n=t(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=x(e.s),e.v=x(e.v),n=o(e.h,e.s,e.v),s=!0,a="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=x(e.s),e.l=x(e.l),n=r(e.h,e.s,e.l),s=!0,a="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=T(i),{ok:s,format:e.format||a,r:F(255,B(n.r,0)),g:F(255,B(n.g,0)),b:F(255,B(n.b,0)),a:i}}function t(e,t,n){return{r:255*C(e,255),g:255*C(t,255),b:255*C(n,255)}}function n(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=B(e,t,n),s=F(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(n>t?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function r(e,t,n){function r(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e}var i,o,s;if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)i=o=s=n;else{var a=.5>n?n*(1+t):n+t-n*t,l=2*n-a;i=r(l,a,e+1/3),o=r(l,a,e),s=r(l,a,e-1/3)}return{r:255*i,g:255*o,b:255*s}}function i(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=B(e,t,n),s=F(e,t,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(n>t?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function o(e,t,n){e=6*C(e,360),t=C(t,100),n=C(n,100);var r=L.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:255*u,g:255*c,b:255*d}}function s(e,t,n,r){var i=[w(M(e).toString(16)),w(M(t).toString(16)),w(M(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a(e,t,n,r){var i=[w(k(r)),w(M(e).toString(16)),w(M(t).toString(16)),w(M(n).toString(16))];return i.join("")}function l(e,t){t=0===t?0:t||10;var n=j(e).toHsl();return n.s-=t/100,n.s=O(n.s),j(n)}function u(e,t){t=0===t?0:t||10;var n=j(e).toHsl();return n.s+=t/100,n.s=O(n.s),j(n)}function c(e){return j(e).desaturate(100)}function d(e,t){t=0===t?0:t||10;var n=j(e).toHsl();return n.l+=t/100,n.l=O(n.l),j(n)}function h(e,t){t=0===t?0:t||10;var n=j(e).toRgb();return n.r=B(0,F(255,n.r-M(255*-(t/100)))),n.g=B(0,F(255,n.g-M(255*-(t/100)))),n.b=B(0,F(255,n.b-M(255*-(t/100)))),j(n)}function f(e,t){t=0===t?0:t||10;var n=j(e).toHsl();return n.l-=t/100,n.l=O(n.l),j(n)}function p(e,t){var n=j(e).toHsl(),r=(M(n.h)+t)%360;return n.h=0>r?360+r:r,j(n)}function m(e){var t=j(e).toHsl();return t.h=(t.h+180)%360,j(t)}function g(e){var t=j(e).toHsl(),n=t.h;return[j(e),j({h:(n+120)%360,s:t.s,l:t.l}),j({h:(n+240)%360,s:t.s,l:t.l})]}function v(e){var t=j(e).toHsl(),n=t.h;return[j(e),j({h:(n+90)%360,s:t.s,l:t.l}),j({h:(n+180)%360,s:t.s,l:t.l}),j({h:(n+270)%360,s:t.s,l:t.l})]}function b(e){var t=j(e).toHsl(),n=t.h;return[j(e),j({h:(n+72)%360,s:t.s,l:t.l}),j({h:(n+216)%360,s:t.s,l:t.l})]}function y(e,t,n){t=t||6,n=n||30;var r=j(e).toHsl(),i=360/n,o=[j(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(j(r));return o}function E(e,t){t=t||6;for(var n=j(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(j({h:r,s:i,v:o})),o=(o+a)%1;return s}function _(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function T(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function C(e,t){D(e)&&(e="100%");var n=R(e);return e=F(t,B(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),L.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function O(e){return F(1,B(0,e))}function I(e){return parseInt(e,16)}function D(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function R(e){return"string"==typeof e&&-1!=e.indexOf("%")}function w(e){return 1==e.length?"0"+e:""+e}function x(e){return 1>=e&&(e=100*e+"%"),e}function k(e){return Math.round(255*parseFloat(e)).toString(16)}function S(e){return I(e)/255}function K(e){e=e.replace(N,"").replace(A,"").toLowerCase();var t=!1;if(H[e])e=H[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=V.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=V.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=V.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=V.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=V.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=V.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=V.hex8.exec(e))?{a:S(n[1]),r:I(n[2]),g:I(n[3]),b:I(n[4]),format:t?"name":"hex8"}:(n=V.hex6.exec(e))?{r:I(n[1]),g:I(n[2]),b:I(n[3]),format:t?"name":"hex"}:(n=V.hex3.exec(e))?{r:I(n[1]+""+n[1]),g:I(n[2]+""+n[2]),b:I(n[3]+""+n[3]),format:t?"name":"hex"}:!1}var N=/^[\s,#]+/,A=/\s+$/,P=0,L=Math,M=L.round,F=L.min,B=L.max,$=L.random,j=function(t,n){if(t=t?t:"",n=n||{},t instanceof j)return t;if(!(this instanceof j))return new j(t,n);var r=e(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=M(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=M(this._r)),this._g<1&&(this._g=M(this._g)),this._b<1&&(this._b=M(this._b)),this._ok=r.ok,this._tc_id=P++};j.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=T(e),this._roundA=M(100*this._a)/100,this},toHsv:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=i(this._r,this._g,this._b),t=M(360*e.h),n=M(100*e.s),r=M(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=n(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=n(this._r,this._g,this._b),t=M(360*e.h),r=M(100*e.s),i=M(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return s(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:M(this._r),g:M(this._g),b:M(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+M(this._r)+", "+M(this._g)+", "+M(this._b)+")":"rgba("+M(this._r)+", "+M(this._g)+", "+M(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:M(100*C(this._r,255))+"%",g:M(100*C(this._g,255))+"%",b:M(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+M(100*C(this._r,255))+"%, "+M(100*C(this._g,255))+"%, "+M(100*C(this._b,255))+"%)":"rgba("+M(100*C(this._r,255))+"%, "+M(100*C(this._g,255))+"%, "+M(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:z[s(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+a(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=j(e);n=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return i?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},j.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:x(e[r]));e=n}return j(e,t)},j.equals=function(e,t){return e&&t?j(e).toRgbString()==j(t).toRgbString():!1},j.random=function(){return j.fromRatio({r:$(),g:$(),b:$()})},j.mix=function(e,t,n){n=0===n?0:n||50;var r,i=j(e).toRgb(),o=j(t).toRgb(),s=n/100,a=2*s-1,l=o.a-i.a;r=a*l==-1?a:(a+l)/(1+a*l),r=(r+1)/2;var u=1-r,c={r:o.r*r+i.r*u,g:o.g*r+i.g*u,b:o.b*r+i.b*u,a:o.a*s+i.a*(1-s)};return j(c)},j.readability=function(e,t){var n=j(e),r=j(t),i=n.toRgb(),o=r.toRgb(),s=n.getBrightness(),a=r.getBrightness(),l=Math.max(i.r,o.r)-Math.min(i.r,o.r)+Math.max(i.g,o.g)-Math.min(i.g,o.g)+Math.max(i.b,o.b)-Math.min(i.b,o.b);return{brightness:Math.abs(s-a),color:l}},j.isReadable=function(e,t){var n=j.readability(e,t);return n.brightness>125&&n.color>500},j.mostReadable=function(e,t){for(var n=null,r=0,i=!1,o=0;o<t.length;o++){var s=j.readability(e,t[o]),a=s.brightness>125&&s.color>500,l=3*(s.brightness/125)+s.color/500;(a&&!i||a&&i&&l>r||!a&&!i&&l>r)&&(i=a,r=l,n=j(t[o]))}return n};var H=j.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=j.hexNames=_(H),V=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=j}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}),function(e){function t(e){var t=e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return null!=e&&e==e.window},n.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[s.call(e)]||"object":typeof e},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(t in e);return void 0===t||o.call(e,t)},n.each=function(e,n,r){var i,o=0,s=e.length,a=t(e);if(r){if(a)for(;s>o&&(i=n.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=n.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=n.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=n.call(e[o],o,e[o]),i===!1)break;return e},n.data=function(e,t,i){if(void 0===i){var o=e[n.expando],s=o&&r[o];if(void 0===t)return s;if(s&&t in s)return s[t]}else if(void 0!==t){var o=e[n.expando]||(e[n.expando]=++n.uuid);return r[o]=r[o]||{},r[o][t]=i,i}},n.removeData=function(e,t){var i=e[n.expando],o=i&&r[i];o&&n.each(t,function(e,t){delete o[t]})},n.extend=function(){var e,t,r,i,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),l===u&&(a=this,l--);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=a[i],r=o[i],a!==r&&(c&&r&&(n.isPlainObject(r)||(t=n.isArray(r)))?(t?(t=!1,s=e&&n.isArray(e)?e:[]):s=e&&n.isPlainObject(e)?e:{},a[i]=n.extend(c,s,r)):void 0!==r&&(a[i]=r));return a},n.queue=function(e,r,i){function o(e,n){var r=n||[];return null!=e&&(t(Object(e))?!function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e}(r,"string"==typeof e?[e]:e):[].push.call(r,e)),r}if(e){r=(r||"fx")+"queue";var s=n.data(e,r);return i?(!s||n.isArray(i)?s=n.data(e,r,o(i)):s.push(i),s):s||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,r){t=t||"fx";var i=n.queue(r,t),o=i.shift();"inprogress"===o&&(o=i.shift()),o&&("fx"===t&&i.unshift("inprogress"),o.call(r,function(){n.dequeue(r,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),r=this.offset(),i=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:n(e).offset();return r.top-=parseFloat(t.style.marginTop)||0,r.left-=parseFloat(t.style.marginLeft)||0,e.style&&(i.top+=parseFloat(e.style.borderTopWidth)||0,i.left+=parseFloat(e.style.borderLeftWidth)||0),{top:r.top-i.top,left:r.left-i.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var i={},o=i.hasOwnProperty,s=i.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<a.length;l++)i["[object "+a[l]+"]"]=a[l].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,n,r){function i(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function o(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function s(e){var t=h.data(e,"velocity");return null===t?r:t}function a(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,n,r,i){function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,n){return((o(t,n)*e+s(t,n))*e+a(t))*e}function u(e,t,n){return 3*o(t,n)*e*e+2*s(t,n)*e+a(t)}function c(t,n){for(var i=0;m>i;++i){var o=u(n,e,r);if(0===o)return n;var s=l(n,e,r)-t;n-=s/o}return n}function d(){for(var t=0;y>t;++t)C[t]=l(t*E,e,r)}function h(t,n,i){var o,s,a=0;do s=n+(i-n)/2,o=l(s,e,r)-t,o>0?i=s:n=s;while(Math.abs(o)>v&&++a<b);return s}function f(t){for(var n=0,i=1,o=y-1;i!=o&&C[i]<=t;++i)n+=E;--i;var s=(t-C[i])/(C[i+1]-C[i]),a=n+s*E,l=u(a,e,r);return l>=g?c(t,a):0==l?a:h(t,n,n+E)}function p(){O=!0,(e!=n||r!=i)&&d()}var m=4,g=.001,v=1e-7,b=10,y=11,E=1/(y-1),_="Float32Array"in t;if(4!==arguments.length)return!1;for(var T=0;4>T;++T)if("number"!=typeof arguments[T]||isNaN(arguments[T])||!isFinite(arguments[T]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var C=_?new Float32Array(y):new Array(y),O=!1,I=function(t){return O||p(),e===n&&r===i?t:0===t?0:1===t?1:l(f(t),n,i)};I.getControlPoints=function(){return[{x:e,y:n},{x:r,y:i}]};var D="generateBezier("+[e,n,r,i]+")";return I.toString=function(){return D},I}function u(e,t){var n=e;return m.isString(e)?y.Easings[e]||(n=!1):n=m.isArray(e)&&1===e.length?a.apply(null,e):m.isArray(e)&&2===e.length?E.apply(null,e.concat([t])):m.isArray(e)&&4===e.length?l.apply(null,e):!1,n===!1&&(n=y.Easings[y.defaults.easing]?y.defaults.easing:b),n}function c(e){if(e){var t=(new Date).getTime(),n=y.State.calls.length;n>1e4&&(y.State.calls=i(y.State.calls));for(var o=0;n>o;o++)if(y.State.calls[o]){var a=y.State.calls[o],l=a[0],u=a[2],f=a[3],p=!!f,g=null;f||(f=y.State.calls[o][3]=t-16);for(var v=Math.min((t-f)/u.duration,1),b=0,E=l.length;E>b;b++){var T=l[b],O=T.element;if(s(O)){var I=!1;if(u.display!==r&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var D=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];h.each(D,function(e,t){_.setPropertyValue(O,"display",t)})}_.setPropertyValue(O,"display",u.display)}u.visibility!==r&&"hidden"!==u.visibility&&_.setPropertyValue(O,"visibility",u.visibility);for(var R in T)if("element"!==R){var w,x=T[R],k=m.isString(x.easing)?y.Easings[x.easing]:x.easing;if(1===v)w=x.endValue;else{var S=x.endValue-x.startValue;if(w=x.startValue+S*k(v,u,S),!p&&w===x.currentValue)continue}if(x.currentValue=w,"tween"===R)g=w;else{if(_.Hooks.registered[R]){var K=_.Hooks.getRoot(R),N=s(O).rootPropertyValueCache[K];N&&(x.rootPropertyValue=N)}var A=_.setPropertyValue(O,R,x.currentValue+(0===parseFloat(w)?"":x.unitType),x.rootPropertyValue,x.scrollData);_.Hooks.registered[R]&&(s(O).rootPropertyValueCache[K]=_.Normalizations.registered[K]?_.Normalizations.registered[K]("extract",null,A[1]):A[1]),"transform"===A[0]&&(I=!0)}}u.mobileHA&&s(O).transformCache.translate3d===r&&(s(O).transformCache.translate3d="(0px, 0px, 0px)",I=!0),I&&_.flushTransformCache(O)}}u.display!==r&&"none"!==u.display&&(y.State.calls[o][2].display=!1),u.visibility!==r&&"hidden"!==u.visibility&&(y.State.calls[o][2].visibility=!1),u.progress&&u.progress.call(a[1],a[1],v,Math.max(0,f+u.duration-t),f,g),1===v&&d(o)}}y.State.isTicking&&C(c)}function d(e,t){if(!y.State.calls[e])return!1;for(var n=y.State.calls[e][0],i=y.State.calls[e][1],o=y.State.calls[e][2],a=y.State.calls[e][4],l=!1,u=0,c=n.length;c>u;u++){var d=n[u].element;if(t||o.loop||("none"===o.display&&_.setPropertyValue(d,"display",o.display),"hidden"===o.visibility&&_.setPropertyValue(d,"visibility",o.visibility)),o.loop!==!0&&(h.queue(d)[1]===r||!/\.velocityQueueEntryFlag/i.test(h.queue(d)[1]))&&s(d)){s(d).isAnimating=!1,s(d).rootPropertyValueCache={};var f=!1;h.each(_.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,i=s(d).transformCache[t];s(d).transformCache[t]!==r&&new RegExp("^\\("+n+"[^.]").test(i)&&(f=!0,delete s(d).transformCache[t])}),o.mobileHA&&(f=!0,delete s(d).transformCache.translate3d),f&&_.flushTransformCache(d),_.Values.removeClass(d,"velocity-animating")}if(!t&&o.complete&&!o.loop&&u===c-1)try{o.complete.call(i,i)}catch(p){setTimeout(function(){throw p},1)}a&&o.loop!==!0&&a(i),s(d)&&o.loop===!0&&!t&&(h.each(s(d).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),y(d,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&h.dequeue(d,o.queue)}y.State.calls[e]=!1;for(var m=0,g=y.State.calls.length;g>m;m++)if(y.State.calls[m]!==!1){l=!0;break}l===!1&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var h,f=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return r}(),p=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-e)),e=r+n,setTimeout(function(){t(r+n)},n)}}(),m={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==r&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},g=!1;if(e.fn&&e.fn.jquery?(h=e,g=!0):h=t.Velocity.Utilities,8>=f&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=f)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,b="swing",y={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:h,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:b,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){h.data(e,"velocity",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==r?(y.State.scrollAnchor=t,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var E=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),s=t(n,.5*r,o),a=t(n,r,s),l=1/6*(i.dx+2*(o.dx+s.dx)+a.dx),u=1/6*(i.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function r(e,t,i){var o,s,a,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,d=1e-4,h=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,l.tension=e,l.friction=t,o=null!==i,o?(c=r(e,t),s=c/i*h):s=h;;)if(a=n(a||l,s),u.push(1+a.x),c+=16,!(Math.abs(a.x)>d&&Math.abs(a.v)>d))break;return o?function(e){return u[e*(u.length-1)|0]}:c}}();y.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},h.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){
y.Easings[t[0]]=l.apply(null,t[1])});var _=y.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<_.Lists.colors.length;e++){var t="color"===_.Lists.colors[e]?"0 0 0 1":"255 255 255 1";_.Hooks.templates[_.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,r,i;if(f)for(n in _.Hooks.templates){r=_.Hooks.templates[n],i=r[0].split(" ");var o=r[1].match(_.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),_.Hooks.templates[n]=[i.join(" "),o.join(" ")])}for(n in _.Hooks.templates){r=_.Hooks.templates[n],i=r[0].split(" ");for(var e in i){var s=n+i[e],a=e;_.Hooks.registered[s]=[n,a]}}},getRoot:function(e){var t=_.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return _.RegEx.valueUnwrap.test(t)&&(t=t.match(_.RegEx.valueUnwrap)[1]),_.Values.isCSSNullValue(t)&&(t=_.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=_.Hooks.registered[e];if(n){var r=n[0],i=n[1];return t=_.Hooks.cleanRootPropertyValue(r,t),t.toString().match(_.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,n){var r=_.Hooks.registered[e];if(r){var i,o,s=r[0],a=r[1];return n=_.Hooks.cleanRootPropertyValue(s,n),i=n.toString().match(_.RegEx.valueSplit),i[a]=t,o=i.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return _.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(_.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return y.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var i=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=i?i[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(8>=f)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=f||y.State.isGingerbread||(_.Lists.transformsBase=_.Lists.transformsBase.concat(_.Lists.transforms3D));for(var e=0;e<_.Lists.transformsBase.length;e++)!function(){var t=_.Lists.transformsBase[e];_.Normalizations.registered[t]=function(e,n,i){switch(e){case"name":return"transform";case"extract":return s(n)===r||s(n).transformCache[t]===r?/^scale/i.test(t)?1:0:s(n).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":y.State.isAndroid&&s(n).transformCache[t]===r&&1>i&&(i=1),o=!/(\d)$/i.test(i);break;case"skew":o=!/(deg|\d)$/i.test(i);break;case"rotate":o=!/(deg|\d)$/i.test(i)}return o||(s(n).transformCache[t]="("+i+")"),s(n).transformCache[t]}}}();for(var e=0;e<_.Lists.colors.length;e++)!function(){var t=_.Lists.colors[e];_.Normalizations.registered[t]=function(e,n,i){switch(e){case"name":return t;case"extract":var o;if(_.RegEx.wrappedValueAlreadyExtracted.test(i))o=i;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?s=a[i]!==r?a[i]:a.black:_.RegEx.isHex.test(i)?s="rgb("+_.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(s=a.black),o=(s||i).toString().match(_.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=f||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=f?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=f?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(f||y.State.isAndroid&&!y.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(y.State.prefixMatches[e])return[y.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;r>n;n++){var i;if(i=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),m.isString(y.State.prefixElement.style[i]))return y.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,r){return t+t+n+n+r+r}),t=r.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,n,i,o){function a(e,n){function i(){u&&_.setPropertyValue(e,"display","none")}var l=0;if(8>=f)l=h.css(e,n);else{var u=!1;if(/^(width|height)$/.test(n)&&0===_.getPropertyValue(e,"display")&&(u=!0,_.setPropertyValue(e,"display",_.Values.getDisplayType(e))),!o){if("height"===n&&"border-box"!==_.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(_.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(_.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(_.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(_.getPropertyValue(e,"paddingBottom"))||0);return i(),c}if("width"===n&&"border-box"!==_.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetWidth-(parseFloat(_.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(_.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(_.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(_.getPropertyValue(e,"paddingRight"))||0);return i(),d}}var p;p=s(e)===r?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),l=9===f&&"filter"===n?p.getPropertyValue(n):p[n],(""===l||null===l)&&(l=e.style[n]),i()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var m=a(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(n))&&(l=h(e).position()[n]+"px")}return l}var l;if(_.Hooks.registered[n]){var u=n,c=_.Hooks.getRoot(u);i===r&&(i=_.getPropertyValue(e,_.Names.prefixCheck(c)[0])),_.Normalizations.registered[c]&&(i=_.Normalizations.registered[c]("extract",e,i)),l=_.Hooks.extractValue(u,i)}else if(_.Normalizations.registered[n]){var d,p;d=_.Normalizations.registered[n]("name",e),"transform"!==d&&(p=a(e,_.Names.prefixCheck(d)[0]),_.Values.isCSSNullValue(p)&&_.Hooks.templates[n]&&(p=_.Hooks.templates[n][1])),l=_.Normalizations.registered[n]("extract",e,p)}if(!/^[\d-]/.test(l))if(s(e)&&s(e).isSVG&&_.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=e.getBBox()[n]}catch(m){l=0}else l=e.getAttribute(n);else l=a(e,_.Names.prefixCheck(n)[0]);return _.Values.isCSSNullValue(l)&&(l=0),y.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,r,i,o){var a=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=r:"Left"===o.direction?t.scrollTo(r,o.alternateValue):t.scrollTo(o.alternateValue,r);else if(_.Normalizations.registered[n]&&"transform"===_.Normalizations.registered[n]("name",e))_.Normalizations.registered[n]("inject",e,r),a="transform",r=s(e).transformCache[n];else{if(_.Hooks.registered[n]){var l=n,u=_.Hooks.getRoot(n);i=i||_.getPropertyValue(e,u),r=_.Hooks.injectValue(l,r,i),n=u}if(_.Normalizations.registered[n]&&(r=_.Normalizations.registered[n]("inject",e,r),n=_.Normalizations.registered[n]("name",e)),a=_.Names.prefixCheck(n)[0],8>=f)try{e.style[a]=r}catch(c){y.debug&&console.log("Browser does not support ["+r+"] for ["+a+"]")}else s(e)&&s(e).isSVG&&_.Names.SVGAttribute(n)?e.setAttribute(n,r):e.style[a]=r;y.debug>=2&&console.log("Set "+n+" ("+a+"): "+r)}return[a,r]},flushTransformCache:function(e){function t(t){return parseFloat(_.getPropertyValue(e,t))}var n="";if((f||y.State.isAndroid&&!y.State.isChrome)&&s(e).isSVG){var r={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};h.each(s(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(n+=e+"("+r[e].join(" ")+") ",delete r[e])})}else{var i,o;h.each(s(e).transformCache,function(t){return i=s(e).transformCache[t],"transformPerspective"===t?(o=i,!0):(9===f&&"rotateZ"===t&&(t="rotate"),void(n+=t+i+" "))}),o&&(n="perspective"+o+" "+n)}_.setPropertyValue(e,"transform",n)}};_.Hooks.register(),_.Normalizations.register(),y.hook=function(e,t,n){var i=r;return e=o(e),h.each(e,function(e,o){if(s(o)===r&&y.init(o),n===r)i===r&&(i=y.CSS.getPropertyValue(o,t));else{var a=y.CSS.setPropertyValue(o,t,n);"transform"===a[0]&&y.CSS.flushTransformCache(o),i=a}}),i};var T=function(){function e(){return a?R.promise||null:l}function i(){function e(e){function d(e,t){var n=r,i=r,s=r;return m.isArray(e)?(n=e[0],!m.isArray(e[1])&&/^[\d-]/.test(e[1])||m.isFunction(e[1])||_.RegEx.isHex.test(e[1])?s=e[1]:(m.isString(e[1])&&!_.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(i=t?e[1]:u(e[1],a.duration),e[2]!==r&&(s=e[2]))):n=e,t||(i=i||a.easing),m.isFunction(n)&&(n=n.call(o,O,C)),m.isFunction(s)&&(s=s.call(o,O,C)),[n||0,i,s]}function f(e,t){var n,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=_.Values.getUnitType(e)),[r,n]}function v(){var e={myParent:o.parentNode||n.body,position:_.getPropertyValue(o,"position"),fontSize:_.getPropertyValue(o,"fontSize")},r=e.position===A.lastPosition&&e.myParent===A.lastParent,i=e.fontSize===A.lastFontSize;A.lastParent=e.myParent,A.lastPosition=e.position,A.lastFontSize=e.fontSize;var a=100,l={};if(i&&r)l.emToPx=A.lastEmToPx,l.percentToPxWidth=A.lastPercentToPxWidth,l.percentToPxHeight=A.lastPercentToPxHeight;else{var u=s(o).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");y.init(u),e.myParent.appendChild(u),h.each(["overflow","overflowX","overflowY"],function(e,t){y.CSS.setPropertyValue(u,t,"hidden")}),y.CSS.setPropertyValue(u,"position",e.position),y.CSS.setPropertyValue(u,"fontSize",e.fontSize),y.CSS.setPropertyValue(u,"boxSizing","content-box"),h.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){y.CSS.setPropertyValue(u,t,a+"%")}),y.CSS.setPropertyValue(u,"paddingLeft",a+"em"),l.percentToPxWidth=A.lastPercentToPxWidth=(parseFloat(_.getPropertyValue(u,"width",null,!0))||1)/a,l.percentToPxHeight=A.lastPercentToPxHeight=(parseFloat(_.getPropertyValue(u,"height",null,!0))||1)/a,l.emToPx=A.lastEmToPx=(parseFloat(_.getPropertyValue(u,"paddingLeft"))||1)/a,e.myParent.removeChild(u)}return null===A.remToPx&&(A.remToPx=parseFloat(_.getPropertyValue(n.body,"fontSize"))||16),null===A.vwToPx&&(A.vwToPx=parseFloat(t.innerWidth)/100,A.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=A.remToPx,l.vwToPx=A.vwToPx,l.vhToPx=A.vhToPx,y.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),o),l}if(a.begin&&0===O)try{a.begin.call(p,p)}catch(E){setTimeout(function(){throw E},1)}if("scroll"===w){var T,I,D,x=/^x$/i.test(a.axis)?"Left":"Top",k=parseFloat(a.offset)||0;a.container?m.isWrapped(a.container)||m.isNode(a.container)?(a.container=a.container[0]||a.container,T=a.container["scroll"+x],D=T+h(o).position()[x.toLowerCase()]+k):a.container=null:(T=y.State.scrollAnchor[y.State["scrollProperty"+x]],I=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===x?"Top":"Left")]],D=h(o).offset()[x.toLowerCase()]+k),l={scroll:{rootPropertyValue:!1,startValue:T,currentValue:T,endValue:D,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:x,alternateValue:I}},element:o},y.debug&&console.log("tweensContainer (scroll): ",l.scroll,o)}else if("reverse"===w){if(!s(o).tweensContainer)return void h.dequeue(o,a.queue);"none"===s(o).opts.display&&(s(o).opts.display="auto"),"hidden"===s(o).opts.visibility&&(s(o).opts.visibility="visible"),s(o).opts.loop=!1,s(o).opts.begin=null,s(o).opts.complete=null,b.easing||delete a.easing,b.duration||delete a.duration,a=h.extend({},s(o).opts,a);var S=h.extend(!0,{},s(o).tweensContainer);for(var K in S)if("element"!==K){var N=S[K].startValue;S[K].startValue=S[K].currentValue=S[K].endValue,S[K].endValue=N,m.isEmptyObject(b)||(S[K].easing=a.easing),y.debug&&console.log("reverse tweensContainer ("+K+"): "+JSON.stringify(S[K]),o)}l=S}else if("start"===w){var S;s(o).tweensContainer&&s(o).isAnimating===!0&&(S=s(o).tweensContainer),h.each(g,function(e,t){if(RegExp("^"+_.Lists.colors.join("$|^")+"$").test(e)){var n=d(t,!0),i=n[0],o=n[1],s=n[2];if(_.RegEx.isHex.test(i)){for(var a=["Red","Green","Blue"],l=_.Values.hexToRgb(i),u=s?_.Values.hexToRgb(s):r,c=0;c<a.length;c++){var h=[l[c]];o&&h.push(o),u!==r&&h.push(u[c]),g[e+a[c]]=h}delete g[e]}}});for(var L in g){var M=d(g[L]),F=M[0],B=M[1],$=M[2];L=_.Names.camelCase(L);var j=_.Hooks.getRoot(L),H=!1;if(s(o).isSVG||"tween"===j||_.Names.prefixCheck(j)[1]!==!1||_.Normalizations.registered[j]!==r){(a.display!==r&&null!==a.display&&"none"!==a.display||a.visibility!==r&&"hidden"!==a.visibility)&&/opacity|filter/.test(L)&&!$&&0!==F&&($=0),a._cacheValues&&S&&S[L]?($===r&&($=S[L].endValue+S[L].unitType),H=s(o).rootPropertyValueCache[j]):_.Hooks.registered[L]?$===r?(H=_.getPropertyValue(o,j),$=_.getPropertyValue(o,L,H)):H=_.Hooks.templates[j][1]:$===r&&($=_.getPropertyValue(o,L));var z,V,q,U=!1;if(z=f(L,$),$=z[0],q=z[1],z=f(L,F),F=z[0].replace(/^([+-\/*])=/,function(e,t){return U=t,""}),V=z[1],$=parseFloat($)||0,F=parseFloat(F)||0,"%"===V&&(/^(fontSize|lineHeight)$/.test(L)?(F/=100,V="em"):/^scale/.test(L)?(F/=100,V=""):/(Red|Green|Blue)$/i.test(L)&&(F=F/100*255,V="")),/[\/*]/.test(U))V=q;else if(q!==V&&0!==$)if(0===F)V=q;else{i=i||v();var W=/margin|padding|left|right|width|text|word|letter/i.test(L)||/X$/.test(L)||"x"===L?"x":"y";switch(q){case"%":$*="x"===W?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:$*=i[q+"ToPx"]}switch(V){case"%":$*=1/("x"===W?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:$*=1/i[V+"ToPx"]}}switch(U){case"+":F=$+F;break;case"-":F=$-F;break;case"*":F=$*F;break;case"/":F=$/F}l[L]={rootPropertyValue:H,startValue:$,currentValue:$,endValue:F,unitType:V,easing:B},y.debug&&console.log("tweensContainer ("+L+"): "+JSON.stringify(l[L]),o)}else y.debug&&console.log("Skipping ["+j+"] due to a lack of browser support.")}l.element=o}l.element&&(_.Values.addClass(o,"velocity-animating"),P.push(l),""===a.queue&&(s(o).tweensContainer=l,s(o).opts=a),s(o).isAnimating=!0,O===C-1?(y.State.calls.push([P,p,a,null,R.resolver]),y.State.isTicking===!1&&(y.State.isTicking=!0,c())):O++)}var i,o=this,a=h.extend({},y.defaults,b),l={};switch(s(o)===r&&y.init(o),parseFloat(a.delay)&&a.queue!==!1&&h.queue(o,a.queue,function(e){y.velocityQueueEntryFlag=!0,s(o).delayTimer={setTimeout:setTimeout(e,parseFloat(a.delay)),next:e}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=v;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}y.mock!==!1&&(y.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(y.mock)||1,a.delay*=parseFloat(y.mock)||1)),a.easing=u(a.easing,a.duration),a.begin&&!m.isFunction(a.begin)&&(a.begin=null),a.progress&&!m.isFunction(a.progress)&&(a.progress=null),a.complete&&!m.isFunction(a.complete)&&(a.complete=null),a.display!==r&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=y.CSS.Values.getDisplayType(o))),a.visibility!==r&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,a.queue===!1?a.delay?setTimeout(e,a.delay):e():h.queue(o,a.queue,function(t,n){return n===!0?(R.promise&&R.resolver(p),!0):(y.velocityQueueEntryFlag=!0,void e(t))}),""!==a.queue&&"fx"!==a.queue||"inprogress"===h.queue(o)[0]||h.dequeue(o)}var a,l,f,p,g,b,E=arguments[0]&&(arguments[0].p||h.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(a=!1,f=0,p=this,l=this):(a=!0,f=1,p=E?arguments[0].elements||arguments[0].e:arguments[0]),p=o(p)){E?(g=arguments[0].properties||arguments[0].p,b=arguments[0].options||arguments[0].o):(g=arguments[f],b=arguments[f+1]);var C=p.length,O=0;if(!/^(stop|finish)$/i.test(g)&&!h.isPlainObject(b)){var I=f+1;b={};for(var D=I;D<arguments.length;D++)m.isArray(arguments[D])||!/^(fast|normal|slow)$/i.test(arguments[D])&&!/^\d/.test(arguments[D])?m.isString(arguments[D])||m.isArray(arguments[D])?b.easing=arguments[D]:m.isFunction(arguments[D])&&(b.complete=arguments[D]):b.duration=arguments[D]}var R={promise:null,resolver:null,rejecter:null};a&&y.Promise&&(R.promise=new y.Promise(function(e,t){R.resolver=e,R.rejecter=t}));var w;switch(g){case"scroll":w="scroll";break;case"reverse":w="reverse";break;case"finish":case"stop":h.each(p,function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer)});var x=[];return h.each(y.State.calls,function(e,t){t&&h.each(t[1],function(n,i){var o=b===r?"":b;return o===!0||t[2].queue===o||b===r&&t[2].queue===!1?void h.each(p,function(n,r){r===i&&((b===!0||m.isString(b))&&(h.each(h.queue(r,m.isString(b)?b:""),function(e,t){m.isFunction(t)&&t(null,!0)}),h.queue(r,m.isString(b)?b:"",[])),"stop"===g?(s(r)&&s(r).tweensContainer&&o!==!1&&h.each(s(r).tweensContainer,function(e,t){t.endValue=t.currentValue}),x.push(e)):"finish"===g&&(t[2].duration=1))}):!0})}),"stop"===g&&(h.each(x,function(e,t){d(t,!0)}),R.promise&&R.resolver(p)),e();default:if(!h.isPlainObject(g)||m.isEmptyObject(g)){if(m.isString(g)&&y.Redirects[g]){var k=h.extend({},b),S=k.duration,K=k.delay||0;return k.backwards===!0&&(p=h.extend(!0,[],p).reverse()),h.each(p,function(e,t){parseFloat(k.stagger)?k.delay=K+parseFloat(k.stagger)*e:m.isFunction(k.stagger)&&(k.delay=K+k.stagger.call(t,e,C)),k.drag&&(k.duration=parseFloat(S)||(/^(callout|transition)/.test(g)?1e3:v),k.duration=Math.max(k.duration*(k.backwards?1-e/C:(e+1)/C),.75*k.duration,200)),y.Redirects[g].call(t,t,k||{},e,C,p,R.promise?R:r)}),e()}var N="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return R.promise?R.rejecter(new Error(N)):console.log(N),e()}w="start"}var A={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},P=[];h.each(p,function(e,t){m.isNode(t)&&i.call(t)});var L,k=h.extend({},y.defaults,b);if(k.loop=parseInt(k.loop),L=2*k.loop-1,k.loop)for(var M=0;L>M;M++){var F={delay:k.delay,progress:k.progress};M===L-1&&(F.display=k.display,F.visibility=k.visibility,F.complete=k.complete),T(p,"reverse",F)}return e()}};y=h.extend(T,y),y.animate=T;var C=t.requestAnimationFrame||p;return y.State.isMobile||n.hidden===r||n.addEventListener("visibilitychange",function(){n.hidden?(C=function(e){return setTimeout(function(){e(!0)},16)},c()):C=t.requestAnimationFrame||p}),e.Velocity=y,e!==t&&(e.fn.velocity=T,e.fn.velocity.defaults=y.defaults),h.each(["Down","Up"],function(e,t){y.Redirects["slide"+t]=function(e,n,i,o,s,a){var l=h.extend({},n),u=l.begin,c=l.complete,d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},f={};l.display===r&&(l.display="Down"===t?"inline"===y.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){u&&u.call(s,s);for(var n in d){f[n]=e.style[n];var r=y.CSS.getPropertyValue(e,n);d[n]="Down"===t?[r,0]:[0,r]}f.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in f)e.style[t]=f[t];c&&c.call(s,s),a&&a.resolver(s)},y(e,d,l)}}),h.each(["In","Out"],function(e,t){y.Redirects["fade"+t]=function(e,n,i,o,s,a){var l=h.extend({},n),u={opacity:"In"===t?1:0},c=l.complete;l.complete=i!==o-1?l.begin=null:function(){c&&c.call(s,s),a&&a.resolver(s)},l.display===r&&(l.display="In"===t?"auto":"none"),y(this,u,l)}}),y}(window.jQuery||window.Zepto||window,window,document)}),!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){r.trigger("closed").remove()}var r,i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=e(o),t&&t.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(t=e.Event("close")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.on(e.support.transition.end,n):n())},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new t(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),o=this;if(!(t>r.length-1||0>t))return this.sliding?this.$element.one("slid",function(){o.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),o=this.interval,s="next"==t?"left":"right",a="next"==t?"first":"last",l=this,u=e.Event("slide",{relatedTarget:i[0]});if(this.sliding=!0,o&&this.pause(),i=i.length?i:this.$element.find(".item")[a](),!i.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(u),u.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(s),i.addClass(s),this.$element.one(e.support.transition.end,function(){i.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(u),u.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),s="string"==typeof n?n:o.slide;i||r.data("carousel",i=new t(this,o)),"number"==typeof n?i.to(n):s?i[s]():o.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n,r=e(this),i=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=!i.data("modal")&&e.extend({},i.data(),r.data());i.carousel(o),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in"),r&&r.length){if(i=r.data("collapse"),i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,o=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),o="object"==typeof n&&n;i||r.data("collapse",i=new t(this,o)),"string"==typeof n&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,r=e(this),i=r.attr("data-target")||t.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(i).data("collapse")?"toggle":r.data();r[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(o)})})}(window.jQuery),!function(e){"use strict";function t(){n(e(r)).removeClass("open")}function n(t){var n,r=t.attr("data-target");return r||(r=t.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=e(r),n.length||(n=t.parent()),n}var r="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(r){var i,o,s=e(this);if(!s.is(".disabled, :disabled"))return i=n(s),o=i.hasClass("open"),t(),o||(i.toggleClass("open"),s.focus()),!1},keydown:function(t){var r,i,o,s,a;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(o=n(r),s=o.hasClass("open"),!s||s&&27==t.keyCode)return r.click();i=e("[role=menu] li:not(.divider) a",o),i.length&&(a=i.index(i.filter(":focus")),38==t.keyCode&&a>0&&a--,40==t.keyCode&&a<i.length-1&&a++,~a||(a=0),i.eq(a).focus())}}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",t),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),
this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(e.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),r?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),o=e.extend({},e.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new t(this,o)),"string"==typeof n?i[n]():o.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,o;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(i="hover"==this.options.trigger?"mouseenter":"focus",o="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var e,t,n,r,i,o,s;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(o),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight,t?o.split(" ")[1]:o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":s={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":s={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":s={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(s).addClass(o).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),o="object"==typeof n&&n;i||r.data("tooltip",i=new t(this,o)),"string"==typeof n&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),o="object"==typeof n&&n;i||r.data("popover",i=new t(this,o)),"string"==typeof n&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r,i=e.proxy(this.process,this),o=e(e(t).is("body")?window:t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(r=e(t).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(t>=r)return s!=(e=o.last()[0])&&this.activate(e);for(e=i.length;e--;)s!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),o="object"==typeof n&&n;i||r.data("scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,r,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=o.find(".active a").last()[0],r=e.Event("show",{relatedTarget:t}),i.trigger(r),r.isDefaultPrevented()||(n=e(s),this.activate(i.parent("li"),o),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),s=r&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,i):i(),o.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),"string"==typeof n&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],r=[],i=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?r.push(t):i.push(t):n.push(t);return n.concat(r,i)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.chrome||e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),o="object"==typeof n&&n;i||r.data("typeahead",i=new t(this,o)),"string"==typeof n&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||(t.preventDefault(),n.typeahead(n.data()))})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,s=o.bottom,a=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom()),t=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=n-s?"bottom":null!=a&&a>=r?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?i.top-r:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),o="object"==typeof n&&n;i||r.data("affix",i=new t(this,o)),"string"==typeof n&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){"use strict";e.fn.bootstrapSwitch=function(t){var n={init:function(){return this.each(function(){var t,n,r,i,o,s,a=e(this),l="",u=a.attr("class"),c="ON",d="OFF",h=!1;e.each(["switch-mini","switch-small","switch-large"],function(e,t){u.indexOf(t)>=0&&(l=t)}),a.addClass("has-switch"),void 0!==a.data("on")&&(o="switch-"+a.data("on")),void 0!==a.data("on-label")&&(c=a.data("on-label")),void 0!==a.data("off-label")&&(d=a.data("off-label")),void 0!==a.data("icon")&&(h=a.data("icon")),n=e("<span>").addClass("switch-left").addClass(l).addClass(o).html(c),o="",void 0!==a.data("off")&&(o="switch-"+a.data("off")),r=e("<span>").addClass("switch-right").addClass(l).addClass(o).html(d),i=e("<label>").html("&nbsp;").addClass(l).attr("for",a.find("input").attr("id")),h&&i.html('<i class="icon icon-'+h+'"></i>'),t=a.find(":checkbox").wrap(e("<div>")).parent().data("animated",!1),a.data("animated")!==!1&&t.addClass("switch-animate").data("animated",!0),t.append(n).append(i).append(r),a.find(">div").addClass(a.find("input").is(":checked")?"switch-on":"switch-off"),a.find("input").is(":disabled")&&e(this).addClass("deactivate");var f=function(e){e.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};a.on("keydown",function(t){32===t.keyCode&&(t.stopImmediatePropagation(),t.preventDefault(),f(e(t.target).find("span:first")))}),n.on("click",function(t){f(e(this))}),r.on("click",function(t){f(e(this))}),a.find("input").on("change",function(t){var n=e(this),r=n.parent(),i=n.is(":checked"),o=r.is(".switch-off");t.preventDefault(),r.css("left",""),o===i&&(i?r.removeClass("switch-off").addClass("switch-on"):r.removeClass("switch-on").addClass("switch-off"),r.data("animated")!==!1&&r.addClass("switch-animate"),r.parent().trigger("switch-change",{el:n,value:i}))}),a.find("label").on("mousedown touchstart",function(t){var n=e(this);s=!1,t.preventDefault(),t.stopImmediatePropagation(),n.closest("div").removeClass("switch-animate"),n.closest(".switch").is(".deactivate")?n.unbind("click"):(n.on("mousemove touchmove",function(t){var n=e(this).closest(".switch"),r=(t.pageX||t.originalEvent.targetTouches[0].pageX)-n.offset().left,i=r/n.width()*100,o=25,a=75;s=!0,o>i?i=o:i>a&&(i=a),n.find(">div").css("left",i-a+"%")}),n.on("click touchend",function(t){var n=e(this),r=e(t.target),i=r.siblings("input");t.stopImmediatePropagation(),t.preventDefault(),n.unbind("mouseleave"),s?i.prop("checked",!(parseInt(n.parent().css("left"))<-25)):i.prop("checked",!i.is(":checked")),s=!1,i.trigger("change")}),n.on("mouseleave",function(t){var n=e(this),r=n.siblings("input");t.preventDefault(),t.stopImmediatePropagation(),n.unbind("mouseleave"),n.trigger("mouseup"),r.prop("checked",!(parseInt(n.parent().css("left"))<-25)).trigger("change")}),n.on("mouseup",function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).unbind("mousemove")}))})})},toggleActivation:function(){e(this).toggleClass("deactivate")},isActive:function(){return!e(this).hasClass("deactivate")},setActive:function(t){t?e(this).removeClass("deactivate"):e(this).addClass("deactivate")},toggleState:function(t){var n=e(this).find("input:checkbox");n.prop("checked",!n.is(":checked")).trigger("change",t)},setState:function(t,n){e(this).find("input:checkbox").prop("checked",t).trigger("change",n)},status:function(){return e(this).find("input:checkbox").is(":checked")},destroy:function(){var t,n=e(this).find("div");return n.find(":not(input:checkbox)").remove(),t=n.children(),t.unwrap().unwrap(),t.unbind("change"),t}};return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist!"):n.init.apply(this,arguments)}}(jQuery),$(function(){$(".switch").bootstrapSwitch()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,o,s,a=t.nodeName.toLowerCase();return"area"===a?(i=t.parentNode,o=i.name,t.href&&o&&"map"===i.nodeName.toLowerCase()?(s=e("img[usemap='#"+o+"']")[0],!!s&&n(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,o){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(s){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,s,a,l={},u=t.split(".")[0];return t=t.split(".")[1],i=u+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[u]=e[u]||{},o=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(r,function(t,r){return e.isFunction(r)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=r)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var r,i,o=n.call(arguments,1),s=0,a=o.length;a>s;s++)for(r in o[s])i=o[s][r],o[s].hasOwnProperty(r)&&void 0!==i&&(t[r]=e.isPlainObject(i)?e.isPlainObject(t[r])?e.widget.extend({},t[r],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(l=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a),n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new r(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},r=t.split("."),t=r.shift(),r.length){for(i=s[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?i.delegate(c,u,a):n.bind(u,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,s=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var s,a=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),s=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&e.effects&&e.effects.effect[a]?r[t](i):a!==t&&r[a]?r[a](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return i&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance;

},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(r=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),r&&(!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i))?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,n,r){var i,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],o=this._intersectsWithPointer(r),o&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||r+u>a&&l>r+u,h="y"===this.options.axis||t+c>o&&s>t+c,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"===o||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var r,i,o,s,a=[],l=[],u=this._connectWith();if(u&&t)for(r=u.length-1;r>=0;r--)for(o=e(u[r],this.document[0]),i=o.length-1;i>=0;i--)s=e.data(o[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=l.length-1;r>=0;r--)l[r][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,s,a,l,u,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n],this.document[0]),r=i.length-1;r>=0;r--)o=e.data(i[r],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],r=0,u=a.length;u>r;r++)l=e(a[r]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,o;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){(!n||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,r,i,o,s,a,l,u,c,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(i=1e4,o=null,c=h.floating||this._isFloating(this.currentItem),s=c?"left":"top",a=c?"width":"height",d=c?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[s],u=!1,t[d]-l>this.items[r][a]/2&&(u=!0),Math.abs(t[d]-l)<i&&(i=Math.abs(t[d]-l),o=this.items[r],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;r<i.length;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){
this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],void(r&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i})),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+s.offsetHeight-t.pageY<i.scrollSensitivity?s.scrollTop=o=s.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+s.offsetWidth-t.pageX<i.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(a).scrollTop()<i.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<i.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(a).scrollLeft()<i.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<i.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+i.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,o,s,a,l,u,c,d,h,f,p=r.options,m=p.snapTolerance,g=n.offset.left,v=g+r.helperProportions.width,b=n.offset.top,y=b+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)l=r.snapElements[h].left-r.margins.left,u=l+r.snapElements[h].width,c=r.snapElements[h].top-r.margins.top,d=c+r.snapElements[h].height,l-m>v||g>u+m||c-m>y||b>d+m||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(c-y)<=m,o=Math.abs(d-b)<=m,s=Math.abs(l-v)<=m,a=Math.abs(u-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left)),f=i||o||s||a,"outer"!==p.snapMode&&(i=Math.abs(c-b)<=m,o=Math.abs(d-y)<=m,s=Math.abs(l-g)<=m,a=Math.abs(u-v)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||o||s||a||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||o||s||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(i=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],e):e(jQuery)}(function(e){return e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,r,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,h=c+n.proportions().height;switch(r){case"fit":return o>=u&&d>=a&&s>=c&&h>=l;case"intersect":return u<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&c<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(i.pageY,c,n.proportions().height)&&e(i.pageX,u,n.proportions().width);case"touch":return(s>=c&&h>=s||l>=c&&h>=l||c>s&&l>h)&&(o>=u&&d>=o||a>=u&&d>=a||u>o&&a>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;i<a.length;i++)if(a[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===s&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,s=e.ui.intersect(t,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(i=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i}),o.length&&(r=e(o[0]).droppable("instance"),r.greedyChild="isover"===a)),r&&"isover"===a&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),r&&"isout"===a&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable}),function(e,t,n){var r,i="mThumbnailScroller",o="mTS",s=".mThumbnailScroller",a={setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{buttonsPlaceholder:!1,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0,updateOnImageLoad:!0},theme:"none",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},l=0,u={},c=t.attachEvent&&!t.addEventListener?1:0,d=!1,h=["mTS_disabled","mTS_destroyed","mTS_no_scroll"],f={init:function(t){var t=e.extend(!0,{},a,t),n=p.call(this);if(t.live){var r=t.liveSelector||this.selector||s,i=e(r);if("off"===t.live)return void g(r);u[r]=setTimeout(function(){i.mThumbnailScroller(t),"once"===t.live&&i.length&&g(r)},500)}else g(r);return t.speed=0===t.speed?100:t.speed,m(t),e(n).each(function(){var n=e(this);if(!n.data(o)){n.data(o,{idx:++l,opt:t,html:null,overflowed:null,bindEvents:!1,tweenRunning:!1,langDir:n.css("direction"),cbOffsets:null,trigger:null});var r=n.data(o).opt,i=n.data("mts-axis"),s=n.data("mts-type"),a=n.data("mts-theme");i&&(r.axis=i),s&&(r.type=s),a&&(r.theme=a,m(r)),v.call(this),f.update.call(null,n)}})},update:function(t){var n=t||p.call(this);return e(n).each(function(){var t=e(this);if(t.data(o)){var n=t.data(o),r=n.opt,i=e("#mTS_"+n.idx+"_container");if(!i.length)return;n.tweenRunning&&F(t),t.hasClass(h[0])&&t.removeClass(h[0]),t.hasClass(h[1])&&t.removeClass(h[1]),T.call(this),b.call(this),n.overflowed=C.call(this),R.call(this),I.call(this);var s=[i[0].offsetTop,i[0].offsetLeft];"x"!==r.axis&&(n.overflowed[0]?B(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(O.call(this),"y"===r.axis?D.call(this):"yx"===r.axis&&n.overflowed[1]&&B(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(n.overflowed[1]?B(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(O.call(this),"x"===r.axis?D.call(this):"yx"===r.axis&&n.overflowed[0]&&B(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n.overflowed[0]||n.overflowed[1]?t.removeClass(h[2]):t.addClass(h[2]),M.call(this)}})},scrollTo:function(t,n){if("undefined"!=typeof t&&null!=t){var r=p.call(this);return e(r).each(function(){var r=e(this);if(r.data(o)){var i=r.data(o),s=i.opt,a={trigger:"external",speed:s.speed,duration:1e3,easing:"easeInOut",timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},a,n),u=P.call(this,t),c=l.duration?l.duration:7e3/(l.speed||1);u[0]=L.call(this,u[0],"y"),u[1]=L.call(this,u[1],"x"),l.dur=c>0&&17>c?17:c,setTimeout(function(){null!==u[0]&&"undefined"!=typeof u[0]&&"x"!==s.axis&&i.overflowed[0]&&(l.dir="y",l.overwrite="all",B(r,-u[0].toString(),l)),null!==u[1]&&"undefined"!=typeof u[1]&&"y"!==s.axis&&i.overflowed[1]&&(l.dir="x",l.overwrite="none",B(r,-u[1].toString(),l))},l.timeout)}})}},stop:function(){var t=p.call(this);return e(t).each(function(){var t=e(this);t.data(o)&&F(t)})},disable:function(t){var n=p.call(this);return e(n).each(function(){var n=e(this);if(n.data(o)){{var r=n.data(o);r.opt}M.call(this,"remove"),D.call(this),t&&O.call(this),R.call(this,!0),n.addClass(h[0])}})},destroy:function(){var t=p.call(this);return e(t).each(function(){var n=e(this);if(n.data(o)){var r=n.data(o),s=r.opt,a=e("#mTS_"+r.idx),l=(e("#mTS_"+r.idx+"_container"),e("#mTS_"+r.idx+"_buttonUp,#mTS_"+r.idx+"_buttonDown,#mTS_"+r.idx+"_buttonLeft,#mTS_"+r.idx+"_buttonRight"));s.live&&g(t),M.call(this,"remove"),D.call(this),O.call(this),n.removeData(o),z(this,"mts"),l.remove(),a.replaceWith(r.html),n.removeClass(i+" _"+o+"_"+r.idx+" "+o+"-"+s.theme+" "+h[2]+" "+h[0]).addClass(h[1])}})}},p=function(){return"object"!=typeof e(this)||e(this).length<1?s:this},m=function(t){var n=["buttons-out"],r=["buttons-in"],i=["buttons-out"],o=["hover-classic"],s=["hover-full"];t.markup.buttonsPlaceholder=e.inArray(t.theme,n)>-1?"outside":t.markup.buttonsPlaceholder,t.markup.buttonsHTML=e.inArray(t.theme,r)>-1?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:e.inArray(t.theme,i)>-1?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:t.markup.buttonsHTML,t.type=e.inArray(t.theme,o)>-1?"hover-85":e.inArray(t.theme,s)>-1?"hover-precise":t.type,t.speed=e.inArray(t.theme,o)>-1?60:e.inArray(t.theme,s)>-1?10:t.speed},g=function(e){u[e]&&(clearTimeout(u[e]),z(u,e))},v=function(){var t=e(this),n=t.data(o),r=n.opt,s="yx"===r.axis?"mTS_vertical_horizontal":"x"===r.axis?"mTS_horizontal":"mTS_vertical",a=r.markup.thumbnailsContainer||"ul",l=r.markup.thumbnailContainer||"li",u=r.markup.thumbnailElement||"img";if(n.html=t.children().clone(!0,!0),!t.find(a).length){var c=t.find("li").length?"<ul class='"+o+"AutoContainer' />":"<div class='"+o+"AutoContainer' />";t.wrapInner(c),a="."+o+"AutoContainer"}r.setWidth&&t.css("width",r.setWidth),r.setHeight&&t.css("height",r.setHeight),r.setLeft="y"!==r.axis&&"rtl"===n.langDir?"-989999px":r.setLeft,t.addClass(i+" _"+o+"_"+n.idx+" "+o+"-"+r.theme).find(a).wrap("<div id='mTS_"+n.idx+"' class='mTSWrapper "+s+"' />").addClass(o+"Container").attr("id","mTS_"+n.idx+"_container").css({position:"relative",top:r.setTop,left:r.setLeft}).find(l).addClass(o+"ThumbContainer").find(u).addClass(o+"Thumb"),y.call(this)},b=function(){var t=e(this),n=t.data(o),r=n.opt,i=e("#mTS_"+n.idx+"_container");r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()},y=function(){{var t=e(this),n=t.data(o),r=n.opt,s=r.markup.buttonsPlaceholder?"outside"===r.markup.buttonsPlaceholder?t:e(r.markup.buttonsPlaceholder):e("#mTS_"+n.idx),a=["<a href='#' id='mTS_"+n.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+E.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+n.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+E.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+n.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+E.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+n.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+E.call(this,"right")+"</span></a>"];["x"===r.axis?a[2]:a[0],"x"===r.axis?a[3]:a[1]]}s.hasClass(i)&&"static"===s.css("position")&&s.css("position","relative"),-1!==r.type.indexOf("click")&&("x"!==r.axis&&s.append(a[0]+a[1]),"y"!==r.axis&&s.append(a[2]+a[3]))},E=function(t){var n=e(this),r=n.data(o),i=r.opt,s=i.markup.buttonsHTML,a="SVG set 1"===s[t]?0:"SVG set 2"===s[t]?1:"SVG set 3"===s[t]?2:"SVG set 4"===s[t]?3:"SVG set 5"===s[t]?4:null;switch(t){case"up":return null===a?s[t]:c?"&uarr;":_(s[t])[a][0];case"down":return null===a?s[t]:c?"&darr;":_(s[t])[a][1];case"left":return null===a?s[t]:c?"&larr;":_(s[t])[a][2];case"right":return null===a?s[t]:c?"&rarr;":_(s[t])[a][3]}},_=function(){var e="<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g>",t="</svg>";return[[e+"<path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path>"+t,e+"<path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path>"+t,e+"<path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path>"+t,e+"<path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path>"+t],[e+"<path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path>"+t,e+"<path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path>"+t,e+"<path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path>"+t,e+"<path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path>"+t],[e+"<path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path>"+t,e+"<path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path>"+t,e+"<path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path>"+t,e+"<path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path>"+t],[e+"<path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path>"+t,e+"<path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path>"+t,e+"<path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path>"+t,e+"<path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path>"+t],[e+"<path d='M6.48 16.8h11.040l-5.521-9.6z'></path>"+t,e+"<path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path>"+t,e+"<path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path>"+t,e+"<path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path>"+t]]},T=function(){var t=e(this),n=t.data(o),r=(n.opt,e("#mTS_"+n.idx)),i=t.css("max-height"),s=-1!==i.indexOf("%"),a=t.css("box-sizing");if("none"!==i){var l=s?t.parent().height()*parseInt(i)/100:parseInt(i);"border-box"===a&&(l-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),r.css("max-height",Math.round(l))}},C=function(){var t=e(this),n=t.data(o),r=e("#mTS_"+n.idx),i=e("#mTS_"+n.idx+"_container");return[i.height()>r.height(),i.width()>r.width()]},O=function(){var t=e(this),n=t.data(o),r=n.opt,i=e("#mTS_"+n.idx),s=e("#mTS_"+n.idx+"_container");if(F(t),("x"!==r.axis&&!n.overflowed[0]||"y"===r.axis&&n.overflowed[0])&&s.css("top",0),"y"!==r.axis&&!n.overflowed[1]||"x"===r.axis&&n.overflowed[1]){var a="rtl"===n.langDir?i.width()-s.width():0;s.css("left",a)}},I=function(){var t=e(this),n=t.data(o),r=n.opt;n.bindEvents||(r.contentTouchScroll&&k.call(this),-1!==r.type.indexOf("hover")?"hover-precise"===r.type?S.call(this):K.call(this):-1!==r.type.indexOf("click")&&N.call(this),n.bindEvents=!0)},D=function(){var t=e(this),n=t.data(o),r=o+"_"+n.idx,i=e("#mTS_"+n.idx+",#mTS_"+n.idx+"_container,#mTS_"+n.idx+"_buttonUp,#mTS_"+n.idx+"_buttonDown,#mTS_"+n.idx+"_buttonLeft,#mTS_"+n.idx+"_buttonRight"),s=e("#mTS_"+n.idx+"_container");n.bindEvents&&(i.each(function(){e(this).unbind("."+r)}),clearTimeout(s[0].onCompleteTimeout),z(s[0],"onCompleteTimeout"),n.bindEvents=!1)},R=function(t,n,r){var i=e(this),s=i.data(o),a=s.opt;if(-1!==a.type.indexOf("click")){r||(r=a.axis);var l=[e("#mTS_"+s.idx+"_buttonUp"),e("#mTS_"+s.idx+"_buttonDown"),e("#mTS_"+s.idx+"_buttonLeft"),e("#mTS_"+s.idx+"_buttonRight")],u=o+"-hidden";"x"!==r&&(sel=!s.overflowed[0]||t||n?1===n?[l[0],l[1]]:2===n?[l[1],l[0]]:[l[0].add(l[1]),null]:[s.overflowed[1]?null:l[2].add(l[3]),l[0].add(l[1])]),"y"!==r&&(sel=!s.overflowed[1]||t||n?1===n?[l[2],l[3]]:2===n?[l[3],l[2]]:[l[2].add(l[3]),null]:[s.overflowed[0]?null:l[0].add(l[1]),l[2].add(l[3])]),sel[0]&&sel[0].addClass(u),sel[1]&&sel[1].removeClass(u)}},w=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];return[n.pageY,n.pageX];default:return[e.pageY,e.pageX]}},x=function(e){return r||-1!==e.type.indexOf("touch")||"undefined"!=typeof e.pointerType&&(2===e.pointerType||"touch"===e.pointerType)?"touch":"mouse"},k=function(){function t(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function n(e,t,n,r,i){e&&B(v,-e.toString(),{dur:t,easing:n,dir:r,overwrite:i})}var i,s,a,l,u,c,h,f,p,m,g,v=e(this),b=v.data(o),y=b.opt,E=o+"_"+b.idx,_=e("#mTS_"+b.idx),T=e("#mTS_"+b.idx+"_container"),C=[],O=[],I=0,D="yx"===y.axis?"none":"all",R=[];T.bind("touchstart."+E+" pointerdown."+E+" MSPointerDown."+E,function(e){if(q(e)&&!d){var t=T.offset();i=w(e)[0]-t.top,s=w(e)[1]-t.left,R=[w(e)[0],w(e)[1]]}}).bind("touchmove."+E+" pointermove."+E+" MSPointerMove."+E,function(e){if(q(e)&&!d){e.stopImmediatePropagation(),c=j();var t=_.offset(),r=w(e)[0]-t.top,o=w(e)[1]-t.left,a="linearOut";

if(C.push(r),O.push(o),R[2]=Math.abs(w(e)[0]-R[0]),R[3]=Math.abs(w(e)[1]-R[1]),b.overflowed[0])var l=_.height()-T.height(),u=i-r>0&&r-i>l&&2*R[3]<R[2];if(b.overflowed[1])var h=_.width()-T.width(),f=s-o>0&&o-s>h&&2*R[2]<R[3];(u||f)&&e.preventDefault(),m="yx"===y.axis?[i-r,s-o]:"x"===y.axis?[null,s-o]:[i-r,null],T[0].idleTimer=250,b.overflowed[0]&&n(m[0],I,a,"y","all"),b.overflowed[1]&&n(m[1],I,a,"x",D)}}),_.bind("touchstart."+E+" pointerdown."+E+" MSPointerDown."+E,function(e){if(q(e)&&!d){e.stopImmediatePropagation(),r=!0,F(v),u=j();var t=_.offset();a=w(e)[0]-t.top,l=w(e)[1]-t.left,C=[],O=[]}}).bind("touchend."+E+" pointerup."+E+" MSPointerUp."+E,function(e){if(q(e)&&!d){e.stopImmediatePropagation(),h=j();var r=_.offset(),i=w(e)[0]-r.top,o=w(e)[1]-r.left;if(!(h-c>30)){p=1e3/(h-u);var s="easeOut",v=2.5>p,E=v?[C[C.length-2],O[O.length-2]]:[0,0];f=v?[i-E[0],o-E[1]]:[i-a,o-l];var I=[Math.abs(f[0]),Math.abs(f[1])];p=v?[Math.abs(f[0]/4),Math.abs(f[1]/4)]:[p,p];var R=[Math.abs(T[0].offsetTop)-f[0]*t(I[0]/p[0],p[0]),Math.abs(T[0].offsetLeft)-f[1]*t(I[1]/p[1],p[1])];m="yx"===y.axis?[R[0],R[1]]:"x"===y.axis?[null,R[1]]:[R[0],null],g=[4*I[0]+60*y.speed,4*I[1]+60*y.speed];var x=parseInt(y.contentTouchScroll)||0;m[0]=I[0]>x?m[0]:0,m[1]=I[1]>x?m[1]:0,b.overflowed[0]&&n(m[0],g[0],s,"y",D),b.overflowed[1]&&n(m[1],g[1],s,"x",D)}}})},S=function(){var n,r,i,s=e(this),a=s.data(o),l=a.opt,u=o+"_"+a.idx,c=e("#mTS_"+a.idx),d=e("#mTS_"+a.idx+"_container"),h=t.navigator.pointerEnabled?"pointermove":t.navigator.msPointerEnabled?"MSPointerMove":"mousemove";c.bind(h+"."+u,function(e){if("touch"!==x(e.originalEvent||e)&&(a.overflowed[0]||a.overflowed[1])){e.preventDefault();var t=c.height(),o=d.height(),u=c.width(),h=d.width(),f=h/u*7e3/(l.speed||1);n=[w(e)[0]-c.offset().top,w(e)[1]-c.offset().left],r=[n[0]/c.height(),n[1]/c.width()],i=[Math.round(-((o-t)*r[0])),Math.round(-((h-u)*r[1]))],"x"!==l.axis&&a.overflowed[0]&&B(s,i[0].toString(),{dir:"y",dur:f,easing:"easeOut"}),"y"!==l.axis&&a.overflowed[1]&&B(s,i[1].toString(),{dir:"x",dur:f,easing:"easeOut"})}})},K=function(){function n(){g[0].rAF||(a=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return setTimeout(e,17)},g[0].rAF=a(s))}function i(){null!=g[0].rAF&&(t.requestAnimationFrame?t.cancelAnimationFrame(g[0].rAF):clearTimeout(g[0].rAF),clearTimeout(d),g[0].rAF=null)}function s(){if(!r){c=[u[0]+v[0].offsetTop,u[1]+v[0].offsetLeft];var e=[g.height()-v.height(),g.width()-v.width()];"x"!==p.axis&&f.overflowed[0]&&(c[0]=c[0]>0?0:c[0]<e[0]?e[0]:c[0],u[0]&&!C[0]&&B(h,c[0],{dir:"y",dur:0,easing:"linear"}),(c[0]>=0||c[0]<=e[0])&&(C[0]=1)),"y"!==p.axis&&f.overflowed[1]&&(c[1]=c[1]>0?0:c[1]<e[1]?e[1]:c[1],u[1]&&!C[1]&&B(h,c[1],{dir:"x",dur:0,easing:"linear"}),(c[1]>=0||c[1]<=e[1])&&(C[1]=1)),d=setTimeout(function(){g[0].rAF=a(s)},y)}}var a,l,u,c,d,h=e(this),f=h.data(o),p=f.opt,m=o+"_"+f.idx,g=e("#mTS_"+f.idx),v=e("#mTS_"+f.idx+"_container"),b=t.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:t.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],y=t.requestAnimationFrame?0:17,E=p.speed,_=parseInt(p.type.split("hover-")[1])||1,T=E*_/100,C=[0,0];g.bind(b[0]+"."+m,function(e){"touch"!==x(e.originalEvent||e)&&(f.overflowed[0]||f.overflowed[1])&&n()}).bind(b[1]+"."+m,function(e){"touch"!==x(e.originalEvent||e)&&(f.overflowed[0]||f.overflowed[1])&&(l=[w(e)[0]-g.offset().top,w(e)[1]-g.offset().left],u=[Math.round(Math.cos(l[0]/g.height()*Math.PI)*E),Math.round(Math.cos(l[1]/g.width()*Math.PI)*E)],u[0]=u[0]<=-T?u[0]+=T:u[0]>=T?u[0]-=T:u[0]=0,u[1]=u[1]<=-T?u[1]+=T:u[1]>=T?u[1]-=T:u[1]=0,C=[0,0])}).bind(b[2]+"."+m,function(e){"touch"!==x(e.originalEvent||e)&&(f.overflowed[0]||f.overflowed[1])&&i()})},N=function(){var t=e(this),n=t.data(o),r=n.opt,i=o+"_"+n.idx,s=e("#mTS_"+n.idx),a=e("#mTS_"+n.idx+"_container"),l=[e("#mTS_"+n.idx+"_buttonUp"),e("#mTS_"+n.idx+"_buttonDown"),e("#mTS_"+n.idx+"_buttonLeft"),e("#mTS_"+n.idx+"_buttonRight")],u=l[0].add(l[1]).add(l[2]).add(l[3]);u.bind("click."+i,function(i){if(V(i)&&(n.overflowed[0]||n.overflowed[1])&&(i.preventDefault(),!n.tweenRunning)){if("x"!==r.axis&&n.overflowed[0]){var o=s.height(),l="click-thumb"===r.type?0:e(this).hasClass("mTSButtonUp")?"+=":e(this).hasClass("mTSButtonDown")?"-=":0;if("click-thumb"!==r.type)var u=parseInt(r.type.split("click-")[1])||1,c=l?[l+o*u/100,null]:0;else{var d=A.call(t[0])[0],h=A.call(t[0])[1];if(e(this).hasClass("mTSButtonDown"))var c=h?h[0].offsetTop-parseInt(h.css("margin-bottom"))-o:989999;else if(e(this).hasClass("mTSButtonUp")){var c=d?d[0].offsetTop-parseInt(d.css("margin-top")):0;if(0===a[0].offsetTop)return}}}if("y"!==r.axis&&n.overflowed[1]){var p=s.width(),l="click-thumb"===r.type?0:e(this).hasClass("mTSButtonLeft")?"+=":e(this).hasClass("mTSButtonRight")?"-=":0;if("click-thumb"!==r.type)var u=parseInt(r.type.split("click-")[1])||1,c=l?[null,l+p*u/100]:c;else{var d=A.call(t[0])[2],h=A.call(t[0])[3];if(e(this).hasClass("mTSButtonRight"))var c=h?h[0].offsetLeft-parseInt(h.css("margin-right"))-p:989999;else if(e(this).hasClass("mTSButtonLeft")){var c=d?d[0].offsetLeft-parseInt(d.css("margin-left")):0;if(0===a[0].offsetLeft)return}}}null!==c&&f.scrollTo.call(t[0],c,{duration:0})}})},A=function(){var t,n,r,i,s=e(this),a=s.data(o),l=(a.opt,e("#mTS_"+a.idx+"_container")),u=e("#mTS_"+a.idx),c=l.find(".mTSThumbContainer");return c.each(function(){var o=e(this),s=[Math.round(o.offset().top-l.offset().top+l[0].offsetTop),Math.round(o.offset().left-l.offset().left+l[0].offsetLeft)];if(s[0]<=0-parseInt(o.css("margin-top")))t=c.eq(0===s[0]?o.index()-1:o.index());else if(s[0]<=u.height()+parseInt(o.css("margin-bottom"))){var a=c.eq(o.index()+1);n=a.length?a:null}if(s[1]<=0-parseInt(o.css("margin-left")))r=c.eq(0===s[1]?o.index()-1:o.index());else if(s[1]<=u.width()+parseInt(o.css("margin-right"))){var d=c.eq(o.index()+1);i=d.length?d:null}}),[t,n,r,i]},P=function(t){var n=e(this).data(o).opt,r=[];return"function"==typeof t&&(t=t()),t instanceof Array?r=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(r[0]=t.y?t.y:t.x||"x"===n.axis?null:t,r[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},L=function(t,n){if(null!=t&&"undefined"!=typeof t){var r=e(this),i=r.data(o),s=i.opt,a=e("#mTS_"+i.idx),l=e("#mTS_"+i.idx+"_container"),u=typeof t;n||(n="x"===s.axis?"x":"y");var c="x"===n?l.width():l.height(),d="x"===n?l.offset().left:l.offset().top,h="x"===n?l[0].offsetLeft:l[0].offsetTop,p="x"===n?"left":"top";switch(u){case"function":return t();case"object":if(t.nodeType)var m="x"===n?e(t).offset().left:e(t).offset().top;else if(t.jquery){if(!t.length)return;var m="x"===n?t.offset().left:t.offset().top}return m-d;case"string":case"number":if(U(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(c*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(h-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var g=h+parseInt(t.split("+=")[1]);return g>=0?0:Math.abs(g)}if(-1!==t.indexOf("px")&&U(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(a.height()-l.height());if("right"===t)return Math.abs(a.width()-l.width());if("first"===t||"last"===t){var v=l.find(":"+t),m="x"===n?e(v).offset().left:e(v).offset().top;return m-d}if(e(t).length){var m="x"===n?e(t).offset().left:e(t).offset().top;return m-d}return l.css(p,t),void f.update.call(null,r[0])}}},M=function(t){function n(){clearTimeout(h[0].autoUpdate),h[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(p=s(),p!==v)?(a(),void(v=p)):(c.advanced.updateOnContentResize&&(m=[h.height(),h.width(),d.height(),d.width(),l.height(),l.width()],(m[0]!==b[0]||m[1]!==b[1]||m[2]!==b[2]||m[3]!==b[3]||m[4]!==b[4]||m[5]!==b[5])&&(a(),b=m)),c.advanced.updateOnImageLoad&&(g=r(),g!==y&&(h.find("img").each(function(){i(this.src)}),y=g)),void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&n()))},60)}function r(){var e=0;return c.advanced.updateOnImageLoad&&(e=h.find("img").length),e}function i(e){function t(e,t){return function(){return t.apply(e,arguments)}}function n(){this.onload=null,a()}var r=new Image;r.onload=t(r,n),r.src=e}function s(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var t=0,n=h.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){t+=e(this).height()+e(this).width()}),t}function a(){clearTimeout(h[0].autoUpdate),f.update.call(null,l[0])}var l=e(this),u=l.data(o),c=u.opt,d=e("#mTS_"+u.idx),h=e("#mTS_"+u.idx+"_container");if(t)return clearTimeout(h[0].autoUpdate),void z(h[0],"autoUpdate");var p,m,g,v=s(),b=[h.height(),h.width(),d.height(),d.width(),l.height(),l.width()],y=r();n()},F=function(t){var n=t.data(o),r=e("#mTS_"+n.idx+"_container");r.each(function(){H.call(this)})},B=function(t,n,r){function i(e){return l&&u.callbacks[e]&&"function"==typeof u.callbacks[e]}function s(){return[u.callbacks.alwaysTriggerOffsets||g>=v+y,u.callbacks.alwaysTriggerOffsets||-E>=g]}function a(){var e=[h[0].offsetTop,h[0].offsetLeft],n=[h.height(),h.width()],i=[d.height(),d.width()];t[0].mts={content:h,top:e[0],left:e[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:r.dir}}var l=t.data(o),u=l.opt,c={trigger:"internal",dir:"y",easing:"easeOut",dur:60*u.speed,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=e.extend(c,r),d=e("#mTS_"+l.idx),h=e("#mTS_"+l.idx+"_container"),f=u.callbacks.onTotalScrollOffset?P.call(t,u.callbacks.onTotalScrollOffset):[0,0],p=u.callbacks.onTotalScrollBackOffset?P.call(t,u.callbacks.onTotalScrollBackOffset):[0,0];switch(l.trigger=r.trigger,(0!==d.scrollTop()||0!==d.scrollLeft())&&d.scrollTop(0).scrollLeft(0),r.dir){case"x":var m="left",g=h[0].offsetLeft,v=d.width()-h.width(),b=n,y=f[1],E=p[1],_=y>0?y:0,T=E>0?E:0;break;case"y":var m="top",g=h[0].offsetTop,v=d.height()-h.height(),b=n,y=f[0],E=p[0],_=y>0?y:0,T=E>0?E:0}b>=0?(b=0,R.call(t,!1,1,r.dir)):v>=b?(b=v,R.call(t,!1,2,r.dir)):(b=b,R.call(t,!1,0,r.dir)),t[0].mts||(a(),i("onInit")&&u.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),(l.tweenRunning||!(0===g&&b>=0||g===v&&v>=b))&&$(h[0],m,Math.round(b),r.dur,r.easing,r.overwrite,{onStart:function(){r.callbacks&&r.onStart&&!l.tweenRunning&&(i("onScrollStart")&&(a(),u.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,l.cbOffsets=s())},onUpdate:function(){r.callbacks&&r.onUpdate&&i("whileScrolling")&&(a(),u.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(r.callbacks&&r.onComplete){"yx"===u.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(a(),u.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&v+_>=b&&l.cbOffsets[0]&&(a(),u.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b>=-T&&l.cbOffsets[1]&&(a(),u.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,h[0].idleTimer=0},e)}}})},$=function(e,n,r,i,o,s,a){function l(){T.stop||(y||m.call(),y=j()-b,u(),y>=T.time&&(T.time=y>T.time?y+f-(y-T.time):y+f-1,T.time<y+1&&(T.time=y+1)),T.time<i?T.id=p(l):v.call())}function u(){i>0?(T.currVal=h(T.time,E,C,i,o),_[n]=Math.round(T.currVal)+"px"):_[n]=r+"px",g.call()}function c(){f=1e3/60,T.time=y+f,p=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return u(),setTimeout(e,.01)},T.id=p(l)}function d(){null!=T.id&&(t.requestAnimationFrame?t.cancelAnimationFrame(T.id):clearTimeout(T.id),T.id=null)}function h(e,t,n,r,i){switch(i){case"linear":return n*e/r+t;case"linearOut":return e/=r,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=r/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=r/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":return e/=r/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=r,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/r)+1)+t;case"easeOut":default:var o=(e/=r)*e,s=o*e;return t+n*(.499999999999997*s*o+-2.5*o*o+5.5*s+-6.5*o+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,p,a=a||{},m=a.onStart||function(){},g=a.onUpdate||function(){},v=a.onComplete||function(){},b=j(),y=0,E=e.offsetTop,_=e.style,T=e._mTween[n];"left"===n&&(E=e.offsetLeft);var C=r-E;T.stop=0,"none"!==s&&d(),c()},j=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},H=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var n=["top","left"],r=0;r<n.length;r++){var i=n[r];e._mTween[i].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},z=function(e,t){try{delete e[t]}catch(n){e[t]=null}},V=function(e){return!(e.which&&1!==e.which)},q=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},U=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};e.fn[i]=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):f.init.apply(this,arguments)},e[i]=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):f.init.apply(this,arguments)},e[i].defaults=a,t[i]=!0,e(t).load(function(){var t=e(s),n=[];if(t.length){t.each(function(){var t=e(this),r=t.data("mts-axis")||a.axis,i=t.data("mts-type")||a.type,s=t.data("mts-theme")||a.theme,l="auto-"+o+"-"+r+"-"+i+"-"+s,u=[l,r,i];t.addClass(l),-1===e.inArray(l,n)&&n.push(u)});for(var r=0;r<n.length;r++)e("."+n[r][0])[i]({axis:n[r][1],type:n[r][2]})}})}(jQuery,window,document),function(){var e=Ember.get,t=Ember.set;Ember.Uploader=Ember.Object.extend(Ember.Evented,{url:null,type:"POST",upload:function(n){var r=this.setupFormData(n),i=e(this,"url"),o=e(this,"type"),s=this;return t(this,"isUploading",!0),this.ajax(i,r,o).then(function(e){return s.didUpload(e),e})},setupFormData:function(e,t){var n=new FormData;for(var r in t)t.hasOwnProperty(r)&&n.append(r,t[r]);return n.append("file",e),n},didUpload:function(e){t(this,"isUploading",!1),this.trigger("didUpload",e)},didProgress:function(e){e.percent=e.loaded/e.total*100,this.trigger("progress",e)},ajax:function(e,t,n){var r=this,i={url:e,type:n||"POST",contentType:!1,processData:!1,xhr:function(){var e=Ember.$.ajaxSettings.xhr();return e.upload.onprogress=function(e){r.didProgress(e)},e},data:t};return this._ajax(i)},authorizationAjax:function(e,t,n){var r={signature:n.signature,url:e,type:t||"POST",contentType:!1,processData:!1,headers:{Authorization:"AWS4-HMAC-SHA256 Credential="+n.aws_access_key_id+"/"+n.simple_date+"/"+n.region+"/s3/aws4_request, SignedHeaders=host;x-amz-date, Signature="+n.signature,"x-amz-date":n.iso8601_date,"x-amz-content-sha256":"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"}};return this._ajax(r)},_ajax:function(e){return new Ember.RSVP.Promise(function(t,n){return e.success=function(e){Ember.run(null,t,e)},e.error=function(e,t,r){Ember.run(null,n,e)},Ember.$.ajax(e)})}})}(),function(){var e=Ember.get,t=Ember.set;Ember.S3Uploader=Ember.Uploader.extend({url:"/sign",type:"POST",upload:function(n){var r=this;return t(this,"isUploading",!0),this.sign(n).then(function(t){var i="//s3-"+t.region+".amazonaws.com/"+t.bucket+"/";delete t.region;var o=r.setupFormData(n,t),s=e(r,"type");return r.ajax(i,o,s)}).then(function(e){return r.didUpload(e),e})},deleteAsset:function(e){var t=this;return this.signDelete(e).then(function(n){var r=e.get("url");return t.authorizationAjax(r,"DELETE",n)})},sign:function(t){var n={url:e(this,"url"),type:"GET",contentType:"json",data:{name:t.name}};return this._ajax(n)},signDelete:function(t){var n={url:e(this,"url"),type:"GET",contentType:"json",data:{name:t.get("url").split("/").pop()}};return this._ajax(n)}})}(),function(){var e=Ember.set;Ember.FileField=Ember.TextField.extend({type:"file",attributeBindings:["multiple"],multiple:!1,change:function(t){var n=t.target;Ember.isEmpty(n.files)||e(this,"files",n.files)}})}(),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Re.call(e,t)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){_e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return p(function(){return n&&(i(e),n=!1),t.apply(this,arguments)},t)}function s(e,t){bt[e]||(i(t),bt[e]=!0)}function a(e,t){return function(n){return v(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function u(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function c(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function d(){}function h(e,t){t!==!1&&N(e),m(this,e),this._d=new Date(+e._d),Et===!1&&(Et=!0,_e.updateOffset(this),Et=!1)}function f(e){var t=D(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=_e.localeData(),this._bubble()}function p(e,t){for(var r in t)n(t,r)&&(e[r]=t[r]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Le.length>0)for(n in Le)r=Le[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function b(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function y(e,t){var n;return t=F(t,e),e.isBefore(t)?n=b(e,t):(n=b(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function E(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(s(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=_e.duration(n,r),_(this,i,e),this}}function _(e,t,n,r){var i=t._milliseconds,o=t._days,s=t._months;r=null==r?!0:r,i&&e._d.setTime(+e._d+i*n),o&&me(e,"Date",pe(e,"Date")+o*n),s&&fe(e,pe(e,"Month")+s*n),r&&_e.updateOffset(e,o||s)}function T(e){return"[object Array]"===Object.prototype.toString.call(e)}function C(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function O(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&s++;return s+o}function I(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=dt[e]||ht[t]||t}return e}function D(e){var t,r,i={};for(r in e)n(e,r)&&(t=I(r),t&&(i[t]=e[r]));return i}function R(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}_e[t]=function(i,o){var s,a,l=_e._locale[t],u=[];if("number"==typeof i&&(o=i,i=e),a=function(e){var t=_e().utc().set(r,e);return l.call(_e._locale,t,i||"")},null!=o)return a(o);for(s=0;n>s;s++)u.push(a(s));return u}}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function x(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function k(e,t,n){return ue(_e([e,11,31+t-n]),t,n).week}function S(e){return K(e)?366:365}function K(e){return e%4===0&&e%100!==0||e%400===0}function N(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[xe]<0||e._a[xe]>11?xe:e._a[ke]<1||e._a[ke]>x(e._a[we],e._a[xe])?ke:e._a[Se]<0||e._a[Se]>24||24===e._a[Se]&&(0!==e._a[Ke]||0!==e._a[Ne]||0!==e._a[Ae])?Se:e._a[Ke]<0||e._a[Ke]>59?Ke:e._a[Ne]<0||e._a[Ne]>59?Ne:e._a[Ae]<0||e._a[Ae]>999?Ae:-1,e._pf._overflowDayOfYear&&(we>t||t>ke)&&(t=ke),e._pf.overflow=t)}function A(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function P(e){return e?e.toLowerCase().replace("_","-"):e}function L(e){for(var t,n,r,i,o=0;o<e.length;){for(i=P(e[o]).split("-"),t=i.length,n=P(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=M(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&O(i,n,!0)>=t-1)break;t--}o++}return null}function M(e){var t=null;if(!Pe[e]&&Me)try{t=_e.locale(),require("./locale/"+e),_e.locale(t)}catch(n){}return Pe[e]}function F(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(_e.isMoment(e)||C(e)?+e:+_e(e))-+n,n._d.setTime(+n._d+r),_e.updateOffset(n,!1),n):_e(e).local()}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function $(e){var t,n,r=e.match(je);for(t=0,n=r.length;n>t;t++)r[t]=vt[r[t]]?vt[r[t]]:B(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function j(e,t){return e.isValid()?(t=H(t,e.localeData()),ft[t]||(ft[t]=$(t)),ft[t](e)):e.localeData().invalidDate()}function H(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(He.lastIndex=0;r>=0&&He.test(e);)e=e.replace(He,n),He.lastIndex=0,r-=1;return e}function z(e,t){var n,r=t._strict;switch(e){case"Q":return Je;case"DDDD":return tt;case"YYYY":case"GGGG":case"gggg":return r?nt:qe;case"Y":case"G":case"g":return it;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?rt:Ue;case"S":if(r)return Je;case"SS":if(r)return et;case"SSS":if(r)return tt;case"DDD":return Ve;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ye;case"a":case"A":return t._locale._meridiemParse;case"x":return Qe;case"X":return Ze;case"Z":case"ZZ":return Ge;case"T":return Xe;case"SSSS":return We;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?et:ze;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ze;case"Do":return r?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Z(Q(e.replace("\\","")),"i"))}}function V(e){e=e||"";var t=e.match(Ge)||[],n=t[t.length-1]||[],r=(n+"").match(ut)||["-",0,0],i=+(60*r[1])+w(r[2]);return"+"===r[0]?i:-i}function q(e,t,n){var r,i=n._a;switch(e){case"Q":null!=t&&(i[xe]=3*(w(t)-1));break;case"M":case"MM":null!=t&&(i[xe]=w(t)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(t,e,n._strict),null!=r?i[xe]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[ke]=w(t));break;case"Do":null!=t&&(i[ke]=w(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=w(t));break;case"YY":i[we]=_e.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[we]=w(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[Se]=w(t);break;case"m":case"mm":i[Ke]=w(t);break;case"s":case"ss":i[Ne]=w(t);break;case"S":case"SS":case"SSS":case"SSSS":i[Ae]=w(1e3*("0."+t));break;case"x":n._d=new Date(w(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=V(t);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(t),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=w(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=_e.parseTwoDigitYear(t)}}function U(e){var n,r,i,o,s,a,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,r=t(n.GG,e._a[we],ue(_e(),1,4).year),i=t(n.W,1),o=t(n.E,1)):(s=e._locale._week.dow,a=e._locale._week.doy,r=t(n.gg,e._a[we],ue(_e(),s,a).year),i=t(n.w,1),null!=n.d?(o=n.d,s>o&&++i):o=null!=n.e?n.e+s:s),l=ce(r,i,o,a,s),e._a[we]=l.year,e._dayOfYear=l.dayOfYear}function W(e){var n,r,i,o,s=[];if(!e._d){for(i=G(e),e._w&&null==e._a[ke]&&null==e._a[xe]&&U(e),e._dayOfYear&&(o=t(e._a[we],i[we]),e._dayOfYear>S(o)&&(e._pf._overflowDayOfYear=!0),r=oe(o,0,e._dayOfYear),e._a[xe]=r.getUTCMonth(),e._a[ke]=r.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=i[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Se]&&0===e._a[Ke]&&0===e._a[Ne]&&0===e._a[Ae]&&(e._nextDay=!0,e._a[Se]=0),e._d=(e._useUTC?oe:ie).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Se]=24)}}function Y(e){var t;e._d||(t=D(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],W(e))}function G(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function X(t){if(t._f===_e.ISO_8601)return void ee(t);t._a=[],t._pf.empty=!0;var n,r,i,o,s,a=""+t._i,l=a.length,u=0;for(i=H(t._f,t._locale).match(je)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(z(o,t))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&t._pf.unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),u+=r.length),vt[o]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(o),q(o,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-u,a.length>0&&t._pf.unusedInput.push(a),t._pf.bigHour===!0&&t._a[Se]<=12&&(t._pf.bigHour=e),t._a[Se]=c(t._locale,t._a[Se],t._meridiem),W(t),N(t)}function Q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,n,i,o,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(o=0;o<e._f.length;o++)s=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[o],X(t),A(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==i||i>s)&&(i=s,n=t));p(e,n||t)}function ee(e){var t,n,r=e._i,i=ot.exec(r);if(i){for(e._pf.iso=!0,t=0,n=at.length;n>t;t++)if(at[t][1].exec(r)){e._f=at[t][0]+(i[6]||" ");break}for(t=0,n=lt.length;n>t;t++)if(lt[t][1].exec(r)){e._f+=lt[t][0];break}r.match(Ge)&&(e._f+="Z"),X(e)}else e._isValid=!1}function te(e){ee(e),e._isValid===!1&&(delete e._isValid,_e.createFromInputFallback(e))}function ne(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function re(t){var n,r=t._i;r===e?t._d=new Date:C(r)?t._d=new Date(+r):null!==(n=Fe.exec(r))?t._d=new Date(+n[1]):"string"==typeof r?te(t):T(r)?(t._a=ne(r.slice(0),function(e){return parseInt(e,10)}),W(t)):"object"==typeof r?Y(t):"number"==typeof r?t._d=new Date(r):_e.createFromInputFallback(t)}function ie(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return 1970>e&&a.setFullYear(e),a}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function se(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function ae(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function le(e,t,n){var r=_e.duration(e).abs(),i=De(r.as("s")),o=De(r.as("m")),s=De(r.as("h")),a=De(r.as("d")),l=De(r.as("M")),u=De(r.as("y")),c=i<pt.s&&["s",i]||1===o&&["m"]||o<pt.m&&["mm",o]||1===s&&["h"]||s<pt.h&&["hh",s]||1===a&&["d"]||a<pt.d&&["dd",a]||1===l&&["M"]||l<pt.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,ae.apply({},c)}function ue(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=_e(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ce(e,t,n,r,i){var o,s,a=oe(e,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:i,o=i-a+(a>r?7:0)-(i>a?7:0),s=7*(t-1)+(n-i)+o+1,{year:s>0?e:e-1,dayOfYear:s>0?s:S(e-1)+s}}function de(t){var n,r=t._i,i=t._f;return t._locale=t._locale||_e.localeData(t._l),null===r||i===e&&""===r?_e.invalid({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),_e.isMoment(r)?new h(r,!0):(i?T(i)?J(t):X(t):re(t),n=new h(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function he(e,t){var n,r;if(1===t.length&&T(t[0])&&(t=t[0]),!t.length)return _e();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function fe(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),x(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function pe(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function me(e,t,n){return"Month"===t?fe(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ge(e,t){return function(n){return null!=n?(me(this,e,n),_e.updateOffset(this,t),this):pe(this,e)}}function ve(e){return 400*e/146097}function be(e){return 146097*e/400}function ye(e){_e.duration.fn[e]=function(){return this._data[e]}}function Ee(e){"undefined"==typeof ender&&(Te=Ie.moment,Ie.moment=e?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",_e):_e)}for(var _e,Te,Ce,Oe="2.9.0",Ie="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,De=Math.round,Re=Object.prototype.hasOwnProperty,we=0,xe=1,ke=2,Se=3,Ke=4,Ne=5,Ae=6,Pe={},Le=[],Me="undefined"!=typeof module&&module&&module.exports,Fe=/^\/?Date\((\-?\d+)/i,Be=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$e=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,je=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,He=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ze=/\d\d?/,Ve=/\d{1,3}/,qe=/\d{1,4}/,Ue=/[+\-]?\d{1,6}/,We=/\d+/,Ye=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ge=/Z|[\+\-]\d\d:?\d\d/gi,Xe=/T/i,Qe=/[\+\-]?\d+/,Ze=/[\+\-]?\d+(\.\d{1,3})?/,Je=/\d/,et=/\d\d/,tt=/\d{3}/,nt=/\d{4}/,rt=/[+-]?\d{6}/,it=/[+-]?\d+/,ot=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,st="YYYY-MM-DDTHH:mm:ssZ",at=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],lt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ut=/([\+\-]|\d\d)/gi,ct=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),dt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ht={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ft={},pt={s:45,m:45,h:22,d:26,M:11},mt="DDD w W M D d".split(" "),gt="M D H h m s w W".split(" "),vt={M:function(){return this.month()+1;

},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+v(Math.abs(e),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return w(this.milliseconds()/100)},SS:function(){return v(w(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(w(e/60),2)+":"+v(w(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(w(e/60),2)+v(w(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},bt={},yt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],Et=!1;mt.length;)Ce=mt.pop(),vt[Ce+"o"]=l(vt[Ce],Ce);for(;gt.length;)Ce=gt.pop(),vt[Ce+Ce]=a(vt[Ce],2);vt.DDDD=a(vt.DDD,3),p(d.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=_e.utc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=_e([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.apply(t,[n]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ue(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),_e=function(t,n,i,o){var s;return"boolean"==typeof i&&(o=i,i=e),s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=i,s._strict=o,s._isUTC=!1,s._pf=r(),de(s)},_e.suppressDeprecationWarnings=!1,_e.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),_e.min=function(){var e=[].slice.call(arguments,0);return he("isBefore",e)},_e.max=function(){var e=[].slice.call(arguments,0);return he("isAfter",e)},_e.utc=function(t,n,i,o){var s;return"boolean"==typeof i&&(o=i,i=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=i,s._i=t,s._f=n,s._strict=o,s._pf=r(),de(s).utc()},_e.unix=function(e){return _e(1e3*e)},_e.duration=function(e,t){var r,i,o,s,a=e,l=null;return _e.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(l=Be.exec(e))?(r="-"===l[1]?-1:1,a={y:0,d:w(l[ke])*r,h:w(l[Se])*r,m:w(l[Ke])*r,s:w(l[Ne])*r,ms:w(l[Ae])*r}):(l=$e.exec(e))?(r="-"===l[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*r},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=y(_e(a.from),_e(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),i=new f(a),_e.isDuration(e)&&n(e,"_locale")&&(i._locale=e._locale),i},_e.version=Oe,_e.defaultFormat=st,_e.ISO_8601=function(){},_e.momentProperties=Le,_e.updateOffset=function(){},_e.relativeTimeThreshold=function(t,n){return pt[t]===e?!1:n===e?pt[t]:(pt[t]=n,!0)},_e.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return _e.locale(e,t)}),_e.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?_e.defineLocale(e,t):_e.localeData(e),n&&(_e.duration._locale=_e._locale=n)),_e._locale._abbr},_e.defineLocale=function(e,t){return null!==t?(t.abbr=e,Pe[e]||(Pe[e]=new d),Pe[e].set(t),_e.locale(e),Pe[e]):(delete Pe[e],null)},_e.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return _e.localeData(e)}),_e.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return _e._locale;if(!T(e)){if(t=M(e))return t;e=[e]}return L(e)},_e.isMoment=function(e){return e instanceof h||null!=e&&n(e,"_isAMomentObject")},_e.isDuration=function(e){return e instanceof f};for(Ce=yt.length-1;Ce>=0;--Ce)R(yt[Ce]);_e.normalizeUnits=function(e){return I(e)},_e.invalid=function(e){var t=_e.utc(0/0);return null!=e?p(t._pf,e):t._pf.userInvalidated=!0,t},_e.parseZone=function(){return _e.apply(null,arguments).parseZone()},_e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)},_e.isDate=C,p(_e.fn=h.prototype,{clone:function(){return _e(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=_e(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&O(this._a,(this._isUTC?_e.utc(this._a):_e(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=j(this,e||_e.defaultFormat);return this.localeData().postformat(t)},add:E(1,"add"),subtract:E(-1,"subtract"),diff:function(e,t,n){var r,i,o=F(e,this),s=6e4*(o.utcOffset()-this.utcOffset());return t=I(t),"year"===t||"month"===t||"quarter"===t?(i=u(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),n?i:g(i)},from:function(e,t){return _e.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(_e(),e)},calendar:function(e){var t=e||_e(),n=F(t,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,_e(t)))},isLeapYear:function(){return K(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=se(e,this.localeData()),this.add(e-t,"d")):t},month:ge("Month",!0),startOf:function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=I(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=I("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=_e.isMoment(e)?e:_e(e),+this>+e):(n=_e.isMoment(e)?+e:+_e(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=I("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=_e.isMoment(e)?e:_e(e),+e>+this):(n=_e.isMoment(e)?+e:+_e(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=I(t||"millisecond"),"millisecond"===t?(e=_e.isMoment(e)?e:_e(e),+this===+e):(n=+_e(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=_e.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=_e.apply(null,arguments),e>this?this:e}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,r=this._offset||0;return null!=e?("string"==typeof e&&(e=V(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?_(this,_e.duration(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(V(this._i)),this},hasAlignedHourOffset:function(e){return e=e?_e(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(e){var t=De((_e(this).startOf("day")-_e(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ue(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ue(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return k(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return k(this.year(),e.dow,e.doy)},get:function(e){return e=I(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=I(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=_e.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),_e.fn.millisecond=_e.fn.milliseconds=ge("Milliseconds",!1),_e.fn.second=_e.fn.seconds=ge("Seconds",!1),_e.fn.minute=_e.fn.minutes=ge("Minutes",!1),_e.fn.hour=_e.fn.hours=ge("Hours",!0),_e.fn.date=ge("Date",!0),_e.fn.dates=o("dates accessor is deprecated. Use date instead.",ge("Date",!0)),_e.fn.year=ge("FullYear",!0),_e.fn.years=o("years accessor is deprecated. Use year instead.",ge("FullYear",!0)),_e.fn.days=_e.fn.day,_e.fn.months=_e.fn.month,_e.fn.weeks=_e.fn.week,_e.fn.isoWeeks=_e.fn.isoWeek,_e.fn.quarters=_e.fn.quarter,_e.fn.toJSON=_e.fn.toISOString,_e.fn.isUTC=_e.fn.isUtc,p(_e.duration.fn=f.prototype,{_bubble:function(){var e,t,n,r=this._milliseconds,i=this._days,o=this._months,s=this._data,a=0;s.milliseconds=r%1e3,e=g(r/1e3),s.seconds=e%60,t=g(e/60),s.minutes=t%60,n=g(t/60),s.hours=n%24,i+=g(n/24),a=g(ve(i)),i-=g(be(a)),o+=g(i/30),i%=30,a+=g(o/12),o%=12,s.days=i,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},humanize:function(e){var t=le(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=_e.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=_e.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=I(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=I(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*ve(t),"month"===e?n:n/12;switch(t=this._days+Math.round(be(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:_e.fn.lang,locale:_e.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),_e.duration.fn.toString=_e.duration.fn.toISOString;for(Ce in ct)n(ct,Ce)&&ye(Ce.toLowerCase());_e.duration.fn.asMilliseconds=function(){return this.as("ms")},_e.duration.fn.asSeconds=function(){return this.as("s")},_e.duration.fn.asMinutes=function(){return this.as("m")},_e.duration.fn.asHours=function(){return this.as("h")},_e.duration.fn.asDays=function(){return this.as("d")},_e.duration.fn.asWeeks=function(){return this.as("weeks")},_e.duration.fn.asMonths=function(){return this.as("M")},_e.duration.fn.asYears=function(){return this.as("y")},_e.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Me?module.exports=_e:"function"==typeof define&&define.amd?(define(function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Ie.moment=Te),_e}),Ee(!0)):Ee()}.call(this),function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"F0RF",version:"4.4.7 (Standard)",revision:"3a35b3d",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var n=document.getElementsByTagName("script"),r=0;r<n.length;r++){var i=n[r].src.match(e);if(i){t=i[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.timestamp&&"/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(0<=e.indexOf("?")?"&":"?")+"t="+this.timestamp),e},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),t())}catch(n){}}function t(){for(var e;e=n.shift();)e()}var n=[];return function(t){function r(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(r,1)}e()}if(n.push(t),"complete"===document.readyState&&setTimeout(e,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e),t=!1;try{t=!window.frameElement}catch(i){}document.documentElement.doScroll&&t&&r()}}}()},n=window.CKEDITOR_GETURL;if(n){var r=t.getUrl;t.getUrl=function(e){return n.call(t,e)||r.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t,n=CKEDITOR.event.prototype;for(t in n)null==e[t]&&(e[t]=n[t])},CKEDITOR.event.prototype=function(){function e(e){var r=t(this);return r[e]||(r[e]=new n(e))}var t=function(e){return e=e.getPrivate&&e.getPrivate()||e._||(e._={}),e.events||(e.events={})},n=function(e){this.name=e,this.listeners=[]};return n.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(t,n){var r=e.call(this,t);CKEDITOR.tools.extend(r,n,!0)},on:function(t,n,r,i,o){function s(e,o,s,l){return e={name:t,sender:this,editor:e,data:o,listenerData:i,stop:s,cancel:l,removeListener:a},n.call(r,e)===!1?!1:e.data}function a(){u.removeListener(t,n)}var l=e.call(this,t);if(l.getListenerIndex(n)<0){l=l.listeners,r||(r=this),isNaN(o)&&(o=10);var u=this;s.fn=n,s.priority=o;for(var c=l.length-1;c>=0;c--)if(l[c].priority<=o)return l.splice(c+1,0,s),{removeListener:a};l.unshift(s)}return{removeListener:a}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:function(){var e=0,n=function(){e=1},r=0,i=function(){r=1};return function(o,s,a){var l=t(this)[o],o=e,u=r;if(e=r=0,l){var c=l.listeners;if(c.length)for(var d,c=c.slice(0),h=0;h<c.length;h++){if(l.errorProof)try{d=c[h].call(this,a,s,n,i)}catch(f){}else d=c[h].call(this,a,s,n,i);if(d===!1?r=1:"undefined"!=typeof d&&(s=d),e||r)break}}return s=r?!1:"undefined"==typeof s?!0:s,e=o,r=u,s}}(),fireOnce:function(e,n,r){return n=this.fire(e,n,r),delete t(this)[e],n},removeListener:function(e,n){var r=t(this)[e];if(r){var i=r.getListenerIndex(n);i>=0&&r.listeners.splice(i,1)}},removeAllListeners:function(){var e,n=t(this);for(e in n)delete n[e]},hasListeners:function(e){return(e=t(this)[e])&&e.listeners.length>0}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t={ie:e.indexOf("trident/")>-1,webkit:e.indexOf(" applewebkit/")>-1,air:e.indexOf(" adobeair/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:e.indexOf("mobile")>-1,iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol};t.gecko="Gecko"==navigator.product&&!t.webkit&&!t.ie,t.webkit&&(e.indexOf("chrome")>-1?t.chrome=!0:t.safari=!0);var n=0;if(t.ie&&(n=t.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,t.ie9Compat=9==n,t.ie8Compat=8==n,t.ie7Compat=7==n,t.ie6Compat=7>n||t.quirks),t.gecko){var r=e.match(/rv:([\d\.]+)/);r&&(r=r[1].split("."),n=1e4*r[0]+100*(r[1]||0)+1*(r[2]||0))}return t.air&&(n=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),t.webkit&&(n=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),t.version=n,t.isCompatible=t.iOS&&n>=534||!t.mobile&&(t.ie&&n>6||t.gecko&&n>=2e4||t.air&&n>=1||t.webkit&&n>=522||!1),t.hidpi=window.devicePixelRatio>=2,t.needsBrFiller=t.gecko||t.webkit||t.ie&&n>10,t.needsNbspFiller=t.ie&&11>n,t.cssClass="cke_browser_"+(t.ie?"ie":t.gecko?"gecko":t.webkit?"webkit":"unknown"),t.quirks&&(t.cssClass=t.cssClass+" cke_browser_quirks"),t.ie&&(t.cssClass=t.cssClass+(" cke_browser_ie"+(t.quirks?"6 cke_browser_iequirks":t.version))),t.air&&(t.cssClass=t.cssClass+" cke_browser_air"),t.iOS&&(t.cssClass=t.cssClass+" cke_browser_ios"),t.hidpi&&(t.cssClass=t.cssClass+" cke_hidpi"),t}()),"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)},function(){CKEDITOR.domReady(function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*t))})}(),CKEDITOR.status="basic_loaded"}(),CKEDITOR.dom={},function(){var e=[],t=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",n=/&/g,r=/>/g,i=/</g,o=/"/g,s=/&amp;/g,a=/&gt;/g,l=/&lt;/g,u=/&quot;/g;CKEDITOR.on("reset",function(){e=[]}),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;t=new e.constructor;for(n in e)t[n]=CKEDITOR.tools.clone(e[n]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t,n,r=arguments.length;"boolean"==typeof(t=arguments[r-1])?r--:"boolean"==typeof(t=arguments[r-2])&&(n=arguments[r-1],r-=2);for(var i=1;r>i;i++){var o,s=arguments[i];for(o in s)(t===!0||null==e[o])&&(!n||o in n)&&(e[o]=s[o])}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,n,r){return r?t+e+":"+n+";"+e+":"+n:(r={},r[e]=n,r[t+e]=n,r)},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t="undefined"!=typeof e.cssFloat?"cssFloat":"undefined"!=typeof e.styleFloat?"styleFloat":"float";return function(e){return"float"==e?t:e.replace(/-./g,function(e){return e.substr(1).toUpperCase()})}}(),buildStyleHtml:function(e){for(var t,e=[].concat(e),n=[],r=0;r<e.length;r++)(t=e[r])&&n.push(/@import|[{}]/.test(t)?"<style>"+t+"</style>":'<link type="text/css" rel=stylesheet href="'+t+'">');return n.join("")},htmlEncode:function(e){return(""+e).replace(n,"&amp;").replace(r,"&gt;").replace(i,"&lt;")},htmlDecode:function(e){return e.replace(s,"&").replace(a,">").replace(l,"<")},htmlEncodeAttr:function(e){return e.replace(o,"&quot;").replace(i,"&lt;").replace(r,"&gt;")},htmlDecodeAttr:function(e){return e.replace(u,'"').replace(l,"<").replace(a,">")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,r,i){return i||(i=window),n||(n=i),i.setTimeout(function(){r?e.apply(n,[].concat(r)):e.apply(n)},t||0)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if("function"==typeof t){for(var n=0,r=e.length;r>n;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,r=e.length;r>n;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return n>=0?e[n]:null},bind:function(e,t){return function(){return e.apply(t,arguments)}},createClass:function(e){var t=e.$,n=e.base,r=e.privates||e._,i=e.proto,e=e.statics;if(!t&&(t=function(){n&&this.base.apply(this,arguments)}),r)var o=t,t=function(){var e,t=this._||(this._={});for(e in r){var n=r[e];t[e]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}o.apply(this,arguments)};return n&&(t.prototype=this.prototypedCopy(n.prototype),t.prototype.constructor=t,t.base=n,t.baseProto=n.prototype,t.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),i&&this.extend(t.prototype,i,!0),e&&this.extend(t,e,!0),t},addFunction:function(t,n){return e.push(function(){return t.apply(n||this,arguments)})-1},removeFunction:function(t){e[t]=null},callFunction:function(t){var n=e[t];return n&&n.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e,t=/^-?\d+\.?\d*px$/;return function(n){return e=CKEDITOR.tools.trim(n+"")+"px",t.test(e)?e:n||""}}(),convertToPx:function(){var e;return function(t){return e||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),/%$/.test(t)?t:(e.setStyle("width",t),e.$.clientWidth)}}(),repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;n>t;t++){var r=arguments[t];try{e=r();break}catch(i){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,n=this;window.setTimeout(function(){e.apply(n,t)},0)}},normalizeCssText:function(e,t){var n,r=[],i=CKEDITOR.tools.parseCssText(e,!0,t);for(n in i)r.push(n+":"+i[n]);return r.sort(),r.length?r.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(e,t,n,r){for(e=[t,n,r],t=0;3>t;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")})},parseCssText:function(e,t,n){var r={};return n&&(n=new CKEDITOR.dom.element("span"),n.setAttribute("style",e),e=CKEDITOR.tools.convertRgbToHex(n.getAttribute("style")||"")),e&&";"!=e?(e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,i){t&&(n=n.toLowerCase(),"font-family"==n&&(i=i.toLowerCase().replace(/["']/g,"").replace(/\s*,\s*/g,",")),i=CKEDITOR.tools.trim(i)),r[n]=i}),r):r},writeCssText:function(e,t){var n,r=[];for(n in e)r.push(n+":"+e[n]);return t&&r.sort(),r.join("; ")},objectCompare:function(e,t,n){var r;if(!e&&!t)return!0;if(!e||!t)return!1;for(r in e)if(e[r]!=t[r])return!1;if(!n)for(r in t)if(e[r]!=t[r])return!1;return!0},objectKeys:function(e){var t,n=[];for(t in e)n.push(t);return n},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var r=0,i=e.length;i>r;++r)n[e[r]]=t;return n},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain,
!e)break;document.domain=e}return!!e},eventsBuffer:function(e,t){function n(){i=(new Date).getTime(),r=!1,t()}var r,i=0;return{input:function(){if(!r){var t=(new Date).getTime()-i;e>t?r=setTimeout(n,e-t):n()}},reset:function(){r&&clearTimeout(r),r=i=0}}},enableHtml5Elements:function(e,t){for(var n,r=["abbr","article","aside","audio","bdi","canvas","data","datalist","details","figcaption","figure","footer","header","hgroup","mark","meter","nav","output","progress","section","summary","time","video"],i=r.length;i--;)n=e.createElement(r[i]),t&&e.appendChild(n)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="}}(),CKEDITOR.dtd=function(){var e=CKEDITOR.tools.extend,t=function(e,t){for(var n=CKEDITOR.tools.clone(e),r=1;r<arguments.length;r++){var i,t=arguments[r];for(i in t)delete n[i]}return n},n={},r={},i={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},o={command:1,link:1,meta:1,noscript:1,script:1,style:1},s={},a={"#":1},l={center:1,dir:1,noframes:1};return e(n,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},a,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),e(r,i,n,l),t={a:t(n,{a:1,button:1}),abbr:n,address:r,area:s,article:r,aside:r,audio:e({source:1,track:1},r),b:n,base:s,bdi:n,bdo:n,blockquote:r,body:r,br:s,button:t(n,{a:1,button:1}),canvas:n,caption:r,cite:n,code:n,col:s,colgroup:{col:1},command:s,datalist:e({option:1},n),dd:r,del:n,details:e({summary:1},r),dfn:n,div:r,dl:{dt:1,dd:1},dt:r,em:n,embed:s,fieldset:e({legend:1},r),figcaption:r,figure:e({figcaption:1},r),footer:r,form:r,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:e({title:1,base:1},o),header:r,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:s,html:e({head:1,body:1},r,o),i:n,iframe:a,img:s,input:s,ins:n,kbd:n,keygen:s,label:n,legend:n,li:r,link:s,main:r,map:r,mark:n,menu:e({li:1},r),meta:s,meter:t(n,{meter:1}),nav:r,noscript:e({link:1,meta:1,style:1},n),object:e({param:1},n),ol:{li:1},optgroup:{option:1},option:a,output:n,p:n,param:s,pre:n,progress:t(n,{progress:1}),q:n,rp:n,rt:n,ruby:e({rp:1,rt:1},n),s:n,samp:n,script:a,section:r,select:{optgroup:1,option:1},small:n,source:s,span:n,strong:n,style:a,sub:n,summary:n,sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:r,textarea:a,tfoot:{tr:1},th:r,thead:{tr:1},time:t(n,{time:1}),title:a,tr:{th:1,td:1},track:s,u:n,ul:{li:1},"var":n,video:e({source:1,track:1},r),wbr:s,acronym:n,applet:e({param:1},r),basefont:s,big:n,center:r,dialog:s,dir:{li:1},font:n,isindex:s,noframes:r,strike:n,tt:n},e(t,{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},i,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},t.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),t}(),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype=function(){var e=function(e,t){return function(n){"undefined"!=typeof CKEDITOR&&e.fire(t,new CKEDITOR.dom.event(n))}};return{getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(t){var n=this.getCustomData("_cke_nativeListeners");return n||(n={},this.setCustomData("_cke_nativeListeners",n)),n[t]||(n=n[t]=e(this,t),this.$.addEventListener?this.$.addEventListener(t,n,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,n)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){var e,t=this.getCustomData("_cke_nativeListeners");for(e in t){var n=t[e];this.$.detachEvent?this.$.detachEvent("on"+e,n):this.$.removeEventListener&&this.$.removeEventListener(e,n,!1),delete t[e]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(e){var t={};CKEDITOR.on("reset",function(){t={}}),e.equals=function(e){try{return e&&e.$===this.$}catch(t){return!1}},e.setCustomData=function(e,n){var r=this.getUniqueId();return(t[r]||(t[r]={}))[e]=n,this},e.getCustomData=function(e){var n=this.$["data-cke-expando"];return(n=n&&t[n])&&e in n?n[e]:null},e.removeCustomData=function(e){var n,r,i=this.$["data-cke-expando"],i=i&&t[i];return i&&(n=i[e],r=e in i,delete i[e]),r?n:null},e.clearCustomData=function(){this.removeAllListeners();var e=this.$["data-cke-expando"];e&&delete t[e]},e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(e,t){var n=this.$.cloneNode(e),r=function(n){if(n["data-cke-expando"]&&(n["data-cke-expando"]=!1),n.nodeType==CKEDITOR.NODE_ELEMENT&&(t||n.removeAttribute("id",!1),e))for(var n=n.childNodes,i=0;i<n.length;i++)r(n[i])};return r(n),new CKEDITOR.dom.node(n)},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,r=this.$;r&&r!=n;){var i=r.parentNode;i&&t.unshift(this.getIndex.call({$:r},e)),r=i}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,n){var r=n?e.nextSibling:e.previousSibling;return r&&r.nodeType==CKEDITOR.NODE_TEXT?r.nodeValue?r:t(r,n):null}var n,r=this.$,i=-1;if(!this.$.parentNode||e&&r.nodeType==CKEDITOR.NODE_TEXT&&!r.nodeValue&&!t(r)&&!t(r,!0))return-1;do(!e||r==this.$||r.nodeType!=CKEDITOR.NODE_TEXT||!n&&r.nodeValue)&&(i++,n=r.nodeType==CKEDITOR.NODE_TEXT);while(r=r.previousSibling);return i},getNextSourceNode:function(e,t,n){if(n&&!n.call)var r=n,n=function(e){return!e.equals(r)};var i,e=!e&&this.getFirst&&this.getFirst();if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&n(this,!0)===!1)return null;e=this.getNext()}for(;!e&&(i=(i||this).getParent());){if(n&&n(i,!0)===!1)return null;e=i.getNext()}return!e||n&&n(e)===!1?null:t&&t!=e.type?e.getNextSourceNode(!1,t,n):e},getPreviousSourceNode:function(e,t,n){if(n&&!n.call)var r=n,n=function(e){return!e.equals(r)};var i,e=!e&&this.getLast&&this.getLast();if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&n(this,!0)===!1)return null;e=this.getPrevious()}for(;!e&&(i=(i||this).getParent());){if(n&&n(i,!0)===!1)return null;e=i.getPrevious()}return!e||n&&n(e)===!1?null:t&&e.type!=t?e.getPreviousSourceNode(!1,t,n):e},getPrevious:function(e){var t,n=this.$;do t=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n);while(t&&e&&!e(t));return t},getNext:function(e){var t,n=this.$;do t=(n=n.nextSibling)&&new CKEDITOR.dom.node(n);while(t&&e&&!e(t));return t},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,n=[];do n[e?"push":"unshift"](t);while(t=t.getParent());return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do if(t.contains(e))return t;while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return t.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}for(var t=this.getAddress(),e=e.getAddress(),n=Math.min(t.length,e.length),r=0;n-1>=r;r++)if(t[r]!=e[r]){if(n>r)return t[r]<e[r]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;break}return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,r,i=this.$;t||(i=i.parentNode),"function"==typeof e?(r=!0,n=e):(r=!1,n=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});for(;i;){if(n(r?new CKEDITOR.dom.node(i):i))return new CKEDITOR.dom.node(i);try{i=i.parentNode}catch(o){i=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(;e=t.firstChild;)n.insertBefore(t.removeChild(e),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild)&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)},isReadOnly:function(){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),e&&"undefined"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e&&!e.data("cke-editable");){if("false"==e.getAttribute("contentEditable"))return!0;if("true"==e.getAttribute("contentEditable"))break;e=e.getParent()}return!e}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;return"pageXOffset"in e?{x:e.pageXOffset||0,y:e.pageYOffset||0}:(e=e.document,{x:e.documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0})},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var n=this.$.documentElement,r=0;n&&r<e.length;r++){var i=e[r];if(t)for(var o=-1,s=0;s<n.childNodes.length;s++){var a=n.childNodes[s];if((t!==!0||3!=a.nodeType||!a.previousSibling||3!=a.previousSibling.nodeType)&&(o++,o==i)){n=a;break}}else n=n.childNodes[i]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return!(CKEDITOR.env.ie&&document.documentMode<=8)&&t&&(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e=e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){return 0>e||e>=this.$.length?null:(e=this.$[e])?new CKEDITOR.dom.node(e):null}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,r){var i=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),o=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[i]=t,o[n]=1,t.setCustomData(n,r)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var r,i=t.getCustomData("list_marker_names"),o=t.getCustomData("list_marker_id");for(r in i)t.removeCustomData(r);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[o])},function(){function e(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function t(e,t){return"#"+e.$.id+" "+t.split(/,\s*/).join(", #"+e.$.id+" ")}function n(e){for(var t=0,n=0,i=r[e].length;i>n;n++)t+=parseInt(this.getComputedStyle(r[e][n])||0,10)||0;return t}CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:function(e){var t=this.$.className;return t&&(RegExp("(?:^|\\s)"+e+"(?:\\s|$)","").test(t)||(t+=" "+e)),this.$.className=t||e,this},removeClass:function(e){var t=this.getAttribute("class");return t&&(e=RegExp("(?:^|\\s+)"+e+"(?=\\s|$)","i"),e.test(t)&&((t=t.replace(e,"").replace(/^\s+/,""))?this.setAttribute("class",t):this.removeAttribute("class"))),this},hasClass:function(e){return RegExp("(?:^|\\s+)"+e+"(?=\\s|$)","").test(this.getAttribute("class"))},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text?this.$.text=this.$.text+e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();e&&e.is&&e.is("br")||(e=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&e.setAttribute("type","_moz"),this.append(e))}},breakParent:function(e){var t=new CKEDITOR.dom.range(this.getDocument());t.setStartAfter(this),t.setEndAfter(e),e=t.extractContents(),t.insertNode(this.remove()),e.insertAfterNode(this)},contains:CKEDITOR.env.ie||CKEDITOR.env.webkit?function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)}:function(e){return!!(16&this.$.compareDocumentPosition(e.$))},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),e},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(r){for(this.$.innerHTML="",t=new CKEDITOR.dom.element("body",this.getDocument()),t.$.innerHTML=e,t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");return e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:function(){var e=function(e){return this.$.getAttribute(e,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":return e=this.$.getAttribute(e,2),0!==e&&0===this.$.tabIndex&&(e=null),e;case"checked":return e=this.$.attributes.getNamedItem(e),(e.specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:e}(),getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:CKEDITOR.env.ie?function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]}:function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:CKEDITOR.env.ie?function(){var e=this.$.tabIndex;return 0===e&&!CKEDITOR.dtd.$tabIndex[this.getName()]&&0!==parseInt(this.getAttribute("tabindex"),10)&&(e=-1),e}:CKEDITOR.env.webkit?function(){var e=this.$.tabIndex;return void 0===e&&(e=parseInt(this.getAttribute("tabindex"),10),isNaN(e)&&(e=-1)),e}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getNext(e)),t},getLast:function(e){var t=this.$.lastChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getPrevious(e)),t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if("object"==typeof arguments[0])return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return!0;return!1},isEditable:function(e){var t=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:e!==!1?(e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span,!(!e||!e["#"])):!0},isIdentical:function(e){var t=this.clone(0,1),e=e.clone(0,1);if(t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.isEqualNode(e.$);if(t=t.getOuterHtml(),e=e.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&(n=n.clone(),n.setHtml(t),t=n.getHtml(),n.setHtml(e),e=n.getHtml())}return t==e},isVisible:function(){var e,t,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(e=this.getWindow(),!e.equals(CKEDITOR.document.getWindow())&&(t=e.$.frameElement)&&(n=new CKEDITOR.dom.element(t).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();n>t;t++){var r=e.getItem(t);if((r.type!=CKEDITOR.NODE_ELEMENT||!r.data("cke-bookmark"))&&(r.type==CKEDITOR.NODE_ELEMENT&&!r.isEmptyInlineRemoveable()||r.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(r.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return t>0&&(t>2||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return this.$.className.length>0;case"checked":return!!this.$.checked;case"value":return e=this.getAttribute("type"),"checkbox"==e||"radio"==e?"on"!=this.$.value:!!this.$.value}return t?t.specified:!1}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n=this.$,e=e.$;if(n!=e){var r;if(t)for(;r=n.lastChild;)e.insertBefore(n.removeChild(r),e.firstChild);else for(;r=n.firstChild;)e.appendChild(n.removeChild(r))}},mergeSiblings:function(){function e(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var r=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(r.push(t),t=n?t.getNext():t.getPrevious(),!t||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var i=n?e.getLast():e.getFirst();r.length;)r.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),i&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings()}}}return function(t){(t===!1||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){return this.$.setAttribute(e,t),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,n){return"class"==t?this.$.className=n:"style"==t?this.$.style.cssText=n:"tabindex"==t?this.$.tabIndex=n:"checked"==t?this.$.checked=n:"contenteditable"==t?e.call(this,"contentEditable",n):e.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,n){if("src"==t&&n.match(/^http:\/\//))try{e.apply(this,arguments)}catch(r){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:function(){var e=function(e){this.$.removeAttribute(e)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){"class"==e?e="className":"tabindex"==e?e="tabIndex":"contenteditable"==e&&(e="contentEditable"),this.$.removeAttribute(e)}:e}(),removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e)e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){var t=this.$.style;if(t.removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)t.removeProperty?t.removeProperty(e):t.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else{var n,r=["top","left","right","bottom"];"border"==e&&(n=["color","style","width"]);for(var t=[],i=0;i<r.length;i++)if(n)for(var o=0;o<n.length;o++)t.push([e,r[i],n[o]].join("-"));else t.push([e,r[i]].join("-"));for(e=0;e<t.length;e++)this.removeStyle(t[e])}},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(e=Math.round(100*e),this.setStyle("filter",e>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e,t=this.getElementsByTag("*"),n=0,r=t.count();r>n;n++)e=t.getItem(n),e.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,r=this.getDocument(),i=r.getBody(),o=CKEDITOR.env.quirks;if(document.documentElement.getBoundingClientRect){var s=this.$.getBoundingClientRect(),a=r.$.documentElement,l=a.clientTop||i.$.clientTop||0,u=a.clientLeft||i.$.clientLeft||0,c=!0;CKEDITOR.env.ie&&(c=r.getDocumentElement().contains(this),r=r.getBody().contains(this),c=o&&r||!o&&c),c&&(CKEDITOR.env.webkit?(t=i.$.scrollLeft||a.scrollLeft,n=i.$.scrollTop||a.scrollTop):(n=o?i.$:a,t=n.scrollLeft,n=n.scrollTop),t=s.left+t-u,n=s.top+n-l)}else for(l=this,u=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(t+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(t+=l.$.clientLeft||0,n+=l.$.clientTop||0);u&&!u.equals(l);)t-=u.$.scrollLeft,n-=u.$.scrollTop,u=u.getParent();u=l,l=(s=l.$.offsetParent)?new CKEDITOR.dom.element(s):null}return e&&(s=this.getWindow(),l=e.getWindow(),!s.equals(l)&&s.$.frameElement&&(e=new CKEDITOR.dom.element(s.$.frameElement).getDocumentPosition(e),t+=e.x,n+=e.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||o||(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do if((t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var n=t.getWindow();try{var r=n.$.frameElement;r&&(t=new CKEDITOR.dom.element(r))}catch(i){}
}while(t=t.getParent())},scrollIntoParent:function(e,t,n){function r(t,n){/body|html/.test(e.getName())?e.getWindow().$.scrollBy(t,n):(e.$.scrollLeft=e.$.scrollLeft+t,e.$.scrollTop=e.$.scrollTop+n)}function i(e,t){var n={x:0,y:0};if(!e.is(c?"body":"html")){var r=e.$.getBoundingClientRect();n.x=r.left,n.y=r.top}return r=e.getWindow(),r.equals(t)||(r=i(CKEDITOR.dom.element.get(r.$.frameElement),t),n.x=n.x+r.x,n.y=n.y+r.y),n}function o(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}var s,a,l,u;!e&&(e=this.getWindow()),l=e.getDocument();var c="BackCompat"==l.$.compatMode;e instanceof CKEDITOR.dom.window&&(e=c?l.getBody():l.getDocumentElement()),l=e.getWindow(),a=i(this,l);var d=i(e,l),h=this.$.offsetHeight;s=this.$.offsetWidth;var f=e.$.clientHeight,p=e.$.clientWidth;l=a.x-o(this,"left")-d.x||0,u=a.y-o(this,"top")-d.y||0,s=a.x+s+o(this,"right")-(d.x+p)||0,a=a.y+h+o(this,"bottom")-(d.y+f)||0,(0>u||a>0)&&r(0,t===!0?u:t===!1?a:0>u?u:a),n&&(0>l||s>0)&&r(0>l?l:s,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){for(var n=this.$.attributes,t=t||{},r=0;r<n.length;r++){var i,o=n[r],s=o.nodeName.toLowerCase();s in t||("checked"==s&&(i=this.getAttribute(s))?e.setAttribute(s,i):(!CKEDITOR.env.ie||this.hasAttribute(s))&&(i=this.getAttribute(s),null===i&&(i=o.nodeValue),e.setAttribute(s,i)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument(),e=new CKEDITOR.dom.element(e,t);this.copyAttributes(e),this.moveChildren(e),this.getParent()&&this.$.parentNode.replaceChild(e.$,this.$),e.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=e.$,delete this.getName}},getChild:function(){function e(e,t){var n=e.childNodes;return t>=0&&t<n.length?n[t]:void 0}return function(t){var n=this.$;if(t.slice)for(;t.length>0&&n;)n=e(n,t.shift());else n=e(n,t);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on("contextmenu",function(e){e.data.getTarget().hasClass("cke_enable_context_menu")||e.data.preventDefault()})},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(t===!1?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(){var e,t,n=CKEDITOR.instances;for(e in n)if(t=n[e],t.element.equals(this)&&t.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return t;return null},find:function(n){var r=e(this),n=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t(this,n)));return r(),n},findOne:function(n){var r=e(this),n=this.$.querySelector(t(this,n));return r(),n?new CKEDITOR.dom.element(n):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var r=e(this);if(r!==!1)for(var n=this.getChildren(),i=0;i<n.count();i++)r=n.getItem(i),r.type==CKEDITOR.NODE_ELEMENT?r.forEach(e,t):(!t||r.type==t)&&e(r)}});var r={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,r){"number"==typeof t&&(!r||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=n.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var r=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(r-=n.call(this,e)),r}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){e=e.$,e.parentNode.insertBefore(this.$,e.nextSibling)}},!0,{append:1,appendBogus:1,getFirst:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function e(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var r,i=n.startContainer;r=n.endContainer;var o,s=n.startOffset,a=n.endOffset,l=this.guard,u=this.type,c=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var d=r.type==CKEDITOR.NODE_ELEMENT?r:r.getParent(),h=r.type==CKEDITOR.NODE_ELEMENT?r.getChild(a):r.getNext();this._.guardLTR=function(e,t){return!(t&&d.equals(e)||h&&e.equals(h)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var f=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),p=i.type==CKEDITOR.NODE_ELEMENT?s?i.getChild(s-1):null:i.getPrevious();this._.guardRTL=function(e,t){return!(t&&f.equals(e)||p&&e.equals(p)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var m=e?this._.guardRTL:this._.guardLTR;for(o=l?function(e,t){return m(e,t)===!1?!1:l(e,t)}:m,this.current?r=this.current[c](!1,u,o):(e?r.type==CKEDITOR.NODE_ELEMENT&&(r=a>0?r.getChild(a-1):o(r,!0)===!1?null:r.getPreviousSourceNode(!0,u,o)):(r=i,r.type!=CKEDITOR.NODE_ELEMENT||(r=r.getChild(s))||(r=o(i,!0)===!1?null:i.getNextSourceNode(!0,u,o))),r&&o(r)===!1&&(r=null));r&&!this._.end;){if(this.current=r,this.evaluator&&this.evaluator(r)===!1){if(t&&this.evaluator)return!1}else if(!t)return r;r=r[c](!1,u,o)}return this.end(),this.current=null}function t(t){for(var n,r=null;n=e.call(this,t);)r=n;return r}function n(e){if(u(e))return!1;if(e.type==CKEDITOR.NODE_TEXT)return!0;if(e.type==CKEDITOR.NODE_ELEMENT){if(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||"false"==e.getAttribute("contenteditable"))return!0;var t;if((t=!CKEDITOR.env.needsBrFiller)&&(t=e.is(c)))e:{t=0;for(var n=e.getChildCount();n>t;++t)if(!u(e.getChild(t))){t=!1;break e}t=!0}if(t)return!0}return!1}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return e.call(this,0,1)!==!1},checkBackward:function(){return e.call(this,1,1)!==!1},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var r={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},i={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in i||!r[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e)):!0},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(e,t){function n(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(r){var i,o;return i=r&&r.type!=CKEDITOR.NODE_ELEMENT&&(o=r.getParent())&&n(o),i=e?i:i||n(r),!!(t^i)}},CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var n;return t&&t.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&"​"==t.getText()),!!(e^n)}},CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(r){return t(r)?r=1:(r.type==CKEDITOR.NODE_TEXT&&(r=r.getParent()),r=r.$.offsetWidth<=n),!!(e^r)}},CKEDITOR.dom.walker.nodeType=function(e,t){return function(n){return!!(t^n.type==e)}},CKEDITOR.dom.walker.bogus=function(e){function t(e){return!s(e)&&!a(e)}return function(n){var r=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&o.test(n.getText());return r&&(r=n.getParent(),n=n.getNext(t),r=r.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(e^r)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),l=CKEDITOR.dom.walker.temp();CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=s(t)||a(t)||l(t),!!(e^t)}};var u=CKEDITOR.dom.walker.ignored(),c=function(e){var t,n={};for(t in e)CKEDITOR.dtd[t]["#"]&&(n[t]=1);return n}(CKEDITOR.dtd.$block);CKEDITOR.dom.walker.editable=function(e){return function(t){return!!(e^n(t))}},CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do e=e.getPreviousSourceNode();while(a(e)||s(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty));return e&&(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&o.test(e.getText()))?e:!1}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){function e(){var e=!1,t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),r=CKEDITOR.dom.walker.bogus();return function(i){return n(i)||t(i)?!0:r(i)&&!e?e=!0:i.type==CKEDITOR.NODE_TEXT&&(i.hasAscendant("pre")||CKEDITOR.tools.trim(i.getText()).length)||i.type==CKEDITOR.NODE_ELEMENT&&!i.is(o)?!1:!0}}function t(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(r){return n(r)||t(r)?!0:!e&&s(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$removeEmpty)}}function n(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"](function(e){return!t&&u(e)&&(t=e),l(e)&&!(s(e)&&e.equals(t))})}}var r=function(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset},i=function(e,t,n,r){e.optimizeBookmark();var i,o,s=e.startContainer,a=e.endContainer,l=e.startOffset,u=e.endOffset;a.type==CKEDITOR.NODE_TEXT?a=a.split(u):a.getChildCount()>0&&(u>=a.getChildCount()?(a=a.append(e.document.createText("")),o=!0):a=a.getChild(u)),s.type==CKEDITOR.NODE_TEXT?(s.split(l),s.equals(a)&&(a=s.getNext())):l?l>=s.getChildCount()?(s=s.append(e.document.createText("")),i=!0):s=s.getChild(l).getPrevious():(s=s.append(e.document.createText(""),1),i=!0);var c,d,h,l=s.getParents(),u=a.getParents();for(c=0;c<l.length&&(d=l[c],h=u[c],d.equals(h));c++);for(var f,p,m,g=n,v=c;v<l.length;v++){for(f=l[v],g&&!f.equals(s)&&(p=g.append(f.clone())),f=f.getNext();f&&(!f.equals(u[v])&&!f.equals(a));)m=f.getNext(),2==t?g.append(f.clone(!0)):(f.remove(),1==t&&g.append(f)),f=m;g&&(g=p)}for(g=n,n=c;n<u.length;n++){if(f=u[n],t>0&&!f.equals(a)&&(p=g.append(f.clone())),!l[n]||f.$.parentNode!=l[n].$.parentNode)for(f=f.getPrevious();f&&(!f.equals(l[n])&&!f.equals(s));)m=f.getPrevious(),2==t?g.$.insertBefore(f.$.cloneNode(!0),g.$.firstChild):(f.remove(),1==t&&g.$.insertBefore(f.$,g.$.firstChild)),f=m;g&&(g=p)}2==t?(d=e.startContainer,d.type==CKEDITOR.NODE_TEXT&&(d.$.data=d.$.data+d.$.nextSibling.data,d.$.parentNode.removeChild(d.$.nextSibling)),e=e.endContainer,e.type==CKEDITOR.NODE_TEXT&&e.$.nextSibling&&(e.$.data=e.$.data+e.$.nextSibling.data,e.$.parentNode.removeChild(e.$.nextSibling))):(d&&h&&(s.$.parentNode!=d.$.parentNode||a.$.parentNode!=h.$.parentNode)&&(t=h.getIndex(),i&&h.$.parentNode==s.$.parentNode&&t--,r&&d.type==CKEDITOR.NODE_ELEMENT?(r=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document),r.insertAfter(d),d.mergeSiblings(!1),e.moveToBookmark({startNode:r})):e.setStart(h.getParent(),t)),e.collapse(!0)),i&&s.remove(),o&&a.$.parentNode&&a.remove()},o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},s=CKEDITOR.dom.walker.bogus(),a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),u=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(){var e=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,2,e),e},deleteContents:function(e){this.collapsed||i(this,0,null,e)},extractContents:function(e){var t=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,1,t,e),t},createBookmark:function(e){var t,n,r,i,o=this.collapsed;return t=this.document.createElement("span"),t.data("cke-bookmark",1),t.setStyle("display","none"),t.setHtml("&nbsp;"),e&&(r="cke_bm_"+CKEDITOR.tools.getNextNumber(),t.setAttribute("id",r+(o?"C":"S"))),o||(n=t.clone(),n.setHtml("&nbsp;"),e&&n.setAttribute("id",r+"E"),i=this.clone(),i.collapse(),i.insertNode(n)),i=this.clone(),i.collapse(!0),i.insertNode(t),n?(this.setStartAfter(t),this.setEndBefore(n)):this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),{startNode:e?r+(o?"C":"S"):t,endNode:e?r+"E":n,serializable:e,collapsed:o}},createBookmark2:function(){function e(e){var n,r=e.container,i=e.offset;n=r;var o=i;if(n=n.type!=CKEDITOR.NODE_ELEMENT||0===o||o==n.getChildCount()?0:n.getChild(o-1).type==CKEDITOR.NODE_TEXT&&n.getChild(o).type==CKEDITOR.NODE_TEXT,n&&(r=r.getChild(i-1),i=r.getLength()),r.type==CKEDITOR.NODE_ELEMENT&&i>1&&(i=r.getChild(i-1).getIndex(!0)+1),r.type==CKEDITOR.NODE_TEXT){for(n=r,o=0;(n=n.getPrevious())&&n.type==CKEDITOR.NODE_TEXT;)o+=n.getLength();n=o,r.getText()?i+=n:(o=r.getPrevious(t),n?(i=n,r=o?o.getNext():r.getParent().getFirst()):(r=r.getParent(),i=o?o.getIndex(!0)+1:0))}e.container=r,e.offset=i}var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(t){var n=this.collapsed,r={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return t&&(e(r),n||e(i)),{start:r.container.getAddress(t),end:n?null:i.container.getAddress(t),startOffset:r.offset,endOffset:i.offset,normalized:t,collapsed:n,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,r=e.end&&this.document.getByAddress(e.end,e.normalized),e=e.endOffset;this.setStart(t,n),r?this.setEnd(r,e):this.collapse(!0)}else t=(n=e.serializable)?this.document.getById(e.startNode):e.startNode,e=n?this.document.getById(e.endNode):e.endNode,this.setStartBefore(t),t.remove(),e?(this.setEndBefore(e),e.remove()):this.collapse(!0)},getBoundaryNodes:function(){var e,t=this.startContainer,n=this.endContainer,r=this.startOffset,i=this.endOffset;if(t.type==CKEDITOR.NODE_ELEMENT)if(e=t.getChildCount(),e>r)t=t.getChild(r);else if(1>e)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=new CKEDITOR.dom.node(t),t=t.getNextSourceNode()||t}if(n.type==CKEDITOR.NODE_ELEMENT)if(e=n.getChildCount(),e>i)n=n.getChild(i).getPreviousSourceNode(!0);else if(1>e)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return t.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(t=n),{startNode:t,endNode:n}},getCommonAncestor:function(e,t){var n=this.startContainer,r=this.endContainer,n=n.equals(r)?e&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(r);return t&&!n.is?n.getParent():n},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),e=this.endContainer,t=this.endOffset,e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,r=this.startOffset,i=this.collapsed;if((!e||i)&&n&&n.type==CKEDITOR.NODE_TEXT){if(r)if(r>=n.getLength())r=n.getIndex()+1,n=n.getParent();else{var o=n.split(r),r=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(o,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset=this.endOffset+1)}else r=n.getIndex(),n=n.getParent();if(this.setStart(n,r),i)return void this.collapse(!0)}n=this.endContainer,r=this.endOffset,t||i||!n||n.type!=CKEDITOR.NODE_TEXT||(r?(r>=n.getLength()||n.split(r),r=n.getIndex()+1):r=n.getIndex(),n=n.getParent(),this.setEnd(n,r))},enlarge:function(e,t){function n(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var r=RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var i=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var o,s,a,l,u,c,d,h=this.getCommonAncestor(),f=this.root,p=!1;c=this.startContainer;var m=this.startOffset;for(c.type==CKEDITOR.NODE_TEXT?(m&&(c=!CKEDITOR.tools.trim(c.substring(0,m)).length&&c,p=!!c),c&&!(l=c.getPrevious())&&(a=c.getParent())):(m&&(l=c.getChild(m-1)||c.getLast()),l||(a=c)),a=n(a);a||l;){if(a&&!l){if(!u&&a.equals(h)&&(u=!0),i?a.isBlockBoundary():!f.contains(a))break;p&&"inline"==a.getComputedStyle("display")||(p=!1,u?o=a:this.setStartBefore(a)),l=a.getPrevious()}for(;l;)if(c=!1,l.type==CKEDITOR.NODE_COMMENT)l=l.getPrevious();else{if(l.type==CKEDITOR.NODE_TEXT)d=l.getText(),r.test(d)&&(l=null),c=/[\s\ufeff]$/.test(d);else if((l.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&l.is("br"))&&!l.data("cke-bookmark"))if(p&&CKEDITOR.dtd.$removeEmpty[l.getName()]){if(d=l.getText(),r.test(d))l=null;else for(var g,m=l.$.getElementsByTagName("*"),v=0;g=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[g.nodeName.toLowerCase()]){l=null;break}l&&(c=!!d.length)}else l=null;if(c&&(p?u?o=a:a&&this.setStartBefore(a):p=!0),l){if(c=l.getPrevious(),!a&&!c){a=l,l=null;break}l=c}else a=null}a&&(a=n(a.getParent()))}c=this.endContainer,m=this.endOffset,a=l=null,u=p=!1;var b=function(e,t){var n=new CKEDITOR.dom.range(f);n.setStart(e,t),n.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);var i,n=new CKEDITOR.dom.walker(n);for(n.guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(d=i!=e?i.getText():i.substring(t),r.test(d))return!1}return!0};for(c.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(c.substring(m)).length?p=!0:(p=!c.getLength(),m==c.getLength()?(l=c.getNext())||(a=c.getParent()):b(c,m)&&(a=c.getParent())):(l=c.getChild(m))||(a=c);a||l;){if(a&&!l){if(!u&&a.equals(h)&&(u=!0),i?a.isBlockBoundary():!f.contains(a))break;p&&"inline"==a.getComputedStyle("display")||(p=!1,u?s=a:a&&this.setEndAfter(a)),l=a.getNext()}for(;l;){if(c=!1,l.type==CKEDITOR.NODE_TEXT)d=l.getText(),b(l,0)||(l=null),c=/^[\s\ufeff]/.test(d);else if(l.type==CKEDITOR.NODE_ELEMENT){if((l.$.offsetWidth>0||t&&l.is("br"))&&!l.data("cke-bookmark"))if(p&&CKEDITOR.dtd.$removeEmpty[l.getName()]){if(d=l.getText(),r.test(d))l=null;else for(m=l.$.getElementsByTagName("*"),v=0;g=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[g.nodeName.toLowerCase()]){l=null;break}l&&(c=!!d.length)}else l=null}else c=1;if(c&&p&&(u?s=a:this.setEndAfter(a)),l){if(c=l.getNext(),!a&&!c){a=l,l=null;break}l=c}else a=null}a&&(a=n(a.getParent()))}o&&s&&(h=o.contains(s)?s:o,this.setStartBefore(h),this.setEndAfter(h));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:a=new CKEDITOR.dom.range(this.root),f=this.root,a.setStartAt(f,CKEDITOR.POSITION_AFTER_START),a.setEnd(this.startContainer,this.startOffset),a=new CKEDITOR.dom.walker(a);var y,E,_=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),T=null,C=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(T){if(T.equals(e))return void(T=null)}else T=e;else if(T)return;var t=_(e);return t||(y=e),t},i=function(e){var t=C(e);return!t&&e.is&&e.is("br")&&(E=e),t};if(a.guard=C,a=a.lastBackward(),y=y||f,this.setStartAt(y,!y.is("br")&&(!a&&this.checkStartOfBlock()||a&&y.contains(a))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){a=this.clone(),a=new CKEDITOR.dom.walker(a);var O=CKEDITOR.dom.walker.whitespaces(),I=CKEDITOR.dom.walker.bookmark();if(a.evaluator=function(e){return!O(e)&&!I(e)},(a=a.previous())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br"))break}a=this.clone(),a.collapse(),a.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),a=new CKEDITOR.dom.walker(a),a.guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?i:C,y=T=E=null,a=a.lastForward(),y=y||f,this.setEndAt(y,!a&&this.checkEndOfBlock()||a&&y.contains(a)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),E&&this.setEndAfter(E)}},shrink:function(e,t,n){if(!this.collapsed){var e=e||CKEDITOR.SHRINK_TEXT,r=this.clone(),i=this.startContainer,o=this.endContainer,s=this.startOffset,a=this.endOffset,l=1,u=1;i&&i.type==CKEDITOR.NODE_TEXT&&(s?s>=i.getLength()?r.setStartAfter(i):(r.setStartBefore(i),l=0):r.setStartBefore(i)),o&&o.type==CKEDITOR.NODE_TEXT&&(a?a>=o.getLength()?r.setEndAfter(o):(r.setEndAfter(o),u=0):r.setEndBefore(o));var r=new CKEDITOR.dom.walker(r),c=CKEDITOR.dom.walker.bookmark();r.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var d;return r.guard=function(t,r){return c(t)?!0:e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||r&&t.equals(d)||n===!1&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?!1:(!r&&t.type==CKEDITOR.NODE_ELEMENT&&(d=t),!0)},l&&(i=r[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(i,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(r.reset(),(r=r[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!l&&!u)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=t.getChild(this.startOffset);n?e.insertBefore(n):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(e,t){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(t=e.getIndex(),e=e.getParent()),this._setStartContainer(e),this.startOffset=t,this.endContainer||(this._setEndContainer(e),this.endOffset=t),r(this)},setEnd:function(e,t){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(t=e.getIndex()+1,e=e.getParent()),this._setEndContainer(e),this.endOffset=t,this.startContainer||(this._setStartContainer(e),this.startOffset=t),r(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setStart(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setStart(e,e.getLength()):this.setStart(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(e)}r(this)},setEndAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setEnd(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setEnd(e,e.getLength()):this.setEnd(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(e)}r(this)},fixBlock:function(e,t){var n=this.createBookmark(),r=this.document.createElement(t);return this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(r),r.trim(),r.appendBogus(),this.insertNode(r),this.moveToBookmark(n),r},splitBlock:function(e){var t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),n=new CKEDITOR.dom.elementPath(this.endContainer,this.root),r=t.block,i=n.block,o=null;return t.blockLimit.equals(n.blockLimit)?("br"!=e&&(r||(r=this.fixBlock(!0,e),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),i||(i=this.fixBlock(!1,e))),e=r&&this.checkStartOfBlock(),t=i&&this.checkEndOfBlock(),this.deleteContents(),r&&r.equals(i)&&(t?(o=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(i,CKEDITOR.POSITION_AFTER_END),i=null):e?(o=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),r=null):(i=this.splitElement(r),r.is("ul","ol")||r.appendBogus())),{previousBlock:r,nextBlock:i,wasStartOfBlock:e,wasEndOfBlock:t,elementPath:o}):null},splitElement:function(e){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var t=this.extractContents(),n=e.clone(!1);return t.appendTo(n),n.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),n},removeEmptyBlocksAtEnd:function(){function e(e){return function(r){return t(r)||n(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.isEmptyInlineRemoveable()||e.is("table")&&r.is("caption")?!1:!0}}var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var n,r=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(e(o));)n=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=n;this.moveToBookmark(r)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,n){var r=n==CKEDITOR.START,i=this.clone();return i.collapse(r),i[r?"setStartAt":"setEndAt"](e,r?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),i=new CKEDITOR.dom.walker(i),i.evaluator=t(r),i[r?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,n=this.startOffset;return CKEDITOR.env.ie&&n&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,n)),a.test(t)&&this.trim(0,1)),this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),n=this.clone(),n.collapse(!0),n.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),t=new CKEDITOR.dom.walker(n),t.evaluator=e(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,n=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(n)),a.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),n=this.clone(),n.collapse(!1),n.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),t=new CKEDITOR.dom.walker(n),t.evaluator=e(),t.checkForward()},getPreviousNode:function(e,t,n){var r=this.clone();return r.collapse(1),r.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),n=new CKEDITOR.dom.walker(r),n.evaluator=e,n.guard=t,n.previous()},getNextNode:function(e,t,n){var r=this.clone();return r.collapse(),r.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),n=new CKEDITOR.dom.walker(r),n.evaluator=e,n.guard=t,n.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,n=this.endContainer;return!(e(t,n)&&e(n,t))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&a.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;var r=e,i=n,o=void 0;r.type==CKEDITOR.NODE_ELEMENT&&r.isEditable(!1)&&(o=r[t?"getLast":"getFirst"](u)),!i&&!o&&(o=r[t?"getPrevious":"getNext"](u)),e=o}return!!n},moveToClosestEditablePosition:function(e,t){var n,r=new CKEDITOR.dom.range(this.root),i=0,o=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return r.moveToPosition(e,o[t?0:1]),e.is(CKEDITOR.dtd.$block)?(n=r[t?"getNextEditableNode":"getPreviousEditableNode"]())&&(i=1,n.type==CKEDITOR.NODE_ELEMENT&&n.is(CKEDITOR.dtd.$block)&&"false"==n.getAttribute("contenteditable")?(r.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),r.setEndAt(n,CKEDITOR.POSITION_AFTER_END)):r.moveToPosition(n,o[t?1:0])):i=1,i&&this.moveToRange(r),!!i},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){var e=this.clone();if(e.optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);e.evaluator=function(e){return n(e)&&t(e)};var r=e.next();return e.reset(),r&&r.equals(e.previous())?r:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:n(),getPreviousEditableNode:n(1),scrollIntoView:function(){var e,t,n,r=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),i=this.clone();i.optimize(),(n=i.startContainer.type==CKEDITOR.NODE_TEXT)?(t=i.startContainer.getText(),e=i.startContainer.split(i.startOffset),r.insertAfter(i.startContainer)):i.insertNode(r),r.scrollIntoView(),n&&(i.startContainer.setText(t),e.remove()),r.remove()},_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e;

}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){arguments.length<1||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function t(e){var t=[];return e.forEach(function(e){return"true"==e.getAttribute("contenteditable")?(t.push(e),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),t}function n(e,r,i,o){e:{null==o&&(o=t(i));for(var s;s=o.shift();)if(s.getDtd().p){o={element:s,remaining:o};break e}o=null}return o?(s=CKEDITOR.filter.instances[o.element.data("cke-filter")])&&!s.check(r)?n(e,r,i,o.remaining):(r=new CKEDITOR.dom.range(o.element),r.selectNodeContents(o.element),r=r.createIterator(),r.enlargeBr=e.enlargeBr,r.enforceRealBlocks=e.enforceRealBlocks,r.activeFilter=r.filter=s,e._.nestedEditable={element:o.element,container:i,remaining:o.remaining,iterator:r},1):0}function r(e,t,n){return t?(e=e.clone(),e.collapse(!n),e.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END)):!1}var i=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(!1,!0),s=CKEDITOR.dom.walker.whitespaces(!0),a=function(e){return o(e)&&s(e)},l={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var t,s,u,c,d,e=e||"p";if(this._.nestedEditable){if(t=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,t;if(this.activeFilter=this.filter,n(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var h=this.range.clone();s=h.startPath();var f=h.endPath(),p=!h.collapsed&&r(h,s.block),m=!h.collapsed&&r(h,f.block,1);h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),p&&h.setStartAt(s.block,CKEDITOR.POSITION_BEFORE_END),m&&h.setEndAt(f.block,CKEDITOR.POSITION_AFTER_START),s=h.endContainer.hasAscendant("pre",!0)||h.startContainer.hasAscendant("pre",!0),h.enlarge(this.forceBrBreak&&!s||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),h.collapsed||(s=new CKEDITOR.dom.walker(h.clone()),f=CKEDITOR.dom.walker.bookmark(!0,!0),s.evaluator=f,this._.nextNode=s.next(),s=new CKEDITOR.dom.walker(h.clone()),s.evaluator=f,s=s.previous(),this._.lastNode=s.getNextSourceNode(!0,null,h.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(f=this.range.clone(),f.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),f.checkEndOfBlock()&&(f=new CKEDITOR.dom.elementPath(f.endContainer,f.root),this._.lastNode=(f.block||f.blockLimit).getNextSourceNode(!0))),this._.lastNode&&h.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=h.document.createText(""),this._.lastNode.insertAfter(s)),h=null),this._.started=1,s=h}for(f=this._.nextNode,h=this._.lastNode,this._.nextNode=null;f;){var p=0,m=f.hasAscendant("pre"),g=f.type!=CKEDITOR.NODE_ELEMENT,v=0;if(g)f.type==CKEDITOR.NODE_TEXT&&i.test(f.getText())&&(g=0);else{var b=f.getName();if(CKEDITOR.dtd.$block[b]&&"false"==f.getAttribute("contenteditable")){t=f,n(this,e,t);break}if(f.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){if("br"==b)g=1;else if(!s&&!f.getChildCount()&&"hr"!=b){t=f,u=f.equals(h);break}s&&(s.setEndAt(f,CKEDITOR.POSITION_BEFORE_START),"br"!=b&&(this._.nextNode=f)),p=1}else{if(f.getFirst()){s||(s=this.range.clone(),s.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),f=f.getFirst();continue}g=1}}if(g&&!s&&(s=this.range.clone(),s.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),u=(!p||g)&&f.equals(h),s&&!p)for(;!f.getNext(a)&&!u;){if(b=f.getParent(),b.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){p=1,g=0,u||b.equals(h),s.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);break}f=b,g=1,u=f.equals(h),v=1}if(g&&s.setEndAt(f,CKEDITOR.POSITION_AFTER_END),f=this._getNextSourceNode(f,v,h),(u=!f)||p&&s)break}if(!t){if(!s)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;t=new CKEDITOR.dom.elementPath(s.startContainer,s.root),f=t.blockLimit,p={div:1,th:1,td:1},t=t.block,!t&&f&&!this.enforceRealBlocks&&p[f.getName()]&&s.checkStartOfBlock()&&s.checkEndOfBlock()&&!f.equals(s.root)?t=f:!t||this.enforceRealBlocks&&t.is(l)?(t=this.range.document.createElement(e),s.extractContents().appendTo(t),t.trim(),s.insertNode(t),c=d=!0):"li"!=t.getName()?s.checkStartOfBlock()&&s.checkEndOfBlock()||(t=t.clone(!1),s.extractContents().appendTo(t),t.trim(),d=s.splitBlock(),c=!d.wasStartOfBlock,d=!d.wasEndOfBlock,s.insertNode(t)):u||(this._.nextNode=t.equals(h)?null:this._getNextSourceNode(s.getBoundaryNodes().endNode,1,h))}return c&&(c=t.getPrevious())&&c.type==CKEDITOR.NODE_ELEMENT&&("br"==c.getName()?c.remove():c.getLast()&&"br"==c.getLast().$.nodeName.toLowerCase()&&c.getLast().remove()),d&&(c=t.getLast())&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()&&(!CKEDITOR.env.needsBrFiller||c.getPrevious(o)||c.getNext(o))&&c.remove(),this._.nextNode||(this._.nextNode=u||t.equals(h)||!h?null:this._getNextSourceNode(t,1,h)),t},_getNextSourceNode:function(e,t,n){function r(e){return!(e.equals(n)||e.equals(i))}for(var i=this.range.root,e=e.getNextSourceNode(t,null,r);!o(e);)e=e.getNextSourceNode(t,null,r);return e}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){this.uiItems=[],this.exec=function(n){return this.state!=CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()?(this.editorFocus&&e.focus(),this.fire("exec")===!1?!0:t.exec.call(this,e,n)!==!1):!1},this.refresh=function(e,n){return!this.readOnly&&e.readOnly?!0:this.context&&!n.isContextFor(this.context)?(this.disable(),!0):this.checkAllowed(!0)?(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),this.fire("refresh",{editor:e,path:n})===!1?!0:t.refresh&&t.refresh.apply(this,arguments)!==!1):(this.disable(),!0)};var n;this.checkAllowed=function(t){return t||"boolean"!=typeof n?n=e.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed()?!1:(this.previousState=this.state,this.state=e,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function e(e,t,n,r,i){var o,a,e=[];for(o in t){a=t[o],a="boolean"==typeof a?{}:"function"==typeof a?{match:a}:w(a),"$"!=o.charAt(0)&&(a.elements=o),n&&(a.featureName=n.toLowerCase());var l=a;l.elements=s(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||l.elements===!0;var u=/\s*,\s*/,c=void 0;for(c in K){l[c]=s(l[c],u)||null;var d=l,h=N[c],f=s(l[N[c]],u),p=l[c],m=[],g=!0,b=void 0;f?g=!1:f={};for(b in p)"!"==b.charAt(0)&&(b=b.slice(1),m.push(b),f[b]=!0,g=!1);for(;b=m.pop();)p[b]=p["!"+b],delete p["!"+b];d[h]=(g?!1:f)||null}l.match=l.match||null,r.push(a),e.push(a)}for(var y,t=i.elements,i=i.generic,n=0,r=e.length;r>n;++n){o=w(e[n]),a=o.classes===!0||o.styles===!0||o.attributes===!0,l=o,c=h=u=void 0;for(u in K)l[u]=v(l[u]);d=!0;for(c in N){u=N[c],h=l[u],f=[],p=void 0;for(p in h)f.push(p.indexOf("*")>-1?RegExp("^"+p.replace(/\*/g,".*")+"$"):p);h=f,h.length&&(l[u]=h,d=!1)}if(l.nothingRequired=d,l.noProperties=!(l.attributes||l.classes||l.styles),o.elements===!0||null===o.elements)i[a?"unshift":"push"](o);else{l=o.elements,delete o.elements;for(y in l)t[y]?t[y][a?"unshift":"push"](o):t[y]=[o]}}}function t(e,t,r,i){if((!e.match||e.match(t))&&(i||a(e,t))&&(e.propertiesOnly||(r.valid=!0),r.allAttributes||(r.allAttributes=n(e.attributes,t.attributes,r.validAttributes)),r.allStyles||(r.allStyles=n(e.styles,t.styles,r.validStyles)),!r.allClasses)){if(e=e.classes,t=t.classes,i=r.validClasses,e)if(e===!0)e=!0;else{for(var o,s=0,l=t.length;l>s;++s)o=t[s],i[o]||(i[o]=e(o));e=!1}else e=!1;r.allClasses=e}}function n(e,t,n){if(!e)return!1;if(e===!0)return!0;for(var r in t)n[r]||(n[r]=e(r));return!1}function r(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;if(n.hadInvalidAttribute=i(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=i(e.styles,t.styles)||n.hadInvalidStyle,e=e.classes,t=t.classes,e){for(var r=!1,o=e===!0,s=t.length;s--;)(o||e(t[s]))&&(t.splice(s,1),r=!0);e=r}else e=!1;n.hadInvalidClass=e||n.hadInvalidClass}}function i(e,t){if(!e)return!1;var n,r=!1,i=e===!0;for(n in t)(i||e(n))&&(delete t[n],r=!0);return r}function o(e,t,n){return e.disabled||e.customConfig&&!n||!t?!1:(e._.cachedChecks={},!0)}function s(e,t){if(!e)return!1;if(e===!0)return e;if("string"==typeof e)return e=x(e),"*"==e?!0:CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return e.length?CKEDITOR.tools.convertArrayToObject(e):!1;var n,r={},i=0;for(n in e)r[n]=e[n],i++;return i?r:!1}function a(e,t){if(e.nothingRequired)return!0;var n,r,i,o;if(i=e.requiredClasses)for(o=t.classes,n=0;n<i.length;++n)if(r=i[n],"string"==typeof r){if(-1==CKEDITOR.tools.indexOf(o,r))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(o,r))return!1;return l(t.styles,e.requiredStyles)&&l(t.attributes,e.requiredAttributes)}function l(e,t){if(!t)return!0;for(var n,r=0;r<t.length;++r)if(n=t[r],"string"==typeof n){if(!(n in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return!1;return!0}function u(e){if(!e)return{};for(var e=e.split(/\s*,\s*/).sort(),t={};e.length;)t[e.shift()]=k;return t}function c(e){for(var t,n,r,i,o={},s=1,e=x(e);t=e.match(A);)(n=t[2])?(r=d(n,"styles"),i=d(n,"attrs"),n=d(n,"classes")):r=i=n=null,o["$"+s++]={elements:t[1],classes:n,styles:r,attributes:i},e=e.slice(t[0].length);return o}function d(e,t){var n=e.match(P[t]);return n?x(n[1]):null}function h(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes["class"];e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function f(e,n,i,o){var s,a=0;if(o.toHtml&&(n.name=n.name.replace(L,"$1")),o.doCallbacks&&e.elementCallbacks){e:for(var l,u=e.elementCallbacks,c=0,d=u.length;d>c;++c)if(l=u[c](n)){s=l;break e}if(s)return s}if(o.doTransform&&(s=e._.transformations[n.name])){for(h(n),u=0;u<s.length;++u)_(e,n,s[u]);m(n)}if(o.doFilter){e:{u=n.name,c=e._,e=c.allowedRules.elements[u],s=c.allowedRules.generic,u=c.disallowedRules.elements[u],c=c.disallowedRules.generic,d=o.skipRequired,l={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};var f,p;if(e||s){if(h(n),u)for(f=0,p=u.length;p>f;++f)if(r(u[f],n,l)===!1){e=null;break e}if(c)for(f=0,p=c.length;p>f;++f)r(c[f],n,l);if(e)for(f=0,p=e.length;p>f;++f)t(e[f],n,l,d);if(s)for(f=0,p=s.length;p>f;++f)t(s[f],n,l,d);e=l}else e=null}if(!e)return i.push(n),R;if(!e.valid)return i.push(n),R;p=e.validAttributes;var v=e.validStyles;s=e.validClasses;var b,y,u=n.attributes,E=n.styles,c=n.classes,d=n.classBackup,T=n.styleBackup,C=[];l=[];var O=/^data-cke-/;if(f=!1,delete u.style,delete u["class"],delete n.classBackup,delete n.styleBackup,!e.allAttributes)for(b in u)p[b]||(O.test(b)?b==(y=b.replace(/^data-cke-saved-/,""))||p[y]||(delete u[b],f=!0):(delete u[b],f=!0));if(!e.allStyles||e.hadInvalidStyle){for(b in E)e.allStyles||v[b]?C.push(b+":"+E[b]):f=!0;C.length&&(u.style=C.sort().join("; "))}else T&&(u.style=T);if(!e.allClasses||e.hadInvalidClass){for(b=0;b<c.length;++b)(e.allClasses||s[c[b]])&&l.push(c[b]);l.length&&(u["class"]=l.sort().join(" ")),d&&l.length<d.split(/\s+/).length&&(f=!0)}else d&&(u["class"]=d);if(f&&(a=R),!o.skipFinalValidation&&!g(n))return i.push(n),R}return o.toHtml&&(n.name=n.name.replace(M,"cke:$1")),a}function p(e){var t,n=[];for(t in e)t.indexOf("*")>-1&&n.push(t.replace(/\*/g,".*"));return n.length?RegExp("^(?:"+n.join("|")+")$"):null}function m(e){var t,n=e.attributes;delete n.style,delete n["class"],(t=CKEDITOR.tools.writeCssText(e.styles,!0))&&(n.style=t),e.classes.length&&(n["class"]=e.classes.sort().join(" "))}function g(e){switch(e.name){case"a":if(!e.children.length&&!e.attributes.name)return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function v(e){if(!e)return!1;if(e===!0)return!0;var t=p(e);return function(n){return n in e||t&&n.match(t)}}function b(){return new CKEDITOR.htmlParser.element("br")}function y(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||D.$block[e.name])}function E(e,t,n){var r=e.name;if(D.$empty[r]||!e.children.length)"hr"==r&&"br"==t?e.replaceWith(b()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove());else if(D.$block[r]||"tr"==r)if("br"==t)e.previous&&!y(e.previous)&&(t=b(),t.insertBefore(e)),e.next&&!y(e.next)&&(t=b(),t.insertAfter(e)),e.replaceWithChildren();else{var i,r=e.children;e:{i=D[t];for(var o,s=0,a=r.length;a>s;++s)if(o=r[s],o.type==CKEDITOR.NODE_ELEMENT&&!i[o.name]){i=!1;break e}i=!0}if(i)e.name=t,e.attributes={},n.push({check:"parent-down",el:e});else{i=e.parent;for(var l,u,s=i.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==i.name,a=r.length;a>0;)o=r[--a],s&&(o.type==CKEDITOR.NODE_TEXT||o.type==CKEDITOR.NODE_ELEMENT&&D.$inline[o.name])?(l||(l=new CKEDITOR.htmlParser.element(t),l.insertAfter(e),n.push({check:"parent-down",el:l})),l.add(o,0)):(l=null,u=D[i.name]||D.span,o.insertAfter(e),i.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&o.type==CKEDITOR.NODE_ELEMENT&&!u[o.name]&&n.push({check:"el-up",el:o}));e.remove()}}else"style"==r?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function _(e,t,n){var r,i;for(r=0;r<n.length;++r)if(i=n[r],!(i.check&&!e.check(i.check,!1)||i.left&&!i.left(t))){i.right(t,F);break}}function T(e,t){var n,r,i,o,s=t.getDefinition(),a=s.attributes,l=s.styles;if(e.name!=s.element)return!1;for(n in a)if("class"==n){for(s=a[n].split(/\s+/),i=e.classes.join("|");o=s.pop();)if(-1==i.indexOf(o))return!1}else if(e.attributes[n]!=a[n])return!1;for(r in l)if(e.styles[r]!=l[r])return!1;return!0}function C(e,t){var n,r;return"string"==typeof e?n=e:e instanceof CKEDITOR.style?r=e:(n=e[0],r=e[1]),[{element:n,left:r,right:function(e,n){n.transform(e,t)}}]}function O(e){return function(t){return T(t,e)}}function I(e){return function(t,n){n[e](t)}}var D=CKEDITOR.dtd,R=1,w=CKEDITOR.tools.copy,x=CKEDITOR.tools.trim,k="cke-test",S=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(e){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}},CKEDITOR.filter.instances[this.id]=this,e instanceof CKEDITOR.editor){e=this.editor=e,this.customConfig=!0;var t=e.config.allowedContent;t===!0?this.disabled=!0:(t||(this.customConfig=!1),this.allow(t,"config",1),this.allow(e.config.extraAllowedContent,"extra",1),this.allow(S[e.enterMode]+" "+S[e.shiftEnterMode],"default",1),this.disallow(e.config.disallowedContent))}else this.customConfig=!1,this.allow(e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,n,r){if(!o(this,t,r))return!1;var i,s;if("string"==typeof t)t=c(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),n,r);i=t.getDefinition(),t={},r=i.attributes,t[i.element]=i={styles:i.styles,requiredStyles:i.styles&&CKEDITOR.tools.objectKeys(i.styles)},r&&(r=w(r),i.classes=r["class"]?r["class"].split(/\s+/):null,i.requiredClasses=i.classes,delete r["class"],i.attributes=r,i.requiredAttributes=r&&CKEDITOR.tools.objectKeys(r))}else if(CKEDITOR.tools.isArray(t)){for(i=0;i<t.length;++i)s=this.allow(t[i],n,r);return s}return e(this,t,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,t,n,r){if(this.disabled)return!1;var i,o=this,s=[],a=this.editor&&this.editor.config.protectedSource,l=!1,u={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:t};e.forEach(function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(!t||"span"!=e.name||!~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-"))if(i=f(o,e,s,u),i&R)l=!0;else if(2&i)return!1}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;e:{var r=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));n=[];var c,d,h;if(a)for(d=0;d<a.length;++d)if((h=r.match(a[d]))&&h[0].length==r.length){n=!0;break e}r=CKEDITOR.htmlParser.fragment.fromHtml(r),1==r.children.length&&(c=r.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(o,c,n,u),n=!n.length}n||s.push(e)}},null,!0),s.length&&(l=!0);for(var c,d,e=[],r=S[r||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];n=s.pop();)n.type==CKEDITOR.NODE_ELEMENT?E(n,r,e):n.remove();for(;c=e.pop();)if(n=c.el,n.parent)switch(d=D[n.parent.name]||D.span,c.check){case"it":D.$removeEmpty[n.name]&&!n.children.length?E(n,r,e):g(n)||E(n,r,e);break;case"el-up":n.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!d[n.name]&&E(n,r,e);break;case"parent-down":n.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!d[n.name]&&E(n.parent,r,e)}return l},checkFeature:function(e){return this.disabled||!e?!0:(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return o(this,t,!0)?("string"==typeof t&&(t=c(t)),e(this,t,null,this.disallowedContent,this._.disallowedRules),!0):!1},addContentForms:function(e){if(!this.disabled&&e){var t,n,r,i=[];for(t=0;t<e.length&&!r;++t)n=e[t],("string"==typeof n||n instanceof CKEDITOR.style)&&this.check(n)&&(r=n);if(r){for(t=0;t<e.length;++t)i.push(C(e[t],r));this.addTransformations(i)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return this.disabled||!e?!0:(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),e.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(e.requiredContent):!0)},addTransformations:function(e){var t,n;if(!this.disabled&&e){var r,i=this._.transformations;for(r=0;r<e.length;++r){t=e[r];var o=void 0,s=void 0,a=void 0,l=void 0,u=void 0,c=void 0;for(n=[],s=0;s<t.length;++s)a=t[s],"string"==typeof a?(a=a.split(/\s*:\s*/),l=a[0],u=null,c=a[1]):(l=a.check,u=a.left,c=a.right),o||(o=a,o=o.element?o.element:l?l.match(/^([a-z0-9]+)/i)[0]:o.left.getDefinition().element),u instanceof CKEDITOR.style&&(u=O(u)),n.push({check:l==o?null:l,left:u,right:"string"==typeof c?I(c):c});t=o,i[t]||(i[t]=[]),i[t].push(n)}}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var r=e.length;r--;)if(this.check(e[r],t,n))return!0;return!1}var i,o;if("string"==typeof e){if(o=e+"<"+(t===!1?"0":"1")+(n?"1":"0")+">",o in this._.cachedChecks)return this._.cachedChecks[o];r=c(e).$1,i=r.styles;var s=r.classes;r.name=r.elements,r.classes=s=s?s.split(/\s*,\s*/):[],r.styles=u(i),r.attributes=u(r.attributes),r.children=[],s.length&&(r.attributes["class"]=s.join(" ")),i&&(r.attributes.style=CKEDITOR.tools.writeCssText(r.styles)),i=r}else r=e.getDefinition(),i=r.styles,s=r.attributes||{},i?(i=w(i),s.style=CKEDITOR.tools.writeCssText(i,!0)):i={},i={name:r.element,attributes:s,classes:s["class"]?s["class"].split(/\s+/):[],styles:i,children:[]};var a,s=CKEDITOR.tools.clone(i),l=[];if(t!==!1&&(a=this._.transformations[i.name])){for(r=0;r<a.length;++r)_(this,i,a[r]);m(i)}return f(this,s,l,{doFilter:!0,doTransform:t!==!1,skipRequired:!n,skipFinalValidation:!n}),t=l.length>0?!1:CKEDITOR.tools.objectCompare(i.attributes,s.attributes,!0)?!0:!1,"string"==typeof e&&(this._.cachedChecks[o]=t),t},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,r){var i,o=e.slice();if(this.check(S[n]))return n;for(r||(o=o.reverse());i=o.pop();)if(this.check(i))return t[i];return CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var K={styles:1,attributes:1,classes:1},N={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},A=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,P={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},L=/^cke:(object|embed|param)$/,M=/^(object|embed|param)$/,F=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(n=n||t,!(n in e.styles)){var r=e.attributes[t];r&&(/^\d+$/.test(r)&&(r+="px"),e.styles[n]=r)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(n=n||t,!(n in e.attributes)){var r=e.styles[t],i=r&&r.match(/^(\d+)(?:\.\d*)?px$/);i?e.attributes[n]=i[1]:r==k&&(e.attributes[n]=k)}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;("left"==t||"right"==t)&&(e.styles["float"]=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles["float"];("left"==t||"right"==t)&&(e.attributes.align=t)}delete e.styles["float"]},matchesStyle:T,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n,r,i,o,s=t.getDefinition(),a=s.styles,l=s.attributes;e.name=s.element;for(n in l)if("class"==n)for(s=e.classes.join("|"),i=l[n].split(/\s+/);o=i.pop();)-1==s.indexOf(o)&&e.classes.push(o);else e.attributes[n]=l[n];for(r in a)e.styles[r]=a[r]}}}}(),function(){CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),this.hasFocus||this._.locked||((e=CKEDITOR.currentInstance)&&e.focusManager.blur(1),this.hasFocus=!0,(e=this._.editor.container)&&e.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,t.call(this)},n,this)}},add:function(e,t){var n=e.getCustomData("focusmanager");if(!n||n!=this){n&&n.remove(e);var n="focus",r="blur";t&&(CKEDITOR.env.ie?(n="focusin",r="focusout"):CKEDITOR.event.useCapture=1);var i={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(n,i.focus,this),e.on(r,i.blur,this),t&&(CKEDITOR.event.useCapture=0),e.setCustomData("focusmanager",this),e.setCustomData("focusmanager_handlers",i)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur),e.removeListener("focus",t.focus)}}}(),CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){var t=t.data,n=t.getKeystroke(),r=this.keystrokes[n],i=this._.editor;return e=i.fire("key",{keyCode:n,domEvent:t})===!1,e||(r&&(e=i.execCommand(r,{from:"keystrokeHandler"})!==!1),e||(e=!!this.blockedKeystrokes[n])),e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",n,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var r=this,t=function(){r[e].dir=r.rtl[e]?"rtl":"ltr",n(e,r[e])};this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var n=this.languages,t=t||navigator.userLanguage||navigator.language||e,r=t.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),i=r[1],r=r[2];return n[i+"-"+r]?i=i+"-"+r:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(e){return e},i||e}}}(),CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(n,r,i,o){var s="string"==typeof n;s&&(n=[n]),i||(i=CKEDITOR);var a=n.length,l=[],u=[],c=function(e){r&&(s?r.call(i,e):r.call(i,l,u))};if(0===a)c(!0);else{var d=function(e,t){(t?l:u).push(e),--a<=0&&(o&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),c(t))},h=function(n,r){e[n]=1;var i=t[n];delete t[n];for(var o=0;o<i.length;o++)i[o](n,r)},f=function(n){if(e[n])d(n,!0);else{var i=t[n]||(t[n]=[]);if(i.push(d),!(i.length>1)){var o=new CKEDITOR.dom.element("script");o.setAttributes({type:"text/javascript",src:n}),r&&(CKEDITOR.env.ie&&CKEDITOR.env.version<11?o.$.onreadystatechange=function(){("loaded"==o.$.readyState||"complete"==o.$.readyState)&&(o.$.onreadystatechange=null,h(n,!0))}:(o.$.onload=function(){setTimeout(function(){h(n,!0)},0)},o.$.onerror=function(){h(n,!1)})),o.appendTo(CKEDITOR.document.getHead())}}};o&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;a>p;p++)f(n[p])}},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(n,r){var i=this;t.push({scriptUrl:n,callback:function(){r&&r.apply(this,arguments),t.shift(),e.call(i)}}),1==t.length&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw'[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.';var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){for(var e=e.split(","),r=0;r<e.length;r++){var i=e[r];n||(t=t.replace(/[^\/]+$/,function(e){return n=e,""})),this.externals[i]={dir:t,file:n||this.fileName+".js"}}},load:function(e,t,n){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var r=this.loaded,i=this.registered,o=[],s={},a={},l=0;l<e.length;l++){var u=e[l];if(u)if(r[u]||i[u])a[u]=this.get(u);else{var c=this.getFilePath(u);o.push(c),c in s||(s[c]=[]),s[c].push(u)}}CKEDITOR.scriptLoader.load(o,function(e,i){if(i.length)throw'[CKEDITOR.resourceManager.load] Resource name "'+s[i[0]].join(",")+'" was not found at "'+i[0]+'".';for(var o=0;o<e.length;o++)for(var l=s[e[o]],u=0;u<l.length;u++){var c=l[u];a[c]=this.get(c),r[c]=1}t.call(n,a)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var t={};return function(n,r,i){var o={},s=function(n){e.call(this,n,function(e){CKEDITOR.tools.extend(o,e);var n,a=[];for(n in e){var l=e[n],u=l&&l.requires;if(!t[n]){if(l.icons)for(var c=l.icons.split(","),d=c.length;d--;)CKEDITOR.skin.addIcon(c[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+c[d]+".png");t[n]=1}if(u)for(u.split&&(u=u.split(",")),l=0;l<u.length;l++)o[u[l]]||a.push(u[l])}if(a.length)s.call(this,a);else{for(n in o)l=o[n],l.onLoad&&!l.onLoad._called&&(l.onLoad()===!1&&delete o[n],l.onLoad._called=1);r&&r.call(i||window,o)}},this)};s.call(this,n)}}),CKEDITOR.plugins.setLang=function(e,t,n){var r=this.get(e),e=r.langEntries||(r.langEntries={}),r=r.lang||(r.lang=[]);r.split&&(r=r.split(",")),-1==CKEDITOR.tools.indexOf(r,t)&&r.push(t),e[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var r=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(r,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],r=t&&t.command&&this.editor.getCommand(t.command),n=n&&n.create.apply(this,t.args);return this.instances[e]=n,r&&r.uiItems.push(n),n&&!n.type&&(n.type=t.type),n},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,r,o){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==r){if(!(r instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!o)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!(o==CKEDITOR.ELEMENT_MODE_INLINE?r.is(CKEDITOR.dtd.$editable)||r.is("textarea"):o==CKEDITOR.ELEMENT_MODE_REPLACE?!r.is(CKEDITOR.dtd.$nonBodyContent):1))throw Error('The specified element mode is not supported on element: "'+r.getName()+'".');this.element=r,this.elementMode=o,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(r.getId()||r.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||t(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",n),this.on("selectionChange",function(e){i(this,e.data.path)}),this.on("activeFilterChange",function(){i(this,this.elementPath(),!0)}),this.on("mode",n),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),
CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){s(this,e)},0,this)}function t(){do var e="editor"+ ++h;while(CKEDITOR.instances[e]);return e}function n(){var e,t=this.commands;for(e in t)r(this,t[e])}function r(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function i(e,t,n){if(t){var r,i,o=e.commands;for(i in o)r=o[i],(n||r.contextSensitive)&&r.refresh(e,t)}}function o(e){var t=e.config.customConfig;if(!t)return!1;var t=CKEDITOR.getUrl(t),n=f[t]||(f[t]={});return n.fn?(n.fn.call(e,e.config),(CKEDITOR.getUrl(e.config.customConfig)==t||!o(e))&&e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(t,function(){n.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},o(e)}),!0}function s(e,t){e.on("customConfigLoaded",function(){if(t){if(t.on)for(var n in t.on)e.on(n,t.on[n]);CKEDITOR.tools.extend(e.config,t,!0),delete e.config.on}n=e.config,e.readOnly=!(!n.readOnly&&!(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&e.element.hasAttribute("disabled"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p):!1,e.tabIndex=n.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:n.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),a(e)}),t&&null!=t.customConfig&&(e.config.customConfig=t.customConfig),o(e)||e.fireOnce("customConfigLoaded")}function a(e){CKEDITOR.skin.loadPart("editor",function(){l(e)})}function l(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,function(t,n){var r=e.config.title;e.langCode=t,e.lang=CKEDITOR.tools.prototypedCopy(n),e.title="string"==typeof r||r===!1?r:[e.lang.editor,e.name].join(", "),e.config.contentsLangDirection||(e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir),e.fire("langLoaded"),u(e)})}function u(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),c(e)})}function c(e){var t=e.config,n=t.plugins,r=t.extraPlugins,i=t.removePlugins;if(r)var o=RegExp("(?:^|,)(?:"+r.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),n=n.replace(o,""),n=n+(","+r);if(i)var s=RegExp("(?:^|,)(?:"+i.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),n=n.replace(s,"");CKEDITOR.env.air&&(n+=",adobeair"),CKEDITOR.plugins.load(n.split(","),function(n){var r=[],i=[],o=[];e.plugins=n;for(var a in n){var l,u=n[a],c=u.lang,d=null,h=u.requires;if(CKEDITOR.tools.isArray(h)&&(h=h.join(",")),h&&(l=h.match(s)))for(;h=l.pop();)CKEDITOR.tools.setTimeout(function(e,t){throw Error('Plugin "'+e.replace(",","")+'" cannot be removed from the plugins list, because it\'s required by "'+t+'" plugin.')},0,null,[h,a]);c&&!e.lang[a]&&(c.split&&(c=c.split(",")),CKEDITOR.tools.indexOf(c,e.langCode)>=0?d=e.langCode:(d=e.langCode.replace(/-.*/,""),d=d!=e.langCode&&CKEDITOR.tools.indexOf(c,d)>=0?d:CKEDITOR.tools.indexOf(c,"en")>=0?"en":c[0]),u.langEntries&&u.langEntries[d]?(e.lang[a]=u.langEntries[d],d=null):o.push(CKEDITOR.getUrl(u.path+"lang/"+d+".js"))),i.push(d),r.push(u)}CKEDITOR.scriptLoader.load(o,function(){for(var n=["beforeInit","init","afterInit"],o=0;o<n.length;o++)for(var s=0;s<r.length;s++){var a=r[s];0===o&&i[s]&&a.lang&&a.langEntries&&(e.lang[a.name]=a.langEntries[i[s]]),a[n[o]]&&a[n[o]](e)}for(e.fireOnce("pluginsLoaded"),t.keystrokes&&e.setKeystroke(e.config.keystrokes),s=0;s<e.config.blockedKeystrokes.length;s++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[s]]=1;e.status="loaded",e.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,e)})})}function d(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var h=0,f={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(e,t){t.name=e.toLowerCase();var n=new CKEDITOR.command(this,t);return this.mode&&r(this,n),this.commands[e]=n},_attachToForm:function(){function e(e){t.updateElement(),t._.required&&!n.getValue()&&t.fire("required")===!1&&e.data.preventDefault()}var t=this,n=t.element,r=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&r&&(r.on("submit",e),r.$.submit&&r.$.submit.call&&r.$.submit.apply&&(r.$.submit=CKEDITOR.tools.override(r.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),t.on("destroy",function(){r.removeListener("submit",e)}))},destroy:function(e){this.fire("beforeDestroy"),!e&&d.call(this),this.editable(null),this.filter.destroy(),delete this.filter,delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){if(e=this.getSelection(),!e)return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),r={name:e,commandData:t,command:n};return n&&n.state!=CKEDITOR.TRISTATE_DISABLED&&this.fire("beforeCommandExec",r)!==!1&&(r.returnValue=n.exec(r.commandData),!n.async&&this.fire("afterCommandExec",r)!==!1)?r.returnValue:!1},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");if("string"!=typeof e){var t=this.element;t&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e=t.is("textarea")?t.getValue():t.getHtml())}return e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var r=!0,i=t;t&&"object"==typeof t&&(n=t.internal,i=t.callback,r=!t.noSnapshot),!n&&r&&this.fire("saveSnapshot"),(i||!n)&&this.once("dataReady",function(e){!n&&r&&this.fire("saveSnapshot"),i&&i.call(e.editor)}),e={dataValue:e},!n&&this.fire("setData",e),this._.data=e.dataValue,!n&&this.fire("afterSetData",e)},setReadOnly:function(e){e=null==e||e,this.readOnly!=e&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t){this.fire("insertHtml",{dataValue:e,mode:t})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return d.call(this)},setKeystroke:function(){for(var e,t,n=this.keystrokeHandler.keystrokes,r=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],i=r.length;i--;)e=r[i],t=0,CKEDITOR.tools.isArray(e)&&(t=e[1],e=e[0]),t?n[e]=t:delete n[e]},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode,t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode,(this.activeEnterMode!=e||this.activeShiftEnterMode!=t)&&(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var r,i,o,s=0;r=this._.htmlPartsRegex.exec(n);)if(i=r.index,i>s&&(s=n.substring(s,i),o?o.push(s):this.onText(s)),s=this._.htmlPartsRegex.lastIndex,!(i=r[1])||(i=i.toLowerCase(),o&&CKEDITOR.dtd.$cdata[i]&&(this.onCDATA(o.join("")),o=null),o))if(o)o.push(r[0]);else if(i=r[3]){if(i=i.toLowerCase(),!/="/.test(i)){var a,l={},u=r[4];if(r=!!r[5],u)for(;a=e.exec(u);){var c=a[1].toLowerCase();a=a[2]||a[3]||a[4]||"",l[c]=!a&&t[c]?c:CKEDITOR.tools.htmlDecodeAttr(a)}this.onTagOpen(i,l,r),!o&&CKEDITOR.dtd.$cdata[i]&&(o=[])}}else(i=r[2])&&this.onComment(i);else this.onTagClose(i);n.length>s&&this.onText(n.substring(s,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){this._.output.push(t?" />":">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("<!--",e,"-->")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),function(){CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,r=this.next;n&&(n.next=r),r&&(r.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),r=e.previous=this.previous,i=e.next=this.next;r&&(r.next=e),i&&(i.previous=e),t[n]=e,e.parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),r=e.next;t.splice(n+1,0,this),this.next=e.next,this.previous=e,e.next=this,r&&(r.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,(this.previous=e.previous)&&(e.previous.next=this),e.previous=this,this.parent=e.parent},getAscendant:function(e){for(var t=("function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e}),n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}}}(),CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),function(){CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){return(this.value=e.onText(t,this.value,this))?void 0:(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}})}(),function(){CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}})}(),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function e(e){return e.attributes["data-cke-survive"]?!1:"a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name]}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},r=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),i={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(o,s,a){function l(e){var t;if(g.length>0)for(var n=0;n<g.length;n++){var r=g[n],i=r.name,o=CKEDITOR.dtd[i],s=b.name&&CKEDITOR.dtd[b.name];s&&!s[i]||e&&o&&!o[e]&&CKEDITOR.dtd[e]?i==b.name&&(d(b,b.parent,1),n--):(t||(u(),t=1),r=r.clone(),r.parent=b,b=r,g.splice(n,1),n--)}}function u(){for(;v.length;)d(v.shift(),b)}function c(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t,n=e.children.length,r=e.children[n-1];r&&r.type==CKEDITOR.NODE_TEXT&&((t=CKEDITOR.tools.rtrim(r.value))?r.value=t:e.children.length=n-1)}}function d(t,n,r){var n=n||b||m,i=b;void 0===t.previous&&(h(n,t)&&(b=n,p.onTagOpen(a,{}),t.returnPoint=n=b),c(t),(!e(t)||t.children.length)&&n.add(t),"pre"==t.name&&(E=!1),"textarea"==t.name&&(y=!1)),t.returnPoint?(b=t.returnPoint,delete t.returnPoint):b=r?n:i}function h(e,t){if((e==m||"body"==e.name)&&a&&(!e.name||CKEDITOR.dtd[e.name][a])){var n,r;return(n=t.attributes&&(r=t.attributes["data-cke-real-element-type"])?r:t.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}}function f(e,t){return e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent?e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t:!1}var p=new CKEDITOR.htmlParser,m=s instanceof CKEDITOR.htmlParser.element?s:"string"==typeof s?new CKEDITOR.htmlParser.element(s):new CKEDITOR.htmlParser.fragment,g=[],v=[],b=m,y="textarea"==m.name,E="pre"==m.name;p.onTagOpen=function(i,o,s,a){if(o=new CKEDITOR.htmlParser.element(i,o),o.isUnknown&&s&&(o.isEmpty=!0),o.isOptionalClose=a,e(o))g.push(o);else{if("pre"==i)E=!0;else{if("br"==i&&E)return void b.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==i&&(y=!0)}if("br"==i)v.push(o);else{for(;a=(s=b.name)?CKEDITOR.dtd[s]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):r,!(o.isUnknown||b.isUnknown||a[i]);)if(b.isOptionalClose)p.onTagClose(s);else if(i in n&&s in n)s=b.children,(s=s[s.length-1])&&"li"==s.name||d(s=new CKEDITOR.htmlParser.element("li"),b),!o.returnPoint&&(o.returnPoint=b),b=s;else if(i in CKEDITOR.dtd.$listItem&&!f(i,s))p.onTagOpen("li"==i?"ul":"dl",{},0,1);else if(s in t&&!f(i,s))!o.returnPoint&&(o.returnPoint=b),b=b.parent;else{if(s in CKEDITOR.dtd.$inline&&g.unshift(b),!b.parent){o.isOrphan=1;break}d(b,b.parent,1)}l(i),u(),o.parent=b,o.isEmpty?d(o):b=o}}},p.onTagClose=function(e){for(var t=g.length-1;t>=0;t--)if(e==g[t].name)return void g.splice(t,1);for(var n=[],r=[],i=b;i!=m&&i.name!=e;)i._.isBlockLike||r.unshift(i),n.push(i),i=i.returnPoint||i.parent;if(i!=m){for(t=0;t<n.length;t++){var o=n[t];d(o,o.parent)}b=i,i._.isBlockLike&&u(),d(i,i.parent),i==b&&(b=b.parent),g=g.concat(r)}"body"==e&&(a=!1)},p.onText=function(e){if(b._.hasInlineStarted&&!v.length||E||y||(e=CKEDITOR.tools.ltrim(e),0!==e.length)){var n=b.name,o=n?CKEDITOR.dtd[n]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):r;!y&&!o["#"]&&n in t?(p.onTagOpen(i[n]||""),p.onText(e)):(u(),l(),!E&&!y&&(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),h(b,e)&&this.onTagOpen(a,{},0,1),b.add(e))}},p.onCDATA=function(e){b.add(new CKEDITOR.htmlParser.cdata(e))},p.onComment=function(e){u(),l(),b.add(new CKEDITOR.htmlParser.comment(e))},p.parse(o);for(u();b!=m;)d(b,b.parent,1);return c(m),m},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=t>0?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,e.parent=this,this.children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id)for(n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id,t=0;t<this.children.length;t++)this.children[t].filter(e,n)===!1&&t--},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var r=this.getFilterContext();for(n&&!this.parent&&t&&t.onRoot(r,this),t&&this.filterChildren(t,!1,r),t=0,n=this.children,r=n.length;r>t;t++)n[t].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var r=e(this);if(r!==!1)for(var n=this.children,i=0;i<n.length;i++)r=n[i],r.type==CKEDITOR.NODE_ELEMENT?r.forEach(e,t):(!t||r.type==t)&&e(r)},getFilterContext:function(e){return e||{}}}}(),function(){function e(){this.rules=[]}function t(t,n,r,i){var o,s;for(o in n)(s=t[o])||(s=t[o]=new e),s.add(n[o],r,i)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new e,this.attributeNameRules=new e,this.elementsRules={},this.attributesRules={},this.textRules=new e,this.commentRules=new e,this.rootRules=new e,t&&this.addRules(t,10)},proto:{addRules:function(e,n){var r;"number"==typeof n?r=n:n&&"priority"in n&&(r=n.priority),"number"!=typeof r&&(r=10),"object"!=typeof n&&(n={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,r,n),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,r,n),e.elements&&t(this.elementsRules,e.elements,r,n),e.attributes&&t(this.attributesRules,e.attributes,r,n),e.text&&this.textRules.add(e.text,r,n),e.comment&&this.commentRules.add(e.comment,r,n),e.root&&this.rootRules.add(e.root,r,n)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n,r=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],i=0;3>i;i++)if(n=r[i]){if(n=n.exec(e,t,this),n===!1)return null;if(n&&n!=t)return this.onNode(e,n);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value)):null},onAttribute:function(e,t,n,r){return(n=this.attributesRules[n])?n.exec(e,r,t,this):r}}}),CKEDITOR.htmlParser.filterRulesGroup=e,e.prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var r=[this.findIndex(t),0],i=0,o=e.length;o>i;i++)r.push({value:e[i],priority:t,options:n});this.rules.splice.apply(this.rules,r)},findIndex:function(e){for(var t=this.rules,n=t.length-1;n>=0&&e<t[n].priority;)n--;return n+1},exec:function(e,t){var n,r,i,o,s=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,a=Array.prototype.slice.call(arguments,1),l=this.rules,u=l.length;for(o=0;u>o;o++)if(s&&(n=t.type,r=t.name),i=l[o],!(e.nonEditable&&!i.options.applyToAll||e.nestedEditable&&i.options.excludeNestedEditable)){if(i=i.value.apply(null,a),i===!1||s&&i&&(i.name!=r||i.type!=n))return i;null!=i&&(a[0]=t=i)}return t},execOnName:function(e,t){for(var n,r=0,i=this.rules,o=i.length;t&&o>r;r++)n=i[r],!(e.nonEditable&&!n.options.applyToAll||e.nestedEditable&&n.options.excludeNestedEditable)&&(t=t.replace(n.value[0],n.value[1]));return t}}}(),function(){function e(e,t){function a(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(i){if(i.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var s,l,c=[],d=n(i);if(d)for(u(d,1)&&c.push(d);d;)o(d)&&(s=r(d))&&u(s)&&((l=r(s))&&!o(l)?c.push(s):(a(h).insertAfter(s),s.remove())),d=d.previous;for(d=0;d<c.length;d++)c[d].remove();(c=!e||("function"==typeof t?t(i):t)!==!1)&&((h||CKEDITOR.env.needsBrFiller||i.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(h||CKEDITOR.env.needsBrFiller||!(document.documentMode>7||i.name in CKEDITOR.dtd.tr||i.name in CKEDITOR.dtd.$listItem))?(c=n(i),c=!c||"form"==i.name&&"input"==c.name):c=!1),c&&i.add(a(e))}}}function u(e,t){if((!h||CKEDITOR.env.needsBrFiller)&&e.type==CKEDITOR.NODE_ELEMENT&&"br"==e.name&&!e.attributes["data-cke-eol"])return!0;var n;if(e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(g))){if(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&h&&(!t||e.parent.name in f))return!0;if(!h&&((n=e.previous)&&"br"==n.name||!n||o(n)))return!0}return!1}var c,d={elements:{}},h="html"==t,f=CKEDITOR.tools.extend({},E);for(c in f)"#"in b[c]||delete f[c];for(c in f)d.elements[c]=l(h,e.config.fillEmptyBlocks);return d.root=l(h,!1),d.elements.br=function(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=t.next;n&&i(n);)n=n.next;var l=r(t);!n&&o(t.parent)?s(t.parent,a(e)):o(n)&&l&&!o(l)&&a(e).insertBefore(n)}}}}(h),d}function t(e,t){return e!=CKEDITOR.ENTER_BR&&t!==!1?e==CKEDITOR.ENTER_DIV?"div":"p":!1}function n(e){for(e=e.children[e.children.length-1];e&&i(e);)e=e.previous;return e}function r(e){for(e=e.previous;e&&i(e);)e=e.previous;return e}function i(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function o(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in E||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function s(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&(n.next=t,t.previous=n)}function a(e){e=e.attributes,"false"!=e.contenteditable&&(e["data-cke-editable"]=e.contenteditable?"true":1),e.contenteditable="false"}function l(e){switch(e=e.attributes,e["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function u(e){return e.replace(I,function(e,t,n){return"<"+t+n.replace(D,function(e,t){return R.test(t)&&-1==n.indexOf("data-cke-saved-"+t)?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e})+">"})}function c(e,t){return e.replace(t,function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+f(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"})}function d(e){return e.replace(k,function(e,t){return decodeURIComponent(t)})}function h(e){return e.replace(/<\!--(?!{cke_protected})[\s\S]+?--\>/g,function(e){return"<!--"+v+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"-->"})}function f(e){return e.replace(/<\!--\{cke_protected\}\{C\}([\s\S]+?)--\>/g,function(e,t){return decodeURIComponent(t)})}function p(e,t){var n=t._.dataStore;return e.replace(/<\!--\{cke_protected\}([\s\S]+?)--\>/g,function(e,t){return decodeURIComponent(t)}).replace(/\{cke_protected_(\d+)\}/g,function(e,t){return n&&n[t]||""})}function m(e,t){for(var n=[],r=t.config.protectedSource,i=t._.dataStore||(t._.dataStore={id:1}),o=/<\!--\{cke_temp(comment)?\}(\d*?)--\>/g,r=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(r),e=e.replace(/<\!--[\s\S]*?--\>/g,function(e){return"<!--{cke_tempcomment}"+(n.push(e)-1)+"-->"}),s=0;s<r.length;s++)e=e.replace(r[s],function(e){return e=e.replace(o,function(e,t,r){return n[r]}),/cke_temp(comment)?/.test(e)?e:"<!--{cke_temp}"+(n.push(e)-1)+"-->"});return e=e.replace(o,function(e,t,r){return"<!--"+v+(t?"{C}":"")+encodeURIComponent(n[r]).replace(/--/g,"%2D%2D")+"-->"}),e=e.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=>]+))+\s*>/g,function(e){return e.replace(/<\!--\{cke_protected\}([^>]*)--\>/g,function(e,t){return i[i.id]=decodeURIComponent(t),"{cke_protected_"+i.id++ +"}"})}),e=e.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(e,n,r,i){return"<"+n+r+">"+p(f(i),t)+"</"+n+">"})}CKEDITOR.htmlDataProcessor=function(n){var r,i,o=this;this.editor=n,this.dataFilter=r=new CKEDITOR.htmlParser.filter,this.htmlFilter=i=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,r.addRules(_),r.addRules(T,{applyToAll:!0}),r.addRules(e(n,"data"),{applyToAll:!0}),i.addRules(C),i.addRules(O,{applyToAll:!0}),i.addRules(e(n,"html"),{applyToAll:!0}),n.on("toHtml",function(e){var r,e=e.data,i=e.dataValue,i=m(i,n),i=c(i,x),i=u(i),i=c(i,w),i=i.replace(S,"$1cke:$2"),i=i.replace(N,"<cke:$1$2></cke:$1>"),i=i.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),i=i.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");r=e.context||n.editable().getName();var o;CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==r&&(r="div",i="<pre>"+i+"</pre>",o=1),r=n.document.createElement(r),r.setHtml("a"+i),i=r.getHtml().substr(1),i=i.replace(RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),o&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=i.replace(K,"$1$2"),i=d(i),i=f(i),r=e.fixForBody===!1?!1:t(e.enterMode,n.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,e.context,r),r&&(o=i,!o.children.length&&CKEDITOR.dtd[o.name][r]&&(r=new CKEDITOR.htmlParser.element(r),o.add(r))),e.dataValue=i},null,null,5),n.on("toHtml",function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&n.fire("dataFiltered")},null,null,6),n.on("toHtml",function(e){e.data.dataValue.filterChildren(o.dataFilter,!0)},null,null,10),n.on("toHtml",function(e){var e=e.data,t=e.dataValue,n=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(n),t=n.getHtml(!0),e.dataValue=h(t)},null,null,15),n.on("toDataFormat",function(e){var r=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(r,e.data.context,t(e.data.enterMode,n.config.autoParagraph))},null,null,5),n.on("toDataFormat",function(e){e.data.dataValue.filterChildren(o.htmlFilter,!0)},null,null,10),n.on("toDataFormat",function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)},null,null,11),n.on("toDataFormat",function(e){var t=e.data.dataValue,r=o.writer;r.reset(),t.writeChildrenHtml(r),t=r.getHtml(!0),t=f(t),t=p(t,n),e.data.dataValue=t},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,r){var i,o,s,a=this.editor;return t&&"object"==typeof t?(i=t.context,n=t.fixForBody,r=t.dontFilter,o=t.filter,s=t.enterMode):i=t,!i&&null!==i&&(i=a.editable().getName()),a.fire("toHtml",{dataValue:e,context:i,fixForBody:n,dontFilter:r,filter:o||a.filter,enterMode:s||a.enterMode}).dataValue},toDataFormat:function(e,t){var n,r,i;return t&&(n=t.context,r=t.filter,i=t.enterMode),!n&&null!==n&&(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:r||this.editor.filter,context:n,enterMode:i||this.editor.enterMode}).dataValue}};var g=/(?:&nbsp;|\xa0)$/,v="{cke_protected}",b=CKEDITOR.dtd,y=["caption","colgroup","col","thead","tfoot","tbody"],E=CKEDITOR.tools.extend({},b.$blockLimit,b.$block),_={elements:{input:a,textarea:a}},T={attributeNames:[[/^on/,"data-cke-pa-on"],[/^data-cke-expando$/,""]]},C={elements:{embed:function(e){var t=e.parent;if(t&&"object"==t.name){var n=t.attributes.width,t=t.attributes.height;n&&(e.attributes.width=n),t&&(e.attributes.height=t)}},a:function(e){return e.children.length||e.attributes.name||e.attributes["data-cke-saved-name"]?void 0:!1}}},O={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n,r=["name","href","src"],i=0;i<r.length;i++)n="data-cke-saved-"+r[i],n in t&&delete t[r[i]]}return e},table:function(e){e.children.slice(0).sort(function(e,t){var n,r;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(y,e.name),r=CKEDITOR.tools.indexOf(y,t.name)),n>-1&&r>-1&&n!=r||(n=e.parent?e.getIndex():-1,r=t.parent?t.getIndex():-1),n>r?1:-1})},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes["class"]&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes["class"]},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&s(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{"class":function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(O.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,function(e){return e.toLowerCase()})});var I=/<(a|area|img|input|source)\b([^>]*)>/gi,D=/([\w-]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,R=/^(href|src|name)$/i,w=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,x=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,k=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,S=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,K=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,N=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",r=n.match(/^cke:(.*)/);r&&(n=r[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(e){var t={};return((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,r){"font-family"==n&&(r=r.replace(/["']/g,"")),t[n.toLowerCase()]=r}),{rules:t,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e,n=[];for(e in t)t[e]&&n.push(e,":",t[e],";");return n.join("")}}},function(){function e(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}var t=function(e,t){return e=e[0],t=t[0],t>e?-1:e>t?1:0},n=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:n.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n,r,i=this,t=i.getFilterContext(t);if(t.off)return!0;for(i.parent||e.onRoot(t,i);;){if(n=i.name,!(r=e.onElementName(t,n)))return this.remove(),!1;if(i.name=r,!(i=e.onElement(t,i)))return this.remove(),!1;if(i!==this)return this.replaceWith(i),!1;if(i.name==n)break;

if(i.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(i),!1;if(!i.name)return this.replaceWithChildren(),!1}n=i.attributes;var o,s;for(o in n){for(s=o,r=n[o];;){if(!(s=e.onAttributeName(t,o))){delete n[o];break}if(s==o)break;delete n[o],o=s}s&&((r=e.onAttribute(t,i,s,r))===!1?delete n[s]:n[s]=r)}return i.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:n.filterChildren,writeHtml:function(e,n){n&&this.filter(n);var r,i,o=this.name,s=[],a=this.attributes;e.openTag(o,a);for(r in a)s.push([r,a[r]]);for(e.sortAttributes&&s.sort(t),r=0,i=s.length;i>r;r++)a=s[r],e.attribute(a[0],a[1]);e.openTagClose(o,this.isEmpty),this.writeChildrenHtml(e),this.isEmpty||e.closeTag(o)},writeChildrenHtml:n.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:n.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=e(t));for(var n=0,r=this.children.length;r>n;++n)if(t(this.children[n]))return this.children[n];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){for(var e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children,t=0,n=e.length;n>t;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),r=0;r<t.length;++r)t[r].parent=n;return n.children=t,t[0]&&(t[0].previous=null),e>0&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes["class"]||"";this.attributes["class"]=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes["class"];t&&((t=CKEDITOR.tools.trim(t.replace(RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes["class"]=t:delete this.attributes["class"])},hasClass:function(e){var t=this.attributes["class"];return t?RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t):!1},getFilterContext:function(e){var t=[];if(e||(e={off:!1,nonEditable:!1,nestedEditable:!1}),!e.off&&"off"==this.attributes["data-cke-processor"]&&t.push("off",!0),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length)for(var e=CKEDITOR.tools.copy(e),n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}},!0)}(),function(){var e={},t=/{([^}]+)}/g,n=/([\\'])/g,r=/\n/g,i=/\r/g;CKEDITOR.template=function(o){if(e[o])this.output=e[o];else{var s=o.replace(n,"\\$1").replace(r,"\\n").replace(i,"\\r").replace(t,function(e,t){return"',data['"+t+"']==undefined?'{"+t+"}':data['"+t+"'],'"});this.output=e[o]=Function("data","buffer","return buffer?buffer.push('"+s+"'):['"+s+"'].join('');")}}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){CKEDITOR.instances[e.name]=e,e.on("focus",function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))}),e.on("blur",function(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,n){var r=e[t];return r?r:(r={name:t,source:n},CKEDITOR.fire("template",r),e[t]=new CKEDITOR.template(r.source))},CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)},CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(e,t){if(!CKEDITOR.env.isCompatible)return null;if(e=CKEDITOR.dom.element.get(e),e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),r=e.is("textarea")?e:null;return r?(n.setData(r.getValue(),null,!0),e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+r.getValue()+"</div>",CKEDITOR.document),e.insertAfter(r),r.hide(),r.$.form&&n._attachToForm()):n.setData(e.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(e),n.container=e,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){r&&(n.container.clearCustomData(),n.container.remove(),r.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var e,t,n;for(n in CKEDITOR.dtd.$editable)for(var r=CKEDITOR.document.getElementsByTag(n),i=0,o=r.count();o>i;i++)e=r.getItem(i),"true"==e.getAttribute("contenteditable")&&(t={element:e,config:{}},CKEDITOR.fire("inline",t)!==!1&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function e(e,r,i,o){if(!CKEDITOR.env.isCompatible)return null;if(e=CKEDITOR.dom.element.get(e),e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var s=new CKEDITOR.editor(r,e,o);return o==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),s._.required=e.hasAttribute("required"),e.removeAttribute("required")),i&&s.setData(i,null,!0),s.on("loaded",function(){n(s),o==CKEDITOR.ELEMENT_MODE_REPLACE&&s.config.autoUpdateElement&&e.$.form&&s._attachToForm(),s.setMode(s.config.startupMode,function(){s.resetDirty(),s.status="ready",s.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,s)})}),s.on("destroy",t),s}function t(){var e=this.container,t=this.element;e&&(e.clearCustomData(),e.remove()),t&&(t.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.show(),this._.required&&t.setAttribute("required","required")),delete this.element)}function n(e){var t=e.name,n=e.element,r=e.elementMode,i=e.fire("uiSpace",{space:"top",html:""}).html,o=e.fire("uiSpace",{space:"bottom",html:""}).html,s=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),t=CKEDITOR.dom.element.createFromHtml(s.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:i?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+i+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:o?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+o+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));r==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),t.insertAfter(n)):n.append(t),e.container=t,i&&e.ui.space("top").unselectable(),o&&e.ui.space("bottom").unselectable(),n=e.config.width,r=e.config.height,n&&t.setStyle("width",CKEDITOR.tools.cssLength(n)),r&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(r)),t.disableContextMenu(),CKEDITOR.env.webkit&&t.on("focus",function(){e.focus()}),e.fireOnce("uiReady")}CKEDITOR.replace=function(t,n){return e(t,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,n,r){return e(t,n,r,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var n=null,r=e[t];if(r.name||r.id){if("string"==typeof arguments[0]){if(!RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(r.className))continue}else if("function"==typeof arguments[0]&&(n={},arguments[0](r,n)===!1))continue;this.replace(r,n)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,r=this._.modes;if(e!=n.mode&&r&&r[e]){if(n.fire("beforeSetMode",e),n.mode){var i,o=n.checkDirty(),r=n._.previousModeData,s=0;n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=i=n.getData(1),"source"==n.mode&&r==i&&(n.fire("lockSnapshot",{forceUpdate:!0}),s=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e](function(){n.mode=e,void 0!==o&&!o&&n.resetDirty(),s?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),t&&t.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(e,t,n,r){var i=this.container,o=this.ui.space("contents"),s=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement,r=r?this.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}):i;r.setSize("width",e,!0),s&&(s.style.width="1%"),o.setStyle("height",Math.max(t-(n?0:(r.$.offsetHeight||0)-(o.$.clientHeight||0)),0)+"px"),s&&(s.style.width="100%"),this.fire("resize")},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var n,i=e.editor,o=e.data.path,a=o.blockLimit,l=e.data.selection,u=l.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(l=t(l,o))&&(l.appendBogus(),n=CKEDITOR.env.ie),s(i,o.block,a)&&u.collapsed&&!u.getCommonAncestor().isReadOnly()&&(o=u.clone(),o.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),a=new CKEDITOR.dom.walker(o),a.guard=function(e){return!r(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},(!a.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(i=u.fixBlock(!0,i.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(i=i.getFirst(r))&&i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText()).match(/^(?:&nbsp;|\xa0)$/)&&i.remove(),n=1,e.cancel())),n&&u.select()}function t(e,t){if(e.isFake)return 0;var n=t.block||t.blockLimit,i=n&&n.getLast(r);return!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function n(e){var t=e.data.getTarget();t.is("input")&&(t=t.getAttribute("type"),("submit"==t||"reset"==t)&&e.data.preventDefault())}function r(e){return h(e)&&f(e)}function i(e,t){return function(n){var r=CKEDITOR.dom.element.get(n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget);(!r||!t.equals(r)&&!t.contains(r))&&e.call(this,n)}}function o(e){function t(e){return function(t,i){return i&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(o)&&(n=t),i||!r(t)||e&&c(t)?void 0:!1}}var n,i=e.getRanges()[0],e=e.root,o={table:1,ul:1,ol:1,dl:1};if(i.startPath().contains(o)){var s=i.clone();if(s.collapse(1),s.setStartAt(e,CKEDITOR.POSITION_AFTER_START),e=new CKEDITOR.dom.walker(s),e.guard=t(),e.checkBackward(),n)return s=i.clone(),s.collapse(),s.setEndAt(n,CKEDITOR.POSITION_AFTER_END),e=new CKEDITOR.dom.walker(s),e.guard=t(!0),n=!1,e.checkForward(),n}return null}function s(e,t,n){return e.config.autoParagraph!==!1&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable")}function a(e){e.editor.focus(),e.editor.fire("saveSnapshot")}function l(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout(function(){t.fire("saveSnapshot")},0)}function u(e,t,n){for(var r=e.getCommonAncestor(t),t=e=n?t:e;(e=e.getParent())&&!r.equals(e)&&1==e.getChildCount();)t=e;t.remove()}CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))return void e.focus();try{this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?"setActive":"focus"]()}catch(t){if(!CKEDITOR.env.ie)throw t}CKEDITOR.env.safari&&!this.isInline()&&(e=CKEDITOR.document.getActive(),e.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=i(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1),t=e.on.apply(e,t);return this._.listeners.push(t),t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(t){}},restoreAttrs:function(){var e,t,n=this._.attrChanges;for(t in n)n.hasOwnProperty(t)&&(e=n[t],null!==e?this.setAttribute(t,e):this.removeAttribute(t))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertHtml:function(e,t){a(this),p(this,t||"html",e)},insertText:function(e){a(this);var t=this.editor,n=t.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:t.activeEnterMode,t=n==CKEDITOR.ENTER_BR,r=CKEDITOR.tools,e=r.htmlEncode(e.replace(/\r\n/g,"\n")),e=e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),n=n==CKEDITOR.ENTER_P?"p":"div";if(!t){var i=/\n{2}/g;if(i.test(e))var o="<"+n+">",s="</"+n+">",e=o+e.replace(i,function(){return s+o})+s}e=e.replace(/\n/g,"<br>"),t||(e=e.replace(RegExp("<br>(?=</"+n+">)"),function(e){return r.repeat(e,2)})),e=e.replace(/^ | $/g,"&nbsp;"),e=e.replace(/(>|\s) /g,function(e,t){return t+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;"),p(this,"text",e)},insertElement:function(e,t){t?this.insertElementIntoRange(e,t):this.insertElementIntoSelection(e)},insertElementIntoRange:function(e,t){var n=this.editor,r=n.config.enterMode,i=e.getName(),o=CKEDITOR.dtd.$block[i];if(t.checkReadOnly())return!1;t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&m(t);var s,a;if(o)for(;(s=t.getCommonAncestor(0,1))&&(a=CKEDITOR.dtd[s.getName()])&&(!a||!a[i]);)s.getName()in CKEDITOR.dtd.span?t.splitElement(s):t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(s),t.collapse(!0),s.remove()):t.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",n.editable());return t.insertNode(e),!0},insertElementIntoSelection:function(e){a(this);var t=this.editor,n=t.activeEnterMode,t=t.getSelection(),i=t.getRanges()[0],o=e.getName(),o=CKEDITOR.dtd.$block[o];this.insertElementIntoRange(e,i)&&(i.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),o&&((o=e.getNext(function(e){return r(e)&&!c(e)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?i.moveToElementEditStart(o):i.moveToElementEditEnd(e):o||n==CKEDITOR.ENTER_BR||(o=i.fixBlock(!0,n==CKEDITOR.ENTER_DIV?"div":"p"),i.moveToElementEditStart(o)))),t.selectRanges([i]),l(this)},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var e=this.editor;this._.detach(),delete e.document,delete e.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e,t=n.getDocument().$,r=t.getSelection();if(r.anchorNode&&r.anchorNode==n.$)e=!0;else if(CKEDITOR.env.webkit){var i=n.getDocument().getActive();i&&i.equals(n)&&!r.anchorNode&&(e=!0)}e&&(e=new CKEDITOR.dom.range(n),e.moveToElementEditStart(n),t=t.createRange(),t.setStart(e.startContainer.$,e.startOffset),t.collapse(!0),r.removeAllRanges(),r.addRange(t))}function t(){var e=n.getDocument().$,t=e.selection,r=n.getDocument().getActive();"None"==t.type&&r.equals(n)&&(t=new CKEDITOR.dom.range(n),e=e.body.createTextRange(),t.moveToElementEditStart(n),t=t.startContainer,t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),e.moveToElementText(t.$),e.collapse(!0),e.select())}var n=this;CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),t()):this.hasFocus?(this.focus(),e()):this.once("focus",function(){e()},null,null,-999)},setup:function(){var e=this.editor;if(this.attachListener(e,"beforeGetData",function(){var t=this.getData();this.is("textarea")||e.config.ignoreEmptyParagraph!==!1&&(t=t.replace(d,function(e,t){return t})),e.setData(t,null,1)},this),this.attachListener(e,"getSnapshot",function(e){e.data=this.getData(1)},this),this.attachListener(e,"afterSetData",function(){this.setData(e.getData(1))},this),this.attachListener(e,"loadSnapshot",function(e){this.setData(e.data,1)},this),this.attachListener(e,"beforeFocus",function(){var t=e.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(e,"insertHtml",function(e){this.insertHtml(e.data.dataValue,e.data.mode)},this),this.attachListener(e,"insertElement",function(e){this.insertElement(e.data)},this),this.attachListener(e,"insertText",function(e){this.insertText(e.data)},this),this.setReadOnly(e.readOnly),this.attachClass("cke_editable"),this.attachClass(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"cke_editable_inline":e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE||e.elementMode==CKEDITOR.ELEMENT_MODE_APPENDTO?"cke_editable_themed":""),this.attachClass("cke_contents_"+e.config.contentsLangDirection),e.keystrokeHandler.blockedKeystrokes[8]=+e.readOnly,e.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),e.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,e.once("contentDom",function(){e.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",e.tabIndex),!this.is("textarea")){e.document=this.getDocument(),e.window=this.getWindow();var t=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var i=e.config.contentsLangDirection;this.getDirection(1)!=i&&this.changeAttr("dir",i);var s=CKEDITOR.getCss();s&&(i=t.getHead(),i.getCustomData("stylesheet")||(s=t.appendStyleText(s),s=new CKEDITOR.dom.element(s.ownerNode||s.owningElement),i.setCustomData("stylesheet",s),s.data("cke-temp",1))),i=t.getCustomData("stylesheet_ref")||0,t.setCustomData("stylesheet_ref",i+1),this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling),this.attachListener(this,"click",function(e){var e=e.data,t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()});var a={8:1,46:1};this.attachListener(e,"key",function(t){if(e.readOnly)return!0;var n,r=t.data.domEvent.getKey();if(r in a){var i,s,l,u,t=e.getSelection(),c=t.getRanges()[0],d=c.startPath(),r=8==r;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(i=t.getSelectedElement())||(i=o(t))?(e.fire("saveSnapshot"),c.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),c.select(),e.fire("saveSnapshot"),n=1):c.collapsed&&((s=d.block)&&(u=s[r?"getPrevious":"getNext"](h))&&u.type==CKEDITOR.NODE_ELEMENT&&u.is("table")&&c[r?"checkStartOfBlock":"checkEndOfBlock"]()?(e.fire("saveSnapshot"),c[r?"checkEndOfBlock":"checkStartOfBlock"]()&&s.remove(),c["moveToElementEdit"+(r?"End":"Start")](u),c.select(),e.fire("saveSnapshot"),n=1):d.blockLimit&&d.blockLimit.is("td")&&(l=d.blockLimit.getAscendant("table"))&&c.checkBoundaryOfElement(l,r?CKEDITOR.START:CKEDITOR.END)&&(u=l[r?"getPrevious":"getNext"](h))?(e.fire("saveSnapshot"),c["moveToElementEdit"+(r?"End":"Start")](u),c.checkStartOfBlock()&&c.checkEndOfBlock()?u.remove():c.select(),e.fire("saveSnapshot"),n=1):(l=d.contains(["td","th","caption"]))&&c.checkBoundaryOfElement(l,r?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}),e.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in a&&!this.getFirst(r)&&(this.appendBogus(),t=e.createRange(),t.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){return e.readOnly?!1:(t={element:t.data.getTarget()},void e.fire("doubleclick",t))}),CKEDITOR.env.ie&&this.attachListener(this,"click",n),CKEDITOR.env.ie||this.attachListener(this,"mousedown",function(t){var n=t.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(e.getSelection().selectElement(n),n.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&(t=t.data.getTarget(),!t.getOuterHtml().replace(d,""))){var n=e.createRange();n.moveToElementEditStart(t),n.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()}),this.attachListener(this,"mouseup",function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(e,"key",function(t){if(t=t.data.domEvent.getKey(),t in a){var n=8==t,r=e.getSelection().getRanges()[0],t=r.startPath();if(r.collapsed){var i;e:{var o=t.block;if(o)if(r[n?"checkStartOfBlock":"checkEndOfBlock"]())if(r.moveToClosestEditablePosition(o,!n)&&r.collapsed){if(r.startContainer.type==CKEDITOR.NODE_ELEMENT){var s=r.startContainer.getChild(r.startOffset-(n?1:0));if(s&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("hr")){e.fire("saveSnapshot"),s.remove(),i=!0;break e}}if((r=r.startPath().block)&&(!r||!r.contains(o))){e.fire("saveSnapshot");var l;(l=(n?r:o).getBogus())&&l.remove(),i=e.getSelection(),l=i.createBookmarks(),(n?o:r).moveChildren(n?r:o,!1),t.lastElement.mergeSiblings(),u(o,r,!n),i.selectBookmarks(l),i=!0}}else i=!1;else i=!1;else i=!1}if(!i)return}else if(n=r,i=t.block,l=n.endPath().block,i&&l&&!i.equals(l)?(e.fire("saveSnapshot"),(o=i.getBogus())&&o.remove(),n.deleteContents(),l.getParent()&&(l.moveChildren(i,!1),t.lastElement.mergeSiblings(),u(i,l,!0)),n=e.getSelection().getRanges()[0],n.collapse(1),n.select(),t=!0):t=!1,!t)return;return e.getSelection().scrollIntoView(),e.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs();var e;if(e=this.removeCustomData("classes"))for(;e.length;)this.removeClass(e.pop());if(!this.is("textarea")){e=this.getDocument();var t=e.getHead();if(t.getCustomData("stylesheet")){var n=e.getCustomData("stylesheet_ref");--n?e.setCustomData("stylesheet_ref",n):(e.removeCustomData("stylesheet_ref"),t.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:(arguments.length&&(t=this._.editable=e?e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),null)),t)};var c=CKEDITOR.dom.walker.bogus(),d=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,h=CKEDITOR.dom.walker.whitespaces(!0),f=CKEDITOR.dom.walker.bookmark(!1,!0);CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(e){e=e.data,e.type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))&&("false"!=e.getAttribute("contentEditable")&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1"),e.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var r=n.getSelection();r&&!r.isLocked&&(r=n.checkDirty(),n.fire("lockSnapshot"),e(t),n.fire("unlockSnapshot"),!r&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(e){var t=e.editor;t.on("mode",function(){var e=t.editable();if(e&&e.isInline()){var n=t.title;e.changeAttr("role","textbox"),e.changeAttr("aria-label",n),n&&e.changeAttr("title",n);var r=t.fire("ariaEditorHelpLabel",{}).label;if(r&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var i=CKEDITOR.tools.getNextId(),r=CKEDITOR.dom.element.createFromHtml('<span id="'+i+'" class="cke_voice_label">'+r+"</span>");n.append(r),e.changeAttr("aria-describedby",i)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");var p=function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT}function t(n,r){var i,o,s,a,l=[],c=r.range.startContainer;i=r.range.startPath();for(var c=u[c.getName()],d=0,h=n.getChildren(),f=h.count(),p=-1,m=-1,g=0,v=i.contains(u.$list);f>d;++d)i=h.getItem(d),e(i)?(s=i.getName(),v&&s in CKEDITOR.dtd.$list?l=l.concat(t(i,r)):(a=!!c[s],"br"!=s||!i.data("cke-eol")||d&&d!=f-1||(g=(o=d?l[d-1].node:h.getItem(d+1))&&(!e(o)||!o.is("br")),o=o&&e(o)&&u.$block[o.getName()]),-1==p&&!a&&(p=d),a||(m=d),l.push({isElement:1,isLineBreak:g,isBlock:i.isBlockBoundary(),hasBlockSibling:o,node:i,name:s,allowed:a}),o=g=0)):l.push({isElement:0,node:i,allowed:1});return p>-1&&(l[p].firstNotAllowed=1),m>-1&&(l[m].lastNotAllowed=1),l}function n(t,r){var i,o=[],s=t.getChildren(),a=s.count(),l=0,c=u[r],d=!t.is(u.$inline)||t.is("br");for(d&&o.push(" ");a>l;l++)i=s.getItem(l),e(i)&&!i.is(c)?o=o.concat(n(i,r)):o.push(i);return d&&o.push(" "),o}function i(t){return t&&e(t)&&(t.is(u.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function o(t,n,r,i){var s,a,l=t.clone();l.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(s=new CKEDITOR.dom.walker(l).next())&&e(s)&&c[s.getName()]&&(a=s.getPrevious())&&e(a)&&!a.getParent().equals(t.startContainer)&&r.contains(a)&&i.contains(s)&&s.isIdentical(a)&&(s.moveChildren(a),s.remove(),o(t,n,r,i))}function a(t,n){function r(t,n){return n.isBlock&&n.isElement&&!n.node.is("br")&&e(t)&&t.is("br")?(t.remove(),1):void 0}var i=n.endContainer.getChild(n.endOffset),o=n.endContainer.getChild(n.endOffset-1);i&&r(i,t[t.length-1]),o&&r(o,t[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}var u=CKEDITOR.dtd,c={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},d={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},h=CKEDITOR.tools.extend({},u.$inline);return delete h.br,function(c,f,p){var m=c.editor,g=m.getSelection().getRanges()[0],v=!1;if("unfiltered_html"==f&&(f="html",v=!0),!g.checkReadOnly()){var b,y,E,_,T=new CKEDITOR.dom.elementPath(g.startContainer,g.root).blockLimit||g.root,f={type:f,dontFilter:v,editable:c,editor:m,range:g,blockLimit:T,mergeCandidates:[],zombies:[]},m=f.range,v=f.mergeCandidates;if("text"==f.type&&m.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(b=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",m.document),m.insertNode(b),m.setStartAfter(b)),y=new CKEDITOR.dom.elementPath(m.startContainer),f.endPath=E=new CKEDITOR.dom.elementPath(m.endContainer),!m.collapsed){var T=E.block||E.blockLimit,C=m.getCommonAncestor();T&&!T.equals(C)&&!T.contains(C)&&m.checkEndOfBlock()&&f.zombies.push(T),m.deleteContents()}for(;(_=e(m.startContainer)&&m.startContainer.getChild(m.startOffset-1))&&e(_)&&_.isBlockBoundary()&&y.contains(_);)m.moveToPosition(_,CKEDITOR.POSITION_BEFORE_END);for(o(m,f.blockLimit,y,E),b&&(m.setEndBefore(b),m.collapse(),b.remove()),b=m.startPath(),(T=b.contains(i,!1,1))&&(m.splitElement(T),f.inlineStylesRoot=T,f.inlineStylesPeak=b.lastElement),b=m.createBookmark(),(T=b.startNode.getPrevious(r))&&e(T)&&i(T)&&v.push(T),(T=b.startNode.getNext(r))&&e(T)&&i(T)&&v.push(T),T=b.startNode;(T=T.getParent())&&i(T);)v.push(T);if(m.moveToBookmark(b),b=p){if(b=f.range,"text"==f.type&&f.inlineStylesRoot){for(_=f.inlineStylesPeak,m=_.getDocument().createText("{cke-peak}"),v=f.inlineStylesRoot.getParent();!_.equals(v);)m=m.appendTo(_.clone()),_=_.getParent();p=m.getOuterHtml().split("{cke-peak}").join(p)}if(_=f.blockLimit.getName(),/^\s+|\s+$/.test(p)&&"span"in CKEDITOR.dtd[_])var O='<span data-cke-marker="1">&nbsp;</span>',p=O+p+O;if(p=f.editor.dataProcessor.toHtml(p,{context:null,fixForBody:!1,dontFilter:f.dontFilter,filter:f.editor.activeFilter,enterMode:f.editor.activeEnterMode}),_=b.document.createElement("body"),_.setHtml(p),O&&(_.getFirst().remove(),_.getLast().remove()),(O=b.startPath().block)&&(1!=O.getChildCount()||!O.getBogus()))e:{var I;if(1==_.getChildCount()&&e(I=_.getFirst())&&I.is(d)){for(O=I.getElementsByTag("*"),b=0,v=O.count();v>b;b++)if(m=O.getItem(b),!m.is(h))break e;I.moveChildren(I.getParent(1)),I.remove()}}f.dataWrapper=_,b=p}if(b){I=f.range;var D,O=I.document,p=f.blockLimit;b=0;var R;_=[];var w,x,k,S,v=m=0;y=I.startContainer;var K,T=f.endPath.elements[0];for(E=T.getPosition(y),C=!(!T.getCommonAncestor(y)||E==CKEDITOR.POSITION_IDENTICAL||E&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),y=t(f.dataWrapper,f),a(y,I);b<y.length;b++){if(E=y[b],D=E.isLineBreak){D=I,k=p;var N=void 0,A=void 0;E.hasBlockSibling?D=1:(N=D.startContainer.getAscendant(u.$block,1),N&&N.is({div:1,p:1})?(A=N.getPosition(k),A==CKEDITOR.POSITION_IDENTICAL||A==CKEDITOR.POSITION_CONTAINS?D=0:(k=D.splitElement(N),D.moveToPosition(k,CKEDITOR.POSITION_AFTER_START),D=1)):D=0)}if(D)v=b>0;else{if(D=I.startPath(),!E.isBlock&&s(f.editor,D.block,D.blockLimit)&&(x=f.editor.activeEnterMode!=CKEDITOR.ENTER_BR&&f.editor.config.autoParagraph!==!1?f.editor.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1)&&(x=O.createElement(x),x.appendBogus(),I.insertNode(x),CKEDITOR.env.needsBrFiller&&(R=x.getBogus())&&R.remove(),I.moveToPosition(x,CKEDITOR.POSITION_BEFORE_END)),(D=I.startPath().block)&&!D.equals(w)&&((R=D.getBogus())&&(R.remove(),_.push(D)),w=D),E.firstNotAllowed&&(m=1),m&&E.isElement){for(D=I.startContainer,k=null;D&&!u[D.getName()][E.name];){if(D.equals(p)){D=null;break}k=D,D=D.getParent()}if(D)k&&(S=I.splitElement(k),f.zombies.push(S),f.zombies.push(k));else{k=p.getName(),K=!b,D=b==y.length-1,k=n(E.node,k);for(var N=[],A=k.length,P=0,L=void 0,M=0,F=-1;A>P;P++)L=k[P]," "==L?(M||K&&!P||(N.push(new CKEDITOR.dom.text(" ")),F=N.length),M=1):(N.push(L),M=0);D&&F==N.length&&N.pop(),K=N}}if(K){for(;D=K.pop();)I.insertNode(D);K=0}else I.insertNode(E.node);E.lastNotAllowed&&b<y.length-1&&((S=C?T:S)&&I.setEndAt(S,CKEDITOR.POSITION_AFTER_START),m=0),I.collapse()}}f.dontMoveCaret=v,f.bogusNeededBlocks=_}R=f.range;var B;for(S=f.bogusNeededBlocks,K=R.createBookmark();w=f.zombies.pop();)w.getParent()&&(x=R.clone(),x.moveToElementEditStart(w),x.removeEmptyBlocksAtEnd());if(S)for(;w=S.pop();)CKEDITOR.env.needsBrFiller?w.appendBogus():w.append(R.document.createText(" "));for(;w=f.mergeCandidates.pop();)w.mergeSiblings();if(R.moveToBookmark(K),!f.dontMoveCaret){for(w=e(R.startContainer)&&R.startContainer.getChild(R.startOffset-1);w&&e(w)&&!w.is(u.$empty);){if(w.isBlockBoundary())R.moveToPosition(w,CKEDITOR.POSITION_BEFORE_END);else{if(i(w)&&w.getHtml().match(/(\s|&nbsp;)$/g)){B=null;break}B=R.clone(),B.moveToPosition(w,CKEDITOR.POSITION_BEFORE_END)}w=w.getLast(r)}B&&R.moveToRange(B)}g.select(),l(c)}}}(),m=function(){function e(e){return e=new CKEDITOR.dom.walker(e),e.guard=function(e,t){return t?!1:e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},e}function t(e,t,n){return t=e.getDocument().createElement(t),e.append(t,n),t}function n(e){var t,n=e.count();for(n;n-->0;)t=e.getItem(n),CKEDITOR.tools.trim(t.getHtml())||(t.appendBogus(),
CKEDITOR.env.ie&&CKEDITOR.env.version<9&&t.getChildCount()&&t.getFirst().remove())}return function(r){var i=r.startContainer,o=i.getAscendant("table",1),s=!1;n(o.getElementsByTag("td")),n(o.getElementsByTag("th")),o=r.clone(),o.setStart(i,0),o=e(o).lastBackward(),o||(o=r.clone(),o.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),o=e(o).lastForward(),s=!0),o||(o=i),o.is("table")?(r.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),r.collapse(!0),o.remove()):(o.is({tbody:1,thead:1,tfoot:1})&&(o=t(o,"tr",s)),o.is("tr")&&(o=t(o,o.getParent().is("thead")?"th":"td",s)),(i=o.getBogus())&&i.remove(),r.moveToPosition(o,s?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}()}(),function(){function e(){var e,t=this._.fakeSelection;t&&(e=this.getSelection(1),e&&e.isHidden()||(t.reset(),t=0)),(t||(t=e||this.getSelection(1),t&&t.getType()!=CKEDITOR.SELECTION_NONE))&&(this.fire("selectionCheck",t),e=this.elementPath(),e.compare(this._.selectionPreviousPath)||(CKEDITOR.env.webkit&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=e,this.fire("selectionChange",{selection:t,path:e})))}function t(){p=!0,f||(n.call(this),f=CKEDITOR.tools.setTimeout(n,200,this))}function n(){f=null,p&&(CKEDITOR.tools.setTimeout(e,0,this),p=!1)}function r(e){return m(e)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(CKEDITOR.dtd.$empty)?!0:!1}function i(e){function t(t,n){return t&&t.type!=CKEDITOR.NODE_TEXT?e.clone()["moveToElementEdit"+(n?"End":"Start")](t):!1}if(!(e.root instanceof CKEDITOR.editable))return!1;var n=e.startContainer,i=e.getPreviousNode(r,null,n),o=e.getNextNode(r,null,n);return!t(i)&&!t(o,1)&&(i||o||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus())?!1:!0}function o(e){return e.getCustomData("cke-fillingChar")}function s(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(t!==!1){var r,i=e.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0);n.getLength()>1&&o&&o.intersectsNode(n.$)&&(r=l(i),o=i.focusNode==n.$&&i.focusOffset>0,i.anchorNode==n.$&&i.anchorOffset>0&&r[0].offset--,o&&r[1].offset--)}n.setText(a(n.getText())),r&&u(e.getDocument().$,r)}}function a(e){return e.replace(/\u200B( )?/g,function(e){return e[1]?" ":""})}function l(e){return[{node:e.anchorNode,offset:e.anchorOffset},{node:e.focusNode,offset:e.focusOffset}]}function u(e,t){var n=e.getSelection(),r=e.createRange();r.setStart(t[0].node,t[0].offset),r.collapse(!0),n.removeAllRanges(),n.addRange(r),n.extend(t[1].node,t[1].offset)}function c(e){var t=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie?"display:none":"position:fixed;top:0;left:-1000px")+'">&nbsp;</div>',e.document);e.fire("lockSnapshot"),e.editable().append(t);var n=e.getSelection(1),r=e.createRange(),i=n.root.on("selectionchange",function(e){e.cancel()},null,null,0);r.setStartAt(t,CKEDITOR.POSITION_AFTER_START),r.setEndAt(t,CKEDITOR.POSITION_BEFORE_END),n.selectRanges([r]),i.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=t}function d(e){var t={37:1,39:1,8:1,46:1};return function(n){var r=n.data.getKeystroke();if(t[r]){var i=e.getSelection().getRanges(),o=i[0];1==i.length&&o.collapsed&&(r=o[38>r?"getPreviousEditableNode":"getNextEditableNode"]())&&r.type==CKEDITOR.NODE_ELEMENT&&"false"==r.getAttribute("contenteditable")&&(e.getSelection().fake(r),n.data.preventDefault(),n.cancel())}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.getCommonAncestor().isReadOnly()&&e.splice(t,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var r,i=n.startContainer;i&&!((r=i.type==CKEDITOR.NODE_ELEMENT)&&i.is("body")||!i.isReadOnly());)r&&"false"==i.getAttribute("contentEditable")&&n.setStartAfter(i),i=i.getParent();i=n.startContainer,r=n.endContainer;var o=n.startOffset,s=n.endOffset,a=n.clone();i&&i.type==CKEDITOR.NODE_TEXT&&(o>=i.getLength()?a.setStartAfter(i):a.setStartBefore(i)),r&&r.type==CKEDITOR.NODE_TEXT&&(s?a.setEndAfter(r):a.setEndBefore(r)),i=new CKEDITOR.dom.walker(a),i.evaluator=function(r){if(r.type==CKEDITOR.NODE_ELEMENT&&r.isReadOnly()){var i=n.clone();return n.setEndBefore(r),n.collapsed&&e.splice(t--,1),r.getPosition(a.endContainer)&CKEDITOR.POSITION_CONTAINS||(i.setStartAfter(r),i.collapsed||e.splice(t+1,0,i)),!0}return!1},i.next()}}return e}var f,p,m=CKEDITOR.dom.walker.invisible(1),g=function(){function e(e){return function(t){var n=t.editor.createRange();return n.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([n]),!1}}function t(e){return function(t){var n,r=t.editor,i=r.createRange();return(n=i.moveToClosestEditablePosition(t.selected,e))||(n=i.moveToClosestEditablePosition(t.selected,!e)),n&&r.getSelection().selectRanges([i]),r.fire("saveSnapshot"),t.selected.remove(),n||(i.moveToElementEditablePosition(r.editable()),r.getSelection().selectRanges([i])),r.fire("saveSnapshot"),!1}}var n=e(),r=e(1);return{37:n,38:n,39:r,40:r,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",function(n){function r(){var e=i.getSelection();e&&e.removeAllRanges()}var i=n.editor;i.on("contentDom",function(){function n(){a=new CKEDITOR.dom.selection(i.getSelection()),a.lock()}function r(){u.removeListener("mouseup",r),f.removeListener("mouseup",r);var e=CKEDITOR.document.$.selection,t=e.createRange();"None"!=e.type&&t.parentElement().ownerDocument==l.$&&t.select()}var o,a,l=i.document,u=CKEDITOR.document,c=i.editable(),h=l.getBody(),f=l.getDocumentElement(),p=c.isInline();if(CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(e){e.removeListener(),0!==o&&(e=i.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==c.$&&(e=i.createRange(),e.moveToElementEditStart(c),e.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){o&&CKEDITOR.env.webkit&&(o=i._.previousActive&&i._.previousActive.equals(l.getActive())),i.unlockSelection(o),o=0},null,null,-1),c.attachListener(c,"mousedown",function(){o=0}),(CKEDITOR.env.ie||p)&&(v?c.attachListener(c,"beforedeactivate",n,null,null,-1):c.attachListener(i,"selectionCheck",n,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){i.lockSelection(a),o=1},null,null,-1),c.attachListener(c,"mousedown",function(){o=0})),CKEDITOR.env.ie&&!p){var m;c.attachListener(c,"mousedown",function(e){2==e.data.$.button&&(e=i.document.getSelection(),e&&e.getType()!=CKEDITOR.SELECTION_NONE||(m=i.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(e){2==e.data.$.button&&m&&(i.document.$.documentElement.scrollLeft=m.x,i.document.$.documentElement.scrollTop=m.y),m=null}),"BackCompat"!=l.$.compatMode&&((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&f.on("mousedown",function(e){function t(e){if(e=e.data.$,r){var t=h.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(n){}r.setEndPoint(o.compareEndPoints("StartToStart",t)<0?"EndToEnd":"StartToStart",t),r.select()}}function n(){f.removeListener("mousemove",t),u.removeListener("mouseup",n),f.removeListener("mouseup",n),r.select()}if(e=e.data,e.getTarget().is("html")&&e.$.y<f.$.clientHeight&&e.$.x<f.$.clientWidth){var r=h.$.createTextRange();try{r.moveToPoint(e.$.clientX,e.$.clientY)}catch(i){}var o=r.duplicate();f.on("mousemove",t),u.on("mouseup",n),f.on("mouseup",n)}}),CKEDITOR.env.version>7&&CKEDITOR.env.version<11&&f.on("mousedown",function(e){e.data.getTarget().is("html")&&(u.on("mouseup",r),f.on("mouseup",r))}))}if(c.attachListener(c,"selectionchange",e,i),c.attachListener(c,"keyup",t,i),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){i.forceNextSelectionCheck(),i.selectionChange(1)}),p&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var g;c.attachListener(c,"mousedown",function(){g=1}),c.attachListener(l.getDocumentElement(),"mouseup",function(){g&&t.call(i),g=0})}else c.attachListener(CKEDITOR.env.ie?c:l.getDocumentElement(),"mouseup",t,i);CKEDITOR.env.webkit&&c.attachListener(l,"keydown",function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:s(c)}},null,null,-1),c.attachListener(c,"keydown",d(i),null,null,-1)}),i.on("setData",function(){i.unlockSelection(),CKEDITOR.env.webkit&&r()}),i.on("contentDomUnload",function(){i.unlockSelection()}),CKEDITOR.env.ie9Compat&&i.on("beforeDestroy",r,null,null,9),i.on("dataReady",function(){delete i._.fakeSelection,delete i._.hiddenSelectionContainer,i.selectionChange(1)}),i.on("loadSnapshot",function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=i.editable().getLast(e);t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko&&(e=i.editable().getFirst(e))&&e.is("br")&&e.getAttribute("_moz_editor_bogus_node")&&e.remove())},null,null,100),i.on("key",function(e){if("wysiwyg"==i.mode){var t=i.getSelection();if(t.isFake){var n=g[e.data.keyCode];if(n)return n({editor:i,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}})}),CKEDITOR.on("instanceReady",function(e){function t(){var e=c.editable();if(e&&(e=o(e))){var t=c.document.$.getSelection();"None"==t.type||t.anchorNode!=e.$&&t.focusNode!=e.$||(i=l(t)),r=e.getText(),e.setText(a(r))}}function n(){var e=c.editable();e&&(e=o(e))&&(e.setText(r),i&&(u(c.document.$,i),i=null))}var r,i,c=e.editor;CKEDITOR.env.webkit&&(c.on("selectionChange",function(){var e=c.editable(),t=o(e);t&&(t.getCustomData("ready")?s(e):t.setCustomData("ready",1))},null,null,-1),c.on("beforeSetMode",function(){s(c.editable())},null,null,-1),c.on("beforeUndoImage",t),c.on("afterUndoImage",n),c.on("beforeGetData",t,null,null,0),c.on("getData",n))}),CKEDITOR.editor.prototype.selectionChange=function(n){(n?e:t).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){return!this._.savedSelection&&!this._.fakeSelection||e?(e=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(e):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(e){return e=e||this.getSelection(1),e.getType()!=CKEDITOR.SELECTION_NONE?(!e.isLocked&&e.lock(),this._.savedSelection=e,!0):!1},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return t?(t.unlock(e),delete this._.savedSelection,!0):!1},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3;var v="function"!=typeof window.getSelection,b=1;CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection)var t=e,e=e.root;var n=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:b++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=n?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;var r,i,e=this.getNative();if(e)if(e.getRangeAt)r=(i=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=e.createRange()}catch(o){}r=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!r||r.type!=CKEDITOR.NODE_ELEMENT&&r.type!=CKEDITOR.NODE_TEXT||!this.root.equals(r)&&!this.root.contains(r))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var y={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=v?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:v?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),r=n.type;"Text"==r&&(t=CKEDITOR.SELECTION_TEXT),"Control"==r&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(i){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT,n=this.getNative();if(n&&n.rangeCount){if(1==n.rangeCount){var n=n.getRangeAt(0),r=n.startContainer;r==n.endContainer&&1==r.nodeType&&n.endOffset-n.startOffset==1&&y[r.childNodes[n.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:function(){var e=v?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,n){t=t.duplicate(),t.collapse(n);var r=t.parentElement();if(!r.hasChildNodes())return{container:r,offset:0};for(var i,o,s,a,l=r.children,u=t.duplicate(),c=0,d=l.length-1,h=-1;d>=c;)if(h=Math.floor((c+d)/2),i=l[h],u.moveToElementText(i),s=u.compareEndPoints("StartToStart",t),s>0)d=h-1;else{if(!(0>s))return{container:r,offset:e(i)};c=h+1}if(-1==h||h==l.length-1&&0>s){if(u.moveToElementText(r),u.setEndPoint("StartToStart",t),u=u.text.replace(/(\r\n|\r)/g,"\n").length,l=r.childNodes,!u)return i=l[l.length-1],i.nodeType!=CKEDITOR.NODE_TEXT?{container:r,offset:l.length}:{container:i,offset:i.nodeValue.length};for(r=l.length;u>0&&r>0;)o=l[--r],o.nodeType==CKEDITOR.NODE_TEXT&&(a=o,u-=o.nodeValue.length);return{container:a,offset:-u}}if(u.collapse(s>0?!0:!1),u.setEndPoint(s>0?"StartToStart":"EndToStart",t),u=u.text.replace(/(\r\n|\r)/g,"\n").length,!u)return{container:r,offset:e(i)+(s>0?0:1)};for(;u>0;)try{o=i[s>0?"previousSibling":"nextSibling"],o.nodeType==CKEDITOR.NODE_TEXT&&(u-=o.nodeValue.length,a=o),i=o}catch(f){return{container:r,offset:e(i)}}return{container:a,offset:s>0?-u:a.nodeValue.length+u}};return function(){var e=this.getNative(),n=e&&e.createRange(),r=this.getType();if(!e)return[];if(r==CKEDITOR.SELECTION_TEXT)return e=new CKEDITOR.dom.range(this.root),r=t(n,!0),e.setStart(new CKEDITOR.dom.node(r.container),r.offset),r=t(n),e.setEnd(new CKEDITOR.dom.node(r.container),r.offset),e.endContainer.getPosition(e.startContainer)&CKEDITOR.POSITION_PRECEDING&&e.endOffset<=e.startContainer.getIndex()&&e.collapse(),[e];if(r==CKEDITOR.SELECTION_ELEMENT){for(var r=[],i=0;i<n.length;i++){for(var o=n.item(i),s=o.parentNode,a=0,e=new CKEDITOR.dom.range(this.root);a<s.childNodes.length&&s.childNodes[a]!=o;a++);e.setStart(new CKEDITOR.dom.node(s),a),e.setEnd(new CKEDITOR.dom.node(s),a+1),r.push(e)}return r}return[]}}():function(){var e,t=[],n=this.getNative();if(!n)return t;for(var r=0;r<n.rangeCount;r++){var i=n.getRangeAt(r);e=new CKEDITOR.dom.range(this.root),e.setStart(new CKEDITOR.dom.node(i.startContainer),i.startOffset),e.setEnd(new CKEDITOR.dom.node(i.endContainer),i.endOffset),t.push(e)}return t};return function(t){var n=this._.cache,r=n.ranges;return r||(n.ranges=r=new CKEDITOR.dom.rangeList(e.call(this))),t?h(new CKEDITOR.dom.rangeList(r.slice())):r}}(),getStartElement:function(){var e=this._.cache;if(void 0!==e.startElement)return e.startElement;var t;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if(t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if(t=t.getChild(n.startOffset),t&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)t=n,n=n.getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var t=this,n=CKEDITOR.tools.tryThese(function(){return t.getNative().createRange().item(0)},function(){for(var e,n,r=t.getRanges()[0].clone(),i=2;!(!i||(e=r.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&y[e.getName()]&&(n=e));i--)r.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$});return e.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative(),t=v?"Control"==t.type?"":t.createRange().text:t.toString();return e.selectedText=t},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var t=this.getSelectedElement(),n=!t&&this.getRanges(),r=this.isFake;this.isLocked=0,this.reset(),e&&(e=t||n[0]&&n[0].getCommonAncestor())&&e.getAscendant("body",1)&&(r?this.fake(t):t?this.selectElement(t):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection&&this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}this.rev=b++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var t=this.root.editor,t=t&&t._.hiddenSelectionContainer;if(this.reset(),t)for(var n,t=this.root,r=0;r<e.length;++r)n=e[r],n.endContainer.equals(t)&&(n.endOffset=Math.min(n.endOffset,t.getChildCount()));if(e.length)if(this.isLocked){var o=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(e),this.lock(),o&&!o.equals(this.root)&&o.focus()}else{var a,l,u;if((1!=e.length||(u=e[0]).collapsed||!(a=u.getEnclosedNode())||a.type!=CKEDITOR.NODE_ELEMENT||(u=u.clone(),u.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(l=u.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(a=l),"false"!=a.getAttribute("contenteditable")))&&(a=void 0),a)this.fake(a);else{if(v){u=CKEDITOR.dom.walker.whitespaces(!0),l=/\ufeff|\u00a0/,t={table:1,tbody:1,tr:1},e.length>1&&(a=e[e.length-1],e[0].setEnd(a.endContainer,a.endOffset)),a=e[0];var c,d,h,e=a.collapsed;if((n=a.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in y&&(!n.is("a")||!n.getText()))try{return h=n.$.createControlRange(),h.addElement(n.$),void h.select()}catch(f){}(a.startContainer.type==CKEDITOR.NODE_ELEMENT&&a.startContainer.getName()in t||a.endContainer.type==CKEDITOR.NODE_ELEMENT&&a.endContainer.getName()in t)&&(a.shrink(CKEDITOR.NODE_ELEMENT,!0),e=a.collapsed),h=a.createBookmark(),t=h.startNode,e||(o=h.endNode),h=a.document.$.body.createTextRange(),h.moveToElementText(t.$),h.moveStart("character",1),o?(l=a.document.$.body.createTextRange(),l.moveToElementText(o.$),h.setEndPoint("EndToEnd",l),h.moveEnd("character",-1)):(c=t.getNext(u),d=t.hasAscendant("pre"),c=!(c&&c.getText&&c.getText().match(l))&&(d||!t.hasPrevious()||t.getPrevious().is&&t.getPrevious().is("br")),d=a.document.createElement("span"),d.setHtml("&#65279;"),d.insertBefore(t),c&&a.document.createText("").insertBefore(t)),a.setStartBefore(t),t.remove(),e?(c?(h.moveStart("character",-1),h.select(),a.document.$.selection.clear()):h.select(),a.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START),d.remove()):(a.setEndBefore(o),o.remove(),h.select())}else{if(o=this.getNative(),!o)return;for(this.removeAllRanges(),h=0;h<e.length;h++)if(h<e.length-1&&(c=e[h],d=e[h+1],l=c.clone(),l.setStart(c.endContainer,c.endOffset),l.setEnd(d.startContainer,d.startOffset),!l.collapsed&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),a=l.getCommonAncestor(),l=l.getEnclosedNode(),a.isReadOnly()||l&&l.isReadOnly())))d.setStart(c.startContainer,c.startOffset),e.splice(h--,1);else{a=e[h],d=this.document.$.createRange(),a.collapsed&&CKEDITOR.env.webkit&&i(a)&&(c=this.root,s(c,!1),l=c.getDocument().createText("​"),c.setCustomData("cke-fillingChar",l),a.insertNode(l),(c=l.getNext())&&!l.getPrevious()&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()?(s(this.root),a.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START)):a.moveToPosition(l,CKEDITOR.POSITION_AFTER_END)),d.setStart(a.startContainer.$,a.startOffset);try{d.setEnd(a.endContainer.$,a.endOffset)}catch(p){if(!(p.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0))throw p;a.collapse(1),d.setEnd(a.endContainer.$,a.endOffset)}o.addRange(d)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(e){var t=this.root.editor;this.reset(),c(t);var n=this._.cache,r=new CKEDITOR.dom.range(this.root);r.setStartBefore(e),r.setEndAfter(e),n.ranges=new CKEDITOR.dom.rangeList(r),n.selectedElement=n.startElement=e,n.type=CKEDITOR.SELECTION_ELEMENT,n.selectedText=n.nativeSel=null,this.isFake=1,this.rev=b++,t._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},createBookmarks:function(e){return e=this.getRanges().createBookmarks(e),this.isFake&&(e.isFake=1),e},createBookmarks2:function(e){return e=this.getRanges().createBookmarks2(e),this.isFake&&(e.isFake=1),e},selectBookmarks:function(e){for(var t=[],n=0;n<e.length;n++){var r=new CKEDITOR.dom.range(this.root);r.moveToBookmark(e[n]),t.push(r)}return e.isFake?this.fake(t[0].getEnclosedNode()):this.selectRanges(t),this},getCommonAncestor:function(){var e=this.getRanges();return e.length?e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[v?"empty":"removeAllRanges"]()}catch(t){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var n,r;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!r){var i=e.getAttribute("contentEditable");"false"==i?n=e:"true"==i&&(r=1)}return n}function t(n){var i=n.document;if(n.collapsed)i=g(this,i),n.insertNode(i),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_END);else{var o,s=this.element,a=this._.definition,l=a.ignoreReadonly,u=l||a.includeReadonly;null==u&&(u=n.root.getCustomData("cke_includeReadonly"));var c=CKEDITOR.dtd[s];c||(o=!0,c=CKEDITOR.dtd.span),n.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.trim();var d,h=n.createBookmark(),p=h.startNode,m=h.endNode,v=p;if(!l){var b=n.getCommonAncestor(),l=e(p,b),b=e(m,b);l&&(v=l.getNextSourceNode(!0)),b&&(m=b)}for(v.getPosition(m)==CKEDITOR.POSITION_FOLLOWING&&(v=0);v;){if(l=!1,v.equals(m))v=null,l=!0;else{var y=v.type==CKEDITOR.NODE_ELEMENT?v.getName():null,b=y&&"false"==v.getAttribute("contentEditable"),E=y&&v.getAttribute("data-nostyle");if(y&&v.data("cke-bookmark")){v=v.getNextSourceNode(!0);continue}if(b&&u&&CKEDITOR.dtd.$block[y])for(var _=v,T=r(_),C=void 0,O=T.length,I=0,_=O&&new CKEDITOR.dom.range(_.getDocument());O>I;++I){var C=T[I],R=CKEDITOR.filter.instances[C.data("cke-filter")];(R?R.check(this):1)&&(_.selectNodeContents(C),t.call(this,_))}if(T=y?!c[y]||E?0:b&&!u?0:(v.getPosition(m)|w)==w&&(!a.childRule||a.childRule(v)):1){if(!(T=v.getParent())||!(T.getDtd()||CKEDITOR.dtd.span)[s]&&!o||a.parentRule&&!a.parentRule(T))l=!0;else if(d||y&&CKEDITOR.dtd.$removeEmpty[y]&&(v.getPosition(m)|w)!=w||(d=n.clone(),d.setStartBefore(v)),y=v.type,y==CKEDITOR.NODE_TEXT||b||y==CKEDITOR.NODE_ELEMENT&&!v.getChildCount()){for(var k,y=v;(l=!y.getNext(D))&&(k=y.getParent(),c[k.getName()])&&(k.getPosition(p)|x)==x&&(!a.childRule||a.childRule(k));)y=k;d.setEndAfter(y)}}else l=!0;v=v.getNextSourceNode(E||b)}if(l&&d&&!d.collapsed){for(var S,K,N,l=g(this,i),b=l.hasAttributes(),E=d.getCommonAncestor(),y={},T={},C={},O={};l&&E;){if(E.getName()==s){for(S in a.attributes)!O[S]&&(N=E.getAttribute(K))&&(l.getAttribute(S)==N?T[S]=1:O[S]=1);for(K in a.styles)!C[K]&&(N=E.getStyle(K))&&(l.getStyle(K)==N?y[K]=1:C[K]=1)}E=E.getParent()}for(S in T)l.removeAttribute(S);for(K in y)l.removeStyle(K);b&&!l.hasAttributes()&&(l=null),l?(d.extractContents().appendTo(l),d.insertNode(l),f.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element("span"),d.extractContents().appendTo(l),d.insertNode(l),f.call(this,l),l.remove(!0)),d=null}}n.moveToBookmark(h),n.shrink(CKEDITOR.SHRINK_TEXT),n.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function n(e){function t(){for(var e=new CKEDITOR.dom.elementPath(r.getParent()),t=new CKEDITOR.dom.elementPath(u.getParent()),n=null,i=null,o=0;o<e.elements.length;o++){var s=e.elements[o];if(s==e.block||s==e.blockLimit)break;c.checkElementRemovable(s,!0)&&(n=s)}for(o=0;o<t.elements.length&&(s=t.elements[o],s!=t.block&&s!=t.blockLimit);o++)c.checkElementRemovable(s,!0)&&(i=s);i&&u.breakParent(i),n&&r.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),r=n.startNode;if(e.collapsed){for(var i,o,s=new CKEDITOR.dom.elementPath(r.getParent(),e.root),a=0;a<s.elements.length&&(o=s.elements[a])&&(o!=s.block&&o!=s.blockLimit);a++)if(this.checkElementRemovable(o)){var l;e.collapsed&&(e.checkBoundaryOfElement(o,CKEDITOR.END)||(l=e.checkBoundaryOfElement(o,CKEDITOR.START)))?(i=o,i.match=l?"start":"end"):(o.mergeSiblings(),o.is(this.element)?h.call(this,o):p(o,y(this)[o.getName()]))}if(i){for(o=r,a=0;l=s.elements[a],!l.equals(i);a++)l.match||(l=l.clone(),l.append(o),o=l);o["start"==i.match?"insertBefore":"insertAfter"](i)}}else{var u=n.endNode,c=this;for(t(),s=r;!s.equals(u);)i=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?h.call(this,s):p(s,y(this)[s.getName()]),i.type==CKEDITOR.NODE_ELEMENT&&i.contains(r)&&(t(),i=r.getNext())),s=i}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function r(e){var t=[];return e.forEach(function(e){return"true"==e.getAttribute("contenteditable")?(t.push(e),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),t}function i(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&v(e,this)}function o(e){var t=e.getCommonAncestor(!0,!0);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var t=this._.definition,n=t.attributes;if(n)for(var r in n)e.removeAttribute(r,n[r]);if(t.styles)for(var i in t.styles)t.styles.hasOwnProperty(i)&&e.removeStyle(i)}}function s(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var r,i,o=e.document;r=n.getNextParagraph();)!r.isReadOnly()&&(n.activeFilter?n.activeFilter.check(this):1)&&(i=g(this,o,r),l(r,i));e.moveToBookmark(t)}function a(e){var t=e.createBookmark(1),n=e.createIterator();n.enforceRealBlocks=!0,n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var r,i;r=n.getNextParagraph();)this.checkElementRemovable(r)&&(r.is("pre")?((i=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&r.copyAttributes(i),l(r,i)):h.call(this,r));e.moveToBookmark(t)}function l(e,t){var n=!t;n&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var r=t&&t.is("pre"),i=e.is("pre"),o=!r&&i;if(r&&!i){if(i=t,(o=e.getBogus())&&o.remove(),o=e.getHtml(),o=c(o,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),o=o.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),o=o.replace(/([ \t\n\r]+|&nbsp;)/g," "),o=o.replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=e.getDocument().createElement("div");s.append(i),i.$.outerHTML="<pre>"+o+"</pre>",i.copyAttributes(s.getFirst()),i=s.getFirst().remove()}else i.setHtml(o);t=i}else o?t=d(n?[e.getHtml()]:u(e),t):e.moveChildren(t);if(t.replace(e),r){var a,n=t;(a=n.getPrevious(R))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("pre")&&(r=c(a.getHtml(),/\n$/,"")+"\n\n"+c(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+r+"</pre>":n.setHtml(r),a.remove())}else n&&m(t)}function u(e){var t=[];return c(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(e,t,n){return t+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(e,n){t.push(n)}),t}function c(e,t,n){var r="",i="",e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(e,t,n){return t&&(r=t),n&&(i=n),""});return r+e.replace(t,n)+i}function d(e,t){var n;e.length>1&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var r=0;r<e.length;r++){var i=e[r],i=i.replace(/(\r\n|\r)/g,"\n"),i=c(i,/^[ \t]*\n/,""),i=c(i,/\n$/,""),i=c(i,/^[ \t]+|[ \t]+$/g,function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}),i=i.replace(/\n/g,"<br>"),i=i.replace(/[ \t]{2,}/g,function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "});if(n){var o=t.clone();o.setHtml(i),n.append(o)}else t.setHtml(i)}return n||t}function h(e,t){var n,r=this._.definition,i=r.attributes,r=r.styles,o=y(this)[e.getName()],s=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(r);for(n in i)("class"==n||this._.definition.fullMatch)&&e.getAttribute(n)!=E(n,i[n])||t&&"data-"==n.slice(0,5)||(s=e.hasAttribute(n),e.removeAttribute(n));for(var a in r)this._.definition.fullMatch&&e.getStyle(a)!=E(a,r[a],!0)||(s=s||!!e.getStyle(a),e.removeStyle(a));p(e,o,T[e.getName()]),s&&(this._.definition.alwaysRemoveElement?m(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?m(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function f(e){for(var t,n=y(this),r=e.getElementsByTag(this.element),i=r.count();--i>=0;)t=r.getItem(i),t.isReadOnly()||h.call(this,t,!0);for(var o in n)if(o!=this.element)for(r=e.getElementsByTag(o),i=r.count()-1;i>=0;i--)t=r.getItem(i),t.isReadOnly()||p(t,n[o])}function p(e,t,n){if(t=t&&t.attributes)for(var r=0;r<t.length;r++){var i,o=t[r][0];if(i=e.getAttribute(o)){var s=t[r][1];(null===s||s.test&&s.test(i)||"string"==typeof s&&i==s)&&e.removeAttribute(o)}}n||m(e)}function m(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious(R),r=e.getNext(R);n&&(n.type==CKEDITOR.NODE_TEXT||!n.isBlockBoundary({br:1}))&&e.append("br",1),r&&(r.type==CKEDITOR.NODE_TEXT||!r.isBlockBoundary({br:1}))&&e.append("br"),e.remove(!0)}else n=e.getFirst(),r=e.getLast(),e.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),r&&!n.equals(r)&&r.type==CKEDITOR.NODE_ELEMENT&&r.mergeSiblings())}function g(e,t,n){var r;return r=e.element,"*"==r&&(r="span"),r=new CKEDITOR.dom.element(r,t),n&&n.copyAttributes(r),r=v(r,e),t.getCustomData("doc_processing_style")&&r.hasAttribute("id")?r.removeAttribute("id"):t.setCustomData("doc_processing_style",1),r}function v(e,t){var n=t._.definition,r=n.attributes,n=CKEDITOR.style.getStyleText(n);if(r)for(var i in r)e.setAttribute(i,r[i]);return n&&e.setAttribute("style",n),e}function b(e,t){for(var n in e)e[n]=e[n].replace(I,function(e,n){return t[n]})}function y(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var i,o,s=n[r];if("string"==typeof s?i=s.toLowerCase():(i=s.element?s.element.toLowerCase():e.element,o=s.attributes),s=t[i]||(t[i]={}),o){var a,s=s.attributes=s.attributes||[];for(a in o)s.push([a.toLowerCase(),o[a]])}}}return t}function E(e,t,n){var r=new CKEDITOR.dom.element("span");return r[n?"setStyle":"setAttribute"](e,t),r[n?"getStyle":"getAttribute"](e)}function _(e,t,n){for(var r,i=e.document,o=e.getRanges(),t=t?this.removeFromRange:this.applyToRange,s=o.createIterator();r=s.getNextRange();)t.call(this,r,n);e.selectRanges(o),i.removeCustomData("doc_processing_style")}var T={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,
datagrid:1,datalist:1},C={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},O=/\s*(?:;\s*|$)/,I=/#\((.+?)\)/g,D=CKEDITOR.dom.walker.bookmark(0,1),R=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(e=CKEDITOR.tools.clone(e),b(e.attributes,t),b(e.styles,t)),n=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*",this.type=e.type||(T[n]?CKEDITOR.STYLE_BLOCK:C[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return _.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),_.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return _.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),_.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?t:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?a:this.type==CKEDITOR.STYLE_OBJECT?o:null,this.removeFromRange(e)},applyToObject:function(e){v(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,r=e.elements,i=0;i<r.length;i++)if(n=r[i],this.type!=CKEDITOR.STYLE_INLINE||n!=e.block&&n!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var o=n.getName();if(!("string"==typeof this.element?o==this.element:o in this.element))continue}if(this.checkElementRemovable(n,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var r=e.getName();if("string"==typeof this.element?r==this.element:r in this.element){if(!t&&!e.hasAttributes())return!0;if(r=n._AC)n=r;else{var r={},i=0,o=n.attributes;if(o)for(var s in o)i++,r[s]=o[s];(s=CKEDITOR.style.getStyleText(n))&&(r.style||i++,r.style=s),r._length=i,n=n._AC=r}if(!n._length)return!0;for(var a in n)if("_length"!=a){if(i=e.getAttribute(a)||"","style"==a)e:{r=n[a],"string"==typeof r&&(r=CKEDITOR.tools.parseCssText(r)),"string"==typeof i&&(i=CKEDITOR.tools.parseCssText(i,!0)),s=void 0;for(s in r)if(!(s in i)||i[s]!=r[s]&&"inherit"!=r[s]&&"inherit"!=i[s]){r=!1;break e}r=!0}else r=n[a]==i;if(r){if(!t)return!0}else if(t)return!1}if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;if(t=y(this)[e.getName()]){var r;if(!(t=t.attributes))return!0;for(n=0;n<t.length;n++)if(r=t[n][0],r=e.getAttribute(r)){var i=t[n][1];if(null===i)return!0;if("string"==typeof i){if(r==i)return!0}else if(i.test(r))return!0}}return!1},buildPreview:function(e){var t=this._.definition,n=[],r=t.element;"bdo"==r&&(r="span");var n=["<",r],i=t.attributes;if(i)for(var o in i)n.push(" ",o,'="',i[o],'"');return(i=CKEDITOR.style.getStyleText(t))&&n.push(' style="',i,'"'),n.push(">",e||t.name,"</",r,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){var t=e._ST;if(t)return t;var t=e.styles,n=e.attributes&&e.attributes.style||"",r="";n.length&&(n=n.replace(O,";"));for(var i in t){var o=t[i],s=(i+":"+o).replace(O,";");"inherit"==o?r+=s:n+=s}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),e._ST=n+r},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t};var w=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,x=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(e){for(var t=0;t<n.length;t++){var r=n[t],i=r.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;r.fn.call(this,i)}})),n.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this,n=t.config.stylesCombo_stylesSet||t.config.stylesSet;if(n===!1)e(null);else if(n instanceof Array)t._.stylesDefinitions=n,e(n);else{n||(n="default");var n=n.split(":"),r=n[0];CKEDITOR.stylesSet.addExternal(r,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(r,function(n){t._.stylesDefinitions=n[r],e(t._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var e,t={},n={};for(e in CKEDITOR.dtd.$blockLimit)e in CKEDITOR.dtd.$list||(t[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(n[e]=1);CKEDITOR.dom.elementPath=function(e,r){var i,o=null,s=null,a=[],l=e,r=r||e.getDocument().getBody();do if(l.type==CKEDITOR.NODE_ELEMENT){if(a.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(r))break;if(!s&&(i=l.getName(),"true"==l.getAttribute("contenteditable")?s=l:!o&&n[i]&&(o=l),t[i])){var u;if(u=!o){if(i="div"==i){e:{i=l.getChildren(),u=0;for(var c=i.count();c>u;u++){var d=i.getItem(u);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){i=!0;break e}}i=!1}i=!i}u=i}u?o=l:s=l}}while(l=l.getParent());s||(s=r),this.block=o,this.blockLimit=s,this.root=r,this.elements=a}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements,e=e&&e.elements;if(!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0},contains:function(e,t,n){var r;"string"==typeof e&&(r=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?r=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?r=function(t){return CKEDITOR.tools.indexOf(e,t.getName())>-1}:"function"==typeof e?r=e:"object"==typeof e&&(r=function(t){return t.getName()in e});var i=this.elements,o=i.length;for(t&&o--,n&&(i=Array.prototype.slice.call(i,0),i.reverse()),t=0;o>t;t++)if(r(i[t]))return i[t];return null},isContextFor:function(e){var t;return e in CKEDITOR.dtd.$block?(t=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!t.getDtd()[e]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,r=this.getLength(),i=this.getDocument(),o=new CKEDITOR.dom.text(this.$.splitText(e),i);return t.childNodes.length==n&&(e>=r?(o=i.createText(""),o.insertAfter(this)):(e=i.createText(""),e.insertAfter(o),e.remove())),o},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,n){var r=e.serializable,i=t[n?"endContainer":"startContainer"],o=n?"endOffset":"startOffset",s=r?t.document.getById(e.startNode):e.startNode,e=r?t.document.getById(e.endNode):e.endNode;return i.equals(s.getPrevious())?(t.startOffset=t.startOffset-i.getLength()-e.getPrevious().getLength(),i=e.getNext()):i.equals(e.getPrevious())&&(t.startOffset=t.startOffset-i.getLength(),i=e.getNext()),i.equals(s.getParent())&&t[o]++,i.equals(e.getParent())&&t[o]++,t[n?"endContainer":"startContainer"]=i,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var e,t=this,n=CKEDITOR.dom.walker.bookmark(),r=[];return{getNextRange:function(i){e=void 0===e?0:e+1;var o=t[e];if(o&&t.length>1){if(!e)for(var s=t.length-1;s>=0;s--)r.unshift(t[s].createBookmark(!0));if(i)for(var a=0;t[e+a+1];){for(var l=o.document,i=0,s=l.getById(r[a].endNode),l=l.getById(r[a+1].startNode);;){if(s=s.getNextSourceNode(!1),l.equals(s))i=1;else if(n(s)||s.type==CKEDITOR.NODE_ELEMENT&&s.isBlockBoundary())continue;break}if(!i)break;a++}for(o.moveToBookmark(r.shift());a--;)s=t[++e],s.moveToBookmark(r.shift()),o.setEnd(s.endContainer,s.endOffset)}return o}}},createBookmarks:function(t){for(var n,r=[],i=0;i<this.length;i++){r.push(n=this[i].createBookmark(t,!0));for(var o=i+1;o<this.length;o++)this[o]=e(n,this[o]),this[o]=e(n,this[o],!0)}return r},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function t(t){var n=CKEDITOR.skin["ua_"+t],r=CKEDITOR.env;if(n)for(var i,n=n.split(",").sort(function(e,t){return e>t?-1:1}),o=0;o<n.length;o++)if(i=n[o],r.ie&&(i.replace(/^ie/,"")==r.version||r.quirks&&"iequirks"==i)&&(i="ie"),r[i]){t+="_"+n[o];break}return CKEDITOR.getUrl(e()+t+".css")}function n(e,n){o[e]||(CKEDITOR.document.appendStyleSheet(t(e)),o[e]=1),n&&n()}function r(e){var t=e.getById(s);return t||(t=e.getHead().append("style"),t.setAttribute("id",s),t.setAttribute("type","text/css")),t}function i(e,t,n){var r,i,o;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),i=0;i<t.length;i++)t[i]=t[i].split("{");for(var s=0;s<e.length;s++)if(CKEDITOR.env.webkit)for(i=0;i<t.length;i++){for(o=t[i][1],r=0;r<n.length;r++)o=o.replace(n[r][0],n[r][1]);e[s].$.sheet.addRule(t[i][0],o)}else{for(o=t,r=0;r<n.length;r++)o=o.replace(n[r][0],n[r][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?e[s].$.styleSheet.cssText=e[s].$.styleSheet.cssText+o:e[s].$.innerHTML=e[s].$.innerHTML+o}}var o={};CKEDITOR.skin={path:e,loadPart:function(t,r){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e()+"skin.js"),function(){n(t,r)}):n(t,r)},getPath:function(e){return CKEDITOR.getUrl(t(e))},icons:{},addIcon:function(e,t,n,r){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:r||"16px"})},getIconStyle:function(e,t,n,r,i){var o;return e&&(e=e.toLowerCase(),t&&(o=this.icons[e+"-rtl"]),o||(o=this.icons[e])),e=n||o&&o.path||"",r=r||o&&o.offset,i=i||o&&o.bgsize||"16px",e&&"background-image:url("+CKEDITOR.getUrl(e)+");background-position:0 "+r+"px;background-size:"+i+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=r(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var n=CKEDITOR.skin.chameleon,r="",o="";"function"==typeof n&&(r=n(this,"editor"),o=n(this,"panel")),e=[[l,e]],i([t],r,e),i(a,o,e)}).call(this,e)}});var s="cke_ui_color",a=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor,e=function(e){if(e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument(),!e.getById("cke_ui_color")){e=r(e),a.push(e);var n=t.getUiColor();n&&i([e],CKEDITOR.skin.chameleon(t,"panel"),[[l,n]])}};t.on("panelShow",e),t.on("menuShow",e),t.config.uiColor&&t.setUiColor(t.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(r){CKEDITOR.env.hc=!1}e.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass=CKEDITOR.env.cssClass+" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),e=CKEDITOR._.pending)for(delete CKEDITOR._.pending,t=0;t<e.length;t++)CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]),CKEDITOR.add(e[t][0])}(),CKEDITOR.skin.name="moono",CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8",CKEDITOR.skin.chameleon=function(){var e=function(){return function(e,t){for(var n=e.match(/[^#]./g),r=0;3>r;r++){var i,o=n,s=r;i=parseInt(n[r],16),i=("0"+(0>t?0|i*(1+t):0|i+(255-i)*t).toString(16)).slice(-2),o[s]=i}return"#"+n.join("")}}(),t=function(){var e=new CKEDITOR.template("background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(t,n){return e.output({from:t,to:n})}}(),n={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(r,i){var o=r.uiColor,o={id:"."+r.id,defaultBorder:e(o,-.1),defaultGradient:t(e(o,.9),o),lightGradient:t(e(o,1),e(o,.7)),mediumGradient:t(e(o,.8),e(o,.5)),ckeButtonOn:t(e(o,.6),e(o,.7)),ckeResizer:e(o,-.4),ckeToolbarSeparator:e(o,.5),ckeColorauto:e(o,.8),dialogBody:e(o,.7),dialogTabSelected:t("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:e(o,-.6),elementsPathBg:o,menubuttonIcon:e(o,.5),menubuttonIconHover:e(o,.3)};return n[i].output(o).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var e=function(e){this._||(this._={}),this._["default"]=this._.initValue=e["default"]||"",this._.required=e.required||!1;for(var t=[this._],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,t),this._},t={build:function(e,t,n){return new CKEDITOR.ui.dialog.textInput(e,t,n)}},n={build:function(e,t,n){return new CKEDITOR.ui.dialog[t.type](e,t,n)}},r={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},i=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){this._.domOnChangeRegistered||(e.on("load",function(){this.getInputElement().on("change",function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},!0),o=/^on([A-Z]\w+)/,s=function(e){for(var t in e)(o.test(t)||"title"==t||"type"==t)&&delete e[t];return e};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(t,n,r,i){if(!(arguments.length<4)){var o=e.call(this,n);o.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var s={role:n.role||"presentation"};n.includeLabel&&(s["aria-labelledby"]=o.labelId),CKEDITOR.ui.dialog.uiElement.call(this,t,n,r,"div",null,s,function(){var e=[],r=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?e.push('<label class="cke_dialog_ui_labeled_label'+r+'" ',' id="'+o.labelId+'"',o.inputId?' for="'+o.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',i.call(this,t,n),"</div>"):(r={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+r+'" id="'+o.labelId+'" for="'+o.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</span>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+i.call(this,t,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(t,r,e)),e.join("")})}},textInput:function(t,n,r){if(!(arguments.length<3)){e.call(this,n);var i=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={"class":"cke_dialog_ui_input_"+n.type,id:i,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var s=this,a=!1;t.on("load",function(){s.getInputElement().on("keydown",function(e){13==e.data.getKeystroke()&&(a=!0)}),s.getInputElement().on("keyup",function(e){13==e.data.getKeystroke()&&a&&(t.getButton("ok")&&setTimeout(function(){t.getButton("ok").click()},0),a=!1)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){var e=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];n.width&&e.push('style="width:'+n.width+'" '),e.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required);for(var t in o)e.push(t+'="'+o[t]+'" ');return e.push(" /></div>"),e.join("")})}},textarea:function(t,n,r){if(!(arguments.length<3)){e.call(this,n);var i=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",s={};n.validate&&(this.validate=n.validate),s.rows=n.rows||5,s.cols=n.cols||20,s["class"]="cke_dialog_ui_input_textarea "+(n["class"]||""),"undefined"!=typeof n.inputStyle&&(s.style=n.inputStyle),n.dir&&(s.dir=n.dir),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){s["aria-labelledby"]=this._.labelId,this._.required&&(s["aria-required"]=this._.required);var e,t=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(e in s)t.push(e+'="'+CKEDITOR.tools.htmlEncode(s[e])+'" ');return t.push(">",CKEDITOR.tools.htmlEncode(i._["default"]),"</textarea></div>"),t.join("")})}},checkbox:function(t,n,r){if(!(arguments.length<3)){var i=e.call(this,n,{"default":!!n["default"]});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,t,n,r,"span",null,null,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),r=[],o=CKEDITOR.tools.getNextId()+"_label",a={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":o};return s(e),n["default"]&&(a.checked="checked"),"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),i.checkbox=new CKEDITOR.ui.dialog.uiElement(t,e,r,"input",null,a),r.push(' <label id="',o,'" for="',a.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),r.join("")})}},radio:function(t,n,r){if(!(arguments.length<3)){e.call(this,n),this._["default"]||(this._["default"]=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.valdiate);var i=[],o=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){for(var e=[],r=[],a=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var u=n.items[l],c=void 0!==u[2]?u[2]:u[0],d=void 0!==u[1]?u[1]:u[0],h=CKEDITOR.tools.getNextId()+"_radio_input",f=h+"_label",h=CKEDITOR.tools.extend({},n,{id:h,title:null,type:null},!0),c=CKEDITOR.tools.extend({},h,{title:c},!0),p={type:"radio","class":"cke_dialog_ui_radio_input",name:a,value:d,"aria-labelledby":f},m=[];o._["default"]==d&&(p.checked="checked"),s(h),s(c),"undefined"!=typeof h.inputStyle&&(h.style=h.inputStyle),h.keyboardFocusable=!0,i.push(new CKEDITOR.ui.dialog.uiElement(t,h,m,"input",null,p)),m.push(" "),new CKEDITOR.ui.dialog.uiElement(t,c,m,"label",null,{id:f,"for":p.id},u[0]),e.push(m.join(""))}return new CKEDITOR.ui.dialog.hbox(t,i,e,r),r.join("")}),this._.children=i}},button:function(t,n,r){if(arguments.length){"function"==typeof n&&(n=n(t.getParentEditor())),e.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var i=this;t.on("load",function(){var e=this.getElement();!function(){e.on("click",function(e){i.click(),e.data.preventDefault()}),e.on("keydown",function(e){e.data.getKeystroke()in{32:1}&&(i.click(),e.data.preventDefault())})}(),e.unselectable()},this);var o=CKEDITOR.tools.extend({},n);delete o.style;var s=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,o,r,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true","class":n["class"],role:"button","aria-labelledby":s},'<span id="'+s+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(t,n,r){if(!(arguments.length<3)){var i=e.call(this,n);n.validate&&(this.validate=n.validate),i.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),r=[],o=[],a={id:i.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};r.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&r.push('style="width:'+n.width+'" '),r.push(">"),void 0!==n.size&&(a.size=n.size),void 0!==n.multiple&&(a.multiple=n.multiple),s(e);for(var l,u=0;u<n.items.length&&(l=n.items[u]);u++)o.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),i.select=new CKEDITOR.ui.dialog.uiElement(t,e,r,"select",null,a,o.join("")),r.push("</div>"),r.join("")})}},file:function(t,n,r){if(!(arguments.length<3)){void 0===n["default"]&&(n["default"]="");var i=CKEDITOR.tools.extend(e.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),t.on("load",function(){CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){i.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',i.frameId,'" title="',n.label,'" src="javascript:void('];return e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),e.push(')"></iframe>'),e.join("")})}},fileButton:function(t,n,r){var i=this;if(!(arguments.length<3)){e.call(this,n),n.validate&&(this.validate=n.validate);var o=CKEDITOR.tools.extend({},n),s=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(e){var r=n["for"];s&&s.call(this,e)===!1||(t.getContentElement(r[0],r[1]).submit(),this.disable())},t.on("load",function(){t.getContentElement(n["for"][0],n["for"][1])._.buttons.push(i)}),CKEDITOR.ui.dialog.button.call(this,t,o,r)}},html:function(){var e=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(r,i,o){if(!(arguments.length<3)){var s=[],a=i.html;"<"!=a.charAt(0)&&(a="<span>"+a+"</span>");var l=i.focus;if(l){var u=this.focus;this.focus=function(){("function"==typeof l?l:u).call(this),this.fire("focus")},i.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,r,i,s,"span",null,null,""),s=s.join("").match(e),a=a.match(t)||["","",""],n.test(a[1])&&(a[1]=a[1].slice(0,-1),a[2]="/"+a[2]),o.push([a[1]," ",s[1]||"",a[2]].join(""))}}}(),fieldset:function(e,t,n,r,i){var o=i.label;this._={children:t},CKEDITOR.ui.dialog.uiElement.call(this,e,i,r,"fieldset",null,null,function(){var e=[];o&&e.push("<legend"+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+o+"</legend>");for(var t=0;t<n.length;t++)e.push(n[t]);return e.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);return t.getChildCount()<1?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e,this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||e.getChildCount()<1?"":e.getChild(0).getText()},eventProcessors:i},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",function(){t.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(e){return!e&&(e=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:!0},r,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,n){var r=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),i=this.getInputElement().$;return r.$.text=e,r.$.value=void 0===t||null===t?e:t,void 0===n||null===n?CKEDITOR.env.ie?i.add(r.$):i.add(r.$,null):i.add(r.$,n),this},remove:function(e){return this.getInputElement().$.remove(e),this},clear:function(){for(var e=this.getInputElement().$;e.length>0;)e.remove(0);return this},keyboardFocusable:!0},r,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){this.getInputElement().$.checked=e,!t&&this.fire("change",{value:e})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||CKEDITOR.env.version>8?i.onChange.apply(this,arguments):(e.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){t=t.data.$,"checked"==t.propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",t),null)}},keyboardFocusable:!0},r,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var n,r=this._.children,i=0;i<r.length&&(n=r[i]);i++)n.getElement().$.checked=n.getValue()==e;!t&&this.fire("change",{value:e})},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e,t=this._.children;for(e=0;e<t.length;e++)if(t[e].getElement().$.checked)return void t[e].getElement().focus();t[0].getElement().focus()},eventProcessors:{onChange:function(e,t){return CKEDITOR.env.ie?(e.on("load",function(){for(var e=this._.children,t=this,n=0;n<e.length;n++)e[n].getElement().on("propertychange",function(e){e=e.data.$,"checked"==e.propertyName&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",t),null):i.onChange.apply(this,arguments);

}}},r,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,r,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return e.$.forms.length>0?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t,n,r=/^on([A-Z]\w+)/,i=function(e,t,n,r){e.on("formLoaded",function(){e.getInputElement().on(n,r,e)})};for(n in e)(t=n.match(r))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):i(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},reset:function(){function e(){n.$.open();var e="";r.size&&(e=r.size-(CKEDITOR.env.ie?7:0));var u=t.frameId+"_input";for(n.$.write(['<html dir="'+a+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+a+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(r.action),'"><label id="',t.labelId,'" for="',u,'" style="display:none">',CKEDITOR.tools.htmlEncode(r.label),'</label><input style="width:100%" id="',u,'" aria-labelledby="',t.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(r.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(e>0?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+o+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","</script>"].join("")),n.$.close(),e=0;e<i.length;e++)i[e].enable()}var t=this._,n=CKEDITOR.document.getById(t.frameId).getFrameDocument(),r=t.definition,i=t.buttons,o=this.formLoadedNumber,s=this.formUnloadNumber,a=t.dialog._.editor.lang.dir,l=t.dialog._.editor.langCode;o||(o=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(o),CKEDITOR.tools.removeFunction(s)})),CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,n){for(var r,i=t.children,o=[],s=[],a=0;a<i.length&&(r=i[a]);a++){var l=[];o.push(l),s.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e,r,l))}return new CKEDITOR.ui.dialog[t.type](e,s,o,n,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,function(){function e(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,n=t-1;n>t-e;n--)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function t(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=t+1;t+e>n;n++)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function n(e,t){for(var n=e.$.getElementsByTagName("input"),r=0,i=n.length;i>r;r++){var o=new CKEDITOR.dom.element(n[r]);"text"==o.getAttribute("type").toLowerCase()&&(t?(o.setAttribute("value",o.getCustomData("fake_value")||""),o.removeCustomData("fake_value")):(o.setCustomData("fake_value",o.getAttribute("value")),o.setAttribute("value","")))}}function r(e,t){var n=this.getInputElement();n&&(e?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),e||(this.select?this.select():this.focus()),t&&alert(t),this.fire("validated",{valid:e,msg:t})}function i(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}function o(e){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",m).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),t=e.getChild([0,0,0,0,0]),n=t.getChild(0),r=t.getChild(1);if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var i="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())";CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+i+'" tabIndex="-1"></iframe>').appendTo(t.getParent())}return n.unselectable(),r.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:n,close:r,tabs:t.getChild(2),contents:t.getChild([3,0,0,0]),footer:t.getChild([3,0,1,0])}}}function s(e,t,n){this.element=t,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()},this.focus=function(){e._.currentFocusIndex=this.focusIndex,this.element.focus()},t.on("keydown",function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),t.on("focus",function(){this.fire("mouseover")}),t.on("blur",function(){this.fire("mouseout")})}function a(e){function t(){e.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",t),e.on("hide",function(){n.removeListener("resize",t)})}function l(e,t){this._={dialog:e},CKEDITOR.tools.extend(this,t)}function u(e){function t(t){var n=e.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),u=t.data.$.screenX,c=t.data.$.screenY,d=u-r.x,h=c-r.y;r={x:u,y:c},i.x=i.x+d,i.y=i.y+h,e.move(i.x+a[3]<s?-a[3]:i.x-a[1]>l.width-n.width-s?l.width-n.width+("rtl"==o.lang.dir?0:a[1]):i.x,i.y+a[0]<s?-a[0]:i.y-a[2]>l.height-n.height-s?l.height-n.height+a[2]:i.y,1),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mousemove",t),e.removeListener("mouseup",n)}}var r=null,i=null,o=e.getParentEditor(),s=o.config.dialog_magnetDistance,a=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof s&&(s=20),e.parts.title.on("mousedown",function(o){if(r={x:o.data.$.screenX,y:o.data.$.screenY},CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),i=e.getPosition(),CKEDITOR.env.ie6Compat){var s=T.getChild(0).getFrameDocument();s.on("mousemove",t),s.on("mouseup",n)}o.data.preventDefault()},e)}function c(e){function t(t){var n="rtl"==h.lang.dir,d=c.width,f=c.height,p=d+(t.data.$.screenX-r)*(n?-1:1)*(e._.moved?1:2),m=f+(t.data.$.screenY-i)*(e._.moved?1:2),g=e._.element.getFirst(),g=n&&g.getComputedStyle("right"),v=e.getPosition();v.y+m>u.height&&(m=u.height-v.y),(n?g:v.x)+p>u.width&&(p=u.width-(n?g:v.x)),(s==CKEDITOR.DIALOG_RESIZE_WIDTH||s==CKEDITOR.DIALOG_RESIZE_BOTH)&&(d=Math.max(o.minWidth||0,p-a)),(s==CKEDITOR.DIALOG_RESIZE_HEIGHT||s==CKEDITOR.DIALOG_RESIZE_BOTH)&&(f=Math.max(o.minHeight||0,m-l)),e.resize(d,f),e._.moved||e.layout(),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",t),d&&(d.remove(),d=null),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mouseup",n),e.removeListener("mousemove",t)}}var r,i,o=e.definition,s=o.resizable;if(s!=CKEDITOR.DIALOG_RESIZE_NONE){var a,l,u,c,d,h=e.getParentEditor(),f=CKEDITOR.tools.addFunction(function(o){c=e.getSize();var s=e.parts.contents;s.$.getElementsByTagName("iframe").length&&(d=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),s.append(d)),l=c.height-e.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),a=c.width-e.parts.contents.getSize("width",1),r=o.screenX,i=o.screenY,u=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&(s=T.getChild(0).getFrameDocument(),s.on("mousemove",t),s.on("mouseup",n)),o.preventDefault&&o.preventDefault()});e.on("load",function(){var t="";s==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":s==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+h.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(h.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+f+', event )">'+("ltr"==h.lang.dir?"◢":"◣")+"</div>"),e.parts.footer.append(t,1)}),h.on("destroy",function(){CKEDITOR.tools.removeFunction(f)})}}function d(e){e.data.preventDefault(1)}function h(e){var t=CKEDITOR.document.getWindow(),n=e.config,r=n.dialog_backgroundCoverColor||"white",i=n.dialog_backgroundCoverOpacity,o=n.baseFloatZIndex,n=CKEDITOR.tools.genKey(r,i,o),s=C[n];s?s.show():(o=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",o,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+r,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(r="<html><body style=\\'background-color:"+r+";\\'></body></html>",o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),o.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+r+"' );document.close();")+"})())"),o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),o.push("</div>"),s=CKEDITOR.dom.element.createFromHtml(o.join("")),s.setOpacity(void 0!==i?i:.5),s.on("keydown",d),s.on("keypress",d),s.on("keyup",d),s.appendTo(CKEDITOR.document.getBody()),C[n]=s),e.focusManager.add(s),T=s;var e=function(){var e=t.getViewPaneSize();s.setStyles({width:e.width+"px",height:e.height+"px"})},a=function(){var e=t.getScrollPosition(),n=CKEDITOR.dialog._.currentTop;if(s.setStyles({left:e.x+"px",top:e.y+"px"}),n)do e=n.getPosition(),n.move(e.x,e.y);while(n=n._.parentDialog)};if(_=e,t.on("resize",e),e(),(!CKEDITOR.env.mac||!CKEDITOR.env.webkit)&&s.focus(),CKEDITOR.env.ie6Compat){var l=function(){a(),arguments.callee.prevScrollHandler.apply(this,arguments)};t.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),a()}}function f(e){T&&(e.focusManager.remove(T),e=CKEDITOR.document.getWindow(),T.hide(),e.removeListener("resize",_),CKEDITOR.env.ie6Compat&&e.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),_=null)}var p=CKEDITOR.tools.cssLength,m='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(n,s){function a(){var e=C._.focusList;e.sort(function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex});for(var t=e.length,n=0;t>n;n++)e[n].focusIndex=n}function l(e){var t=C._.focusList,e=e||0;if(!(t.length<1)){var n=C._.currentFocusIndex;try{t[n].getInputElement().$.blur()}catch(r){}for(var i=n=(n+e+t.length)%t.length;e&&!t[i].isFocusable()&&(i=(i+e+t.length)%t.length,i!=n););t[i].focus(),"text"==t[i].type&&t[i].select()}}function d(r){if(C==CKEDITOR.dialog._.currentTop){var i=r.data.getKeystroke(),o="rtl"==n.lang.dir;if(f=p=0,9==i||i==CKEDITOR.SHIFT+9)i=i==CKEDITOR.SHIFT+9,C._.tabBarMode?(i=i?e.call(C):t.call(C),C.selectPage(i),C._.tabs[i][0].focus()):l(i?-1:1),f=1;else if(i==CKEDITOR.ALT+121&&!C._.tabBarMode&&C.getPageCount()>1)C._.tabBarMode=!0,C._.tabs[C._.currentTabId][0].focus(),f=1;else if(37!=i&&39!=i||!C._.tabBarMode)if(13!=i&&32!=i||!C._.tabBarMode)if(13==i)i=r.data.getTarget(),i.is("a","button","select","textarea")||i.is("input")&&"button"==i.$.type||((i=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(i.click,0,i),f=1),p=1;else{if(27!=i)return;(i=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(i.click,0,i):this.fire("cancel",{hide:!0}).hide!==!1&&this.hide(),p=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),f=1;else i=i==(o?39:37)?e.call(C):t.call(C),C.selectPage(i),C._.tabs[i][0].focus(),f=1;h(r)}}function h(e){f?e.data.preventDefault(1):p&&e.data.stopPropagation()}var f,p,m=CKEDITOR.dialog._.dialogDefinitions[s],v=CKEDITOR.tools.clone(g),b=n.config.dialog_buttonsOrder||"OS",y=n.lang.dir,_={};if(("OS"==b&&CKEDITOR.env.mac||"rtl"==b&&"ltr"==y||"ltr"==b&&"rtl"==y)&&v.buttons.reverse(),m=CKEDITOR.tools.extend(m(n),v),m=CKEDITOR.tools.clone(m),m=new E(this,m),v=o(n),this._={editor:n,element:v.element,name:s,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=v.parts,CKEDITOR.tools.setTimeout(function(){n.fire("ariaWidget",this.parts.contents)},0,this),v={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"},v["rtl"==y?"right":"left"]=0,this.parts.dialog.setStyles(v),CKEDITOR.event.call(this),this.definition=m=CKEDITOR.fire("dialogDefinition",{name:s,definition:m},n).definition,!("removeDialogTabs"in n._)&&n.config.removeDialogTabs){for(v=n.config.removeDialogTabs.split(";"),y=0;y<v.length;y++)if(b=v[y].split(":"),2==b.length){var T=b[0];_[T]||(_[T]=[]),_[T].push(b[1])}n._.removeDialogTabs=_}if(n._.removeDialogTabs&&(_=n._.removeDialogTabs[s]))for(y=0;y<_.length;y++)m.removeContents(_[y]);m.onLoad&&this.on("load",m.onLoad),m.onShow&&this.on("show",m.onShow),m.onHide&&this.on("hide",m.onHide),m.onOk&&this.on("ok",function(e){n.fire("saveSnapshot"),setTimeout(function(){n.fire("saveSnapshot")},0),m.onOk.call(this,e)===!1&&(e.data.hide=!1)}),m.onCancel&&this.on("cancel",function(e){m.onCancel.call(this,e)===!1&&(e.data.hide=!1)});var C=this,O=function(e){var t,n=C._.contents,r=!1;for(t in n)for(var i in n[t])if(r=e.call(this,n[t][i]))return};this.on("ok",function(e){O(function(t){if(t.validate){var n=t.validate(this),i="string"==typeof n||n===!1;return i&&(e.data.hide=!1,e.stop()),r.call(t,!i,"string"==typeof n?n:void 0),i}})},this,null,0),this.on("cancel",function(e){O(function(t){return t.isChanged()?(n.config.dialog_noConfirmCancel||confirm(n.lang.common.confirmCancel)||(e.data.hide=!1),!0):void 0})},this,null,0),this.parts.close.on("click",function(e){this.fire("cancel",{hide:!0}).hide!==!1&&this.hide(),e.data.preventDefault()},this),this.changeFocus=l;var I=this._.element;for(n.focusManager.add(I,1),this.on("show",function(){I.on("keydown",d,this),CKEDITOR.env.gecko&&I.on("keypress",h,this)}),this.on("hide",function(){I.removeListener("keydown",d),CKEDITOR.env.gecko&&I.removeListener("keypress",h),O(function(e){i.apply(e)})}),this.on("iframeAdded",function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",d,this,null,0)}),this.on("show",function(){if(a(),n.config.dialog_startupFocusTab&&C._.pageCount>1)C._.tabBarMode=!0,C._.tabs[C._.currentTabId][0].focus();else if(!this._.hasFocus)if(this._.currentFocusIndex=-1,m.onFocus){var e=m.onFocus.call(this);e&&e.focus()}else l(1)},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var e=this.getElement(),t=e.getFirst();t.remove(),t.appendTo(e)},this),u(this),c(this),new CKEDITOR.dom.text(m.title,CKEDITOR.document).appendTo(this.parts.title),y=0;y<m.contents.length;y++)(_=m.contents[y])&&this.addPage(_);for(this.parts.tabs.on("click",function(e){var t=e.data.getTarget();t.hasClass("cke_dialog_tab")&&(t=t.$.id,this.selectPage(t.substring(4,t.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1)),e.data.preventDefault())},this),y=[],_=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:m.buttons},y).getChild(),this.parts.footer.setHtml(y.join("")),y=0;y<_.length;y++)this._.buttons[_[y].id]=_[y]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(){return function(e,t){this._.contentSize&&this._.contentSize.width==e&&this._.contentSize.height==t||(CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor),this.fire("resize",{width:e,height:t},this._.editor),this.parts.contents.setStyles({width:e+"px",height:t+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:e,height:t})}}(),getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,n){var r=this._.element.getFirst(),i="rtl"==this._.editor.lang.dir,o="fixed"==r.getComputedStyle("position");CKEDITOR.env.ie&&r.setStyle("zoom","100%"),o&&this._.position&&this._.position.x==e&&this._.position.y==t||(this._.position={x:e,y:t},o||(o=CKEDITOR.document.getWindow().getScrollPosition(),e+=o.x,t+=o.y),i&&(o=this.getSize(),e=CKEDITOR.document.getWindow().getViewPaneSize().width-o.width-e),t={top:(t>0?t:0)+"px"},t[i?"right":"left"]=(e>0?e:0)+"px",r.setStyles(t),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition;e.getParent()&&e.getParent().equals(CKEDITOR.document.getBody())?e.setStyle("display","block"):e.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight),this.reset(),this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex=CKEDITOR.dialog._.currentZIndex+10),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,h(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),e.on("keydown",I),e.on("keyup",D),this._.hasFocus=!1;for(var n in t.contents)if(t.contents[n]){var e=t.contents[n],r=this._.tabs[e.id],i=e.requiredContent,o=0;if(r){for(var s in this._.contents[e.id]){var l=this._.contents[e.id][s];"hbox"!=l.type&&"vbox"!=l.type&&l.getInputElement()&&(l.requiredContent&&!this._.editor.activeFilter.check(l.requiredContent)?l.disable():(l.enable(),o++))}!o||i&&!this._.editor.activeFilter.check(i)?r[0].addClass("cke_dialog_tab_disabled"):r[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),a(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(e){e.setInitValue&&e.setInitValue()})},100,this)},layout:function(){var e=this.parts.dialog,t=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),r=(n.width-t.width)/2,i=(n.height-t.height)/2;CKEDITOR.env.ie6Compat||(t.height+(i>0?i:0)>n.height||t.width+(r>0?r:0)>n.width?e.setStyle("position","absolute"):e.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:r,this._.moved?this._.position.y:i)},foreach:function(e){for(var t in this._.contents)for(var n in this._.contents[t])e.call(this,this._.contents[t][n]);return this},reset:function(){var e=function(e){e.reset&&e.reset(1)};return function(){return this.foreach(e),this}}(),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var e=this._.element;for(e.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),w(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst();t.setStyle("z-index",parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else f(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex=CKEDITOR.dialog._.currentZIndex-10;else{CKEDITOR.dialog._.currentZIndex=null,e.removeListener("keydown",I),e.removeListener("keyup",D);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(e){e.resetInitValue&&e.resetInitValue()})}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],n=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",r=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),i=this._.contents[e.id]={},o=r.getChild(),s=0;r=o.shift();)!r.notAllowed&&"hbox"!=r.type&&"vbox"!=r.type&&s++,i[r.id]=r,"function"==typeof r.getChild&&o.push.apply(o,r.getChild());s||(e.hidden=!0),t=CKEDITOR.dom.element.createFromHtml(t.join("")),t.setAttribute("role","tabpanel"),r=CKEDITOR.env,i="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',this._.pageCount>0?" cke_last":"cke_first",n,e.hidden?' style="display:none"':"",' id="',i,'"',r.gecko&&!r.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join("")),t.setAttribute("aria-labelledby",i),this._.tabs[e.id]=[n,t],this._.tabIdList.push(e.id),!e.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),t.setAttribute("name",e.id),t.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),e.accessKey&&(R(this,this,"CTRL+"+e.accessKey,k,x),this._.accessKeyMap["CTRL+"+e.accessKey]=e.id)}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&this.fire("selectPage",{page:e,currentPage:this._.currentTabId})!==!1){for(var t in this._.tabs){var r=this._.tabs[t][0],i=this._.tabs[t][1];t!=e&&(r.removeClass("cke_dialog_tab_selected"),i.hide()),i.setAttribute("aria-hidden",t!=e)}var o=this._.tabs[e];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(n(o[1]),o[1].show(),setTimeout(function(){n(o[1],1)},0)):o[1].show(),this._.currentTabId=e,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var n=this._.tabs[t]&&this._.tabs[t][0];n&&1!=this._.pageCount&&n.isVisible()&&(t==this._.currentTabId&&this.selectPage(e.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(e){(e=this._.tabs[e]&&this._.tabs[e][0])&&(e.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var n=this._.contents[e];return n&&n[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,n){return this.getContentElement(e,t).setValue(n)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if("undefined"==typeof t)t=this._.focusList.length,this._.focusList.push(new s(this,e,t));else{this._.focusList.splice(t,0,new s(this,e,t));for(var n=t+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(e,t){this._.dialogDefinitions[e]&&"function"!=typeof t||(this._.dialogDefinitions[e]=t)},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,n){return e=e.config.removeDialogTabs,!(e&&e.match(RegExp("(?:^|;)"+t+":"+n+"(?:$|;)","i")))},okButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(e){e=e.data.dialog,e.fire("ok",{hide:!0}).hide!==!1&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),cancelButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(e){e=e.data.dialog,e.fire("cancel",{hide:!0}).hide!==!1&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var g={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},v=function(e,t,n){for(var r,i=0;r=e[i];i++){if(r.id==t)return r;if(n&&r[n]&&(r=v(r[n],t,n)))return r}return null},b=function(e,t,n,r,i){if(n){for(var o,s=0;o=e[s];s++){if(o.id==n)return e.splice(s,0,t),t;if(r&&o[r]&&(o=b(o[r],t,n,r,!0)))return o}if(i)return null}return e.push(t),t},y=function(e,t,n){for(var r,i=0;r=e[i];i++){if(r.id==t)return e.splice(i,1);if(n&&r[n]&&(r=y(r[n],t,n)))return r}return null},E=function(e,t){this.dialog=e;for(var n,r=t.contents,i=0;n=r[i];i++)r[i]=n&&new l(e,n);CKEDITOR.tools.extend(this,t)};E.prototype={getContents:function(e){return v(this.contents,e)},getButton:function(e){return v(this.buttons,e)},addContents:function(e,t){return b(this.contents,e,t)},addButton:function(e,t){return b(this.buttons,e,t)},removeContents:function(e){y(this.contents,e)},removeButton:function(e){y(this.buttons,e)}},l.prototype={get:function(e){return v(this.elements,e,"children")},add:function(e,t){return b(this.elements,e,t,"children")},remove:function(e){y(this.elements,e,"children")}};var _,T,C={},O={},I=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,r=e.data.$.shiftKey,i=String.fromCharCode(e.data.$.keyCode);(t=O[(t?"CTRL+":"")+(n?"ALT+":"")+(r?"SHIFT+":"")+i])&&t.length&&(t=t[t.length-1],t.keydown&&t.keydown.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())},D=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,r=e.data.$.shiftKey,i=String.fromCharCode(e.data.$.keyCode);(t=O[(t?"CTRL+":"")+(n?"ALT+":"")+(r?"SHIFT+":"")+i])&&t.length&&(t=t[t.length-1],t.keyup&&(t.keyup.call(t.uiElement,t.dialog,t.key),e.data.preventDefault()))},R=function(e,t,n,r,i){(O[n]||(O[n]=[])).push({uiElement:e,dialog:t,key:n,keyup:i||e.accessKeyUp,keydown:r||e.accessKeyDown})},w=function(e){for(var t in O){for(var n=O[t],r=n.length-1;r>=0;r--)(n[r].dialog==e||n[r].uiElement==e)&&n.splice(r,1);0===n.length&&delete O[t]}},x=function(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])},k=function(){};!function(){CKEDITOR.ui.dialog={uiElement:function(e,t,n,r,i,o,s){if(!(arguments.length<4)){var a=(r.call?r(t):r)||"div",l=["<",a," "],u=(i&&i.call?i(t):i)||{},c=(o&&o.call?o(t):o)||{},d=(s&&s.call?s.call(this,e,t):s)||"",h=this.domId=c.id||CKEDITOR.tools.getNextId()+"_uiElement";t.requiredContent&&!e.getParentEditor().filter.check(t.requiredContent)&&(u.display="none",this.notAllowed=!0),c.id=h;var f={};t.type&&(f["cke_dialog_ui_"+t.type]=1),t.className&&(f[t.className]=1),t.disabled&&(f.cke_disabled=1);for(var p=c["class"]&&c["class"].split?c["class"].split(" "):[],h=0;h<p.length;h++)p[h]&&(f[p[h]]=1);p=[];for(h in f)p.push(h);c["class"]=p.join(" "),t.title&&(c.title=t.title),f=(t.style||"").split(";"),t.align&&(p=t.align,u["margin-left"]="left"==p?0:"auto",u["margin-right"]="right"==p?0:"auto");for(h in u)f.push(h+":"+u[h]);for(t.hidden&&f.push("display:none"),h=f.length-1;h>=0;h--)""===f[h]&&f.splice(h,1);f.length>0&&(c.style=(c.style?c.style+"; ":"")+f.join("; "));for(h in c)l.push(h+'="'+CKEDITOR.tools.htmlEncode(c[h])+'" ');l.push(">",d,"</",a,">"),n.push(l.join("")),(this._||(this._={})).dialog=e,"boolean"==typeof t.isChanged&&(this.isChanged=function(){return t.isChanged}),"function"==typeof t.isChanged&&(this.isChanged=t.isChanged),"function"==typeof t.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(n){e.call(this,t.setValue.call(this,n))}})),"function"==typeof t.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(e){return function(){return t.getValue.call(this,e.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(t),this.accessKeyUp&&this.accessKeyDown&&t.accessKey&&R(this,e,"CTRL+"+t.accessKey);var m=this;e.on("load",function(){var t=m.getInputElement();if(t){var n=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";t.on("focus",function(){e._.tabBarMode=!1,e._.hasFocus=!0,m.fire("focus"),n&&this.addClass(n)}),t.on("blur",function(){m.fire("blur"),n&&this.removeClass(n)})}}),CKEDITOR.tools.extend(this,t),this.keyboardFocusable&&(this.tabIndex=t.tabIndex||0,this.focusIndex=e._.focusList.push(this)-1,this.on("focus",function(){e._.currentFocusIndex=m.focusIndex}))}},hbox:function(e,t,n,r,i){if(!(arguments.length<4)){this._||(this._={});var o,s=this._.children=t,a=i&&i.widths||null,l=i&&i.height||null,u={role:"presentation"};i&&i.align&&(u.align=i.align),CKEDITOR.ui.dialog.uiElement.call(this,e,i||{type:"hbox"
},r,"table",{},u,function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(o=0;o<n.length;o++){var t="cke_dialog_ui_hbox_child",r=[];0===o&&(t="cke_dialog_ui_hbox_first"),o==n.length-1&&(t="cke_dialog_ui_hbox_last"),e.push('<td class="',t,'" role="presentation" '),a?a[o]&&r.push("width:"+p(a[o])):r.push("width:"+Math.floor(100/n.length)+"%"),l&&r.push("height:"+p(l)),i&&void 0!==i.padding&&r.push("padding:"+p(i.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&s[o].align&&r.push("text-align:"+s[o].align),r.length>0&&e.push('style="'+r.join("; ")+'" '),e.push(">",n[o],"</td>")}return e.push("</tr></tbody>"),e.join("")})}},vbox:function(e,t,n,r,i){if(!(arguments.length<3)){this._||(this._={});var o=this._.children=t,s=i&&i.width||null,a=i&&i.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,e,i||{type:"vbox"},r,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),i&&i.expand&&t.push("height:100%;"),t.push("width:"+p(s||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(i&&i.align||("ltr"==e.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var r=0;r<n.length;r++){var l=[];t.push('<tr><td role="presentation" '),s&&l.push("width:"+p(s||"100%")),a?l.push("height:"+p(a[r])):i&&i.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),i&&void 0!==i.padding&&l.push("padding:"+p(i.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o[r].align&&l.push("text-align:"+o[r].align),l.length>0&&t.push('style="',l.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',n[r],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}}}(),CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){return this.getInputElement().setValue(e),!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&-1==e.$.className.search("cke_dialog_page_contents"););return e?(e=e.getAttribute("name"),this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(e){var t,n,r=/^on([A-Z]\w+)/,i=function(e,t,n,r){t.on("load",function(){e.getInputElement().on(n,r,e)})};for(n in e)(t=n.match(r))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):i(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true"),e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled"),e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){return arguments.length<1?this._.children.concat():(e.splice||(e=[e]),e.length<2?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var e={build:function(e,t,n){for(var r,i=t.children,o=[],s=[],a=0;a<i.length&&(r=i[a]);a++){var l=[];o.push(l),s.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e,r,l))}return new CKEDITOR.ui.dialog[t.type](e,s,o,n,t)}};CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e)}(),CKEDITOR.dialogCommand=function(e,t){this.dialogName=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.dialogCommand.prototype={exec:function(e){e.openDialog(this.dialogName)},canUndo:!1,editorFocus:1},function(){var e=/^([a]|[^a])+$/,t=/^\d*$/,n=/^\d*(?:\.\d+)?$/,r=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,i=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,o=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var e=arguments;return function(){var t,n,r=this&&this.getValue?this.getValue():e[0],i=CKEDITOR.VALIDATE_AND,o=[];for(n=0;n<e.length&&"function"==typeof e[n];n++)o.push(e[n]);n<e.length&&"string"==typeof e[n]&&(t=e[n],n++),n<e.length&&"number"==typeof e[n]&&(i=e[n]);var s=i==CKEDITOR.VALIDATE_AND?!0:!1;for(n=0;n<o.length;n++)s=i==CKEDITOR.VALIDATE_AND?s&&o[n](r):s||o[n](r);return s?!0:t}},regex:function(e,t){return function(n){return n=this&&this.getValue?this.getValue():n,e.test(n)?!0:t}},notEmpty:function(t){return this.regex(e,t)},integer:function(e){return this.regex(t,e)},number:function(e){return this.regex(n,e)},cssLength:function(e){return this.functions(function(e){return i.test(CKEDITOR.tools.trim(e))},e)},htmlLength:function(e){return this.functions(function(e){return r.test(CKEDITOR.tools.trim(e))},e)},inlineStyle:function(e){return this.functions(function(e){return o.test(CKEDITOR.tools.trim(e))},e)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var n in C)C[n].remove();C={}}var r,e=e.editor._.storedDialogs;for(r in e)e[r].destroy()})}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t){var n=null,r=CKEDITOR.dialog._.dialogDefinitions[e];if(null===CKEDITOR.dialog._.currentTop&&h(this),"function"==typeof r)n=this._.storedDialogs||(this._.storedDialogs={}),n=n[e]||(n[e]=new CKEDITOR.dialog(this,e)),t&&t.call(n,n),n.show();else{if("failed"==r)throw f(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.');"string"==typeof r&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[e]&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed"),this.openDialog(e,t)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var t=this;e.addCommand("a11yHelp",{exec:function(){var n=e.langCode,n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){e.lang.a11yhelp=t.langEntries[n],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}})}(),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(e){var t=e.addCommand("about",new CKEDITOR.dialogCommand("about"));t.modes={wysiwyg:1,source:1},t.canUndo=!1,t.readOnly=1,e.ui.addButton&&e.ui.addButton("About",{label:e.lang.about.title,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(e){var t=0,n=function(n,i,o,s){if(s){var s=new CKEDITOR.style(s),a=r[o];a.unshift(s),e.attachStyleStateChange(s,function(t){!e.readOnly&&e.getCommand(o).setState(t)}),e.addCommand(o,new CKEDITOR.styleCommand(s,{contentForms:a})),e.ui.addButton&&e.ui.addButton(n,{label:i,command:o,toolbar:"basicstyles,"+(t+=10)})}},r={bold:["strong","b",["span",function(e){return e=e.styles["font-weight"],"bold"==e||+e>=700}]],italic:["em","i",["span",function(e){return"italic"==e.styles["font-style"]}]],underline:["u",["span",function(e){return"underline"==e.styles["text-decoration"]}]],strike:["s","strike",["span",function(e){return"line-through"==e.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},i=e.config,o=e.lang.basicstyles;n("Bold",o.bold,"bold",i.coreStyles_bold),n("Italic",o.italic,"italic",i.coreStyles_italic),n("Underline",o.underline,"underline",i.coreStyles_underline),n("Strike",o.strike,"strike",i.coreStyles_strike),n("Subscript",o.subscript,"subscript",i.coreStyles_subscript),n("Superscript",o.superscript,"superscript",i.coreStyles_superscript),e.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){var e={exec:function(e){var t=e.getCommand("blockquote").state,n=e.getSelection(),r=n&&n.getRanges()[0];if(r){var i=n.createBookmarks();if(CKEDITOR.env.ie){var o,s=i[0].startNode,a=i[0].endNode;if(s&&"blockquote"==s.getParent().getName())for(o=s;o=o.getNext();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){s.move(o,!0);break}if(a&&"blockquote"==a.getParent().getName())for(o=a;o=o.getPrevious();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){a.move(o);break}}var l=r.createIterator();if(l.enlargeBr=e.config.enterMode!=CKEDITOR.ENTER_BR,t==CKEDITOR.TRISTATE_OFF){for(s=[];t=l.getNextParagraph();)s.push(t);for(s.length<1&&(t=e.document.createElement(e.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),a=i.shift(),r.insertNode(t),t.append(new CKEDITOR.dom.text("",e.document)),r.moveToBookmark(a),r.selectNodeContents(t),r.collapse(!0),a=r.createBookmark(),s.push(t),i.unshift(a)),o=s[0].getParent(),r=[],a=0;a<s.length;a++)t=s[a],o=o.getCommonAncestor(t.getParent());for(t={table:1,tbody:1,tr:1,ol:1,ul:1};t[o.getName()];)o=o.getParent();for(a=null;s.length>0;){for(t=s.shift();!t.getParent().equals(o);)t=t.getParent();t.equals(a)||r.push(t),a=t}for(;r.length>0;)if(t=r.shift(),"blockquote"==t.getName()){for(a=new CKEDITOR.dom.documentFragment(e.document);t.getFirst();)a.append(t.getFirst().remove()),s.push(a.getLast());a.replace(t)}else s.push(t);for(r=e.document.createElement("blockquote"),r.insertBefore(s[0]);s.length>0;)t=s.shift(),r.append(t)}else if(t==CKEDITOR.TRISTATE_ON){for(a=[],o={};t=l.getNextParagraph();){for(s=r=null;t.getParent();){if("blockquote"==t.getParent().getName()){r=t.getParent(),s=t;break}t=t.getParent()}r&&s&&!s.getCustomData("blockquote_moveout")&&(a.push(s),CKEDITOR.dom.element.setMarker(o,s,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(o),t=[],s=[],o={};a.length>0;)l=a.shift(),r=l.getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),s.push(l.getNext())):l.remove().insertAfter(r):l.remove().insertBefore(r),r.getCustomData("blockquote_processed")||(s.push(r),CKEDITOR.dom.element.setMarker(o,r,"blockquote_processed",!0)),t.push(l);for(CKEDITOR.dom.element.clearAllMarkers(o),a=s.length-1;a>=0;a--){r=s[a];e:{o=r;for(var l=0,u=o.getChildCount(),c=void 0;u>l&&(c=o.getChild(l));l++)if(c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()){o=!1;break e}o=!0}o&&r.remove()}if(e.config.enterMode==CKEDITOR.ENTER_BR)for(r=!0;t.length;)if(l=t.shift(),"div"==l.getName()){for(a=new CKEDITOR.dom.documentFragment(e.document),r&&l.getPrevious()&&!(l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary())&&a.append(e.document.createElement("br")),r=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(a);r&&a.append(e.document.createElement("br")),a.replace(l),r=!1}}n.selectBookmarks(i),e.focus()}},refresh:function(e,t){this.setState(e.elementPath(t.block||t.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",e),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function e(e){function t(){var t=e.editable();t.on(b,function(e){(!CKEDITOR.env.ie||!m)&&h(e)}),CKEDITOR.env.ie&&t.on("paste",function(t){g||(i(),t.data.preventDefault(),h(t),s("paste")||e.openDialog("paste"))}),CKEDITOR.env.ie&&(t.on("contextmenu",o,null,null,0),t.on("beforepaste",function(e){e.data&&!e.data.$.ctrlKey&&!e.data.$.shiftKey&&o()},null,null,0)),t.on("beforecut",function(){!m&&l(e)});var n;t.attachListener(CKEDITOR.env.ie?t:e.document.getDocumentElement(),"mouseup",function(){n=setTimeout(function(){f()},0)}),e.on("destroy",function(){clearTimeout(n)}),t.on("keyup",f)}function n(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,exec:function(){"cut"==this.type&&l();var t,n=this.type;if(CKEDITOR.env.ie)t=s(n);else try{t=e.document.$.execCommand(n,!1,null)}catch(r){t=!1}return t||alert(e.lang.clipboard[this.type+"Error"]),t}}}function r(){return{canUndo:!1,async:!0,exec:function(e,t){var n=function(t,n){t&&a(t.type,t.dataValue,!!n),e.fire("afterCommandExec",{name:"paste",command:r,returnValue:!!t})},r=this;"string"==typeof t?n({type:"auto",dataValue:t},1):e.getClipboardData(n)}}}function i(){g=1,setTimeout(function(){g=0},100)}function o(){m=1,setTimeout(function(){m=0},10)}function s(t){var n=e.document,r=n.getBody(),i=!1,o=function(){i=!0};return r.on(t,o),(CKEDITOR.env.version>7?n.$:n.$.selection.createRange()).execCommand(t),r.removeListener(t,o),i}function a(t,n,r){return t={type:t},r&&e.fire("beforePaste",t)===!1||!n?!1:(t.dataValue=n,e.fire("paste",t))}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,n,r,i=e.getSelection();i.getType()==CKEDITOR.SELECTION_ELEMENT&&(t=i.getSelectedElement())&&(n=i.getRanges()[0],r=e.document.createText(""),r.insertBefore(t),n.setStartBefore(r),n.setEndAfter(t),i.selectRanges([n]),setTimeout(function(){t.getParent()&&(r.remove(),i.selectElement(t))},0))}}function u(t,n){var r,i=e.document,o=e.editable(),s=function(e){e.cancel()};if(!i.getById("cke_pastebin")){var a=e.getSelection(),l=a.createBookmarks();CKEDITOR.env.ie&&a.root.fire("selectionchange");var u=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",i);u.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0,i=i.getWindow();CKEDITOR.env.webkit?(o.append(u),u.addClass("cke_editable"),o.is("body")||(c="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent),c=c.getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(u),u.setStyles({position:"absolute",top:i.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,i.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&u.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=u.getParent().isReadOnly())?(u.setOpacity(0),u.setAttribute("contenteditable",!0)):u.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-1000px"),e.on("selectionChange",s,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(r=o.once("blur",s,null,null,-100)),c&&u.focus(),c=new CKEDITOR.dom.range(u),c.selectNodeContents(u);var d=c.select();CKEDITOR.env.ie&&(r=o.once("blur",function(){e.lockSelection(d)}));var h=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=h),r&&r.removeListener(),CKEDITOR.env.ie&&o.focus(),a.selectBookmarks(l),u.remove();var t;CKEDITOR.env.webkit&&(t=u.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(u=t),e.removeListener("selectionChange",s),n(u.getHtml())},0)}}function c(){if(CKEDITOR.env.ie){e.focus(),i();var t=e.focusManager;if(t.lock(),e.editable().fire(b)&&!s("paste"))return t.unlock(),!1;t.unlock()}else try{if(e.editable().fire(b)&&!e.document.$.execCommand("Paste",!1,null))throw 0}catch(n){return!1}return!0}function d(t){if("wysiwyg"==e.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=e.editable(),i(),!CKEDITOR.env.ie&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:e.fire("saveSnapshot"),setTimeout(function(){e.fire("saveSnapshot")},50)}}function h(t){var n={type:"auto"},r=e.fire("beforePaste",n);u(t,function(e){e=e.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),r&&a(n.type,e,0,1)})}function f(){if("wysiwyg"==e.mode){var t=p("paste");e.getCommand("cut").setState(p("cut")),e.getCommand("copy").setState(p("copy")),e.getCommand("paste").setState(t),e.fire("pasteState",t)}}function p(t){if(v&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==t)return CKEDITOR.TRISTATE_OFF;var t=e.getSelection(),n=t.getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var m=0,g=0,v=0,b=CKEDITOR.env.ie?"beforepaste":"paste";!function(){e.on("key",d),e.on("contentDom",t),e.on("selectionChange",function(e){v=e.data.selection.getRanges()[0].checkReadOnly(),f()}),e.contextMenu&&e.contextMenu.addListener(function(e,t){return v=t.getRanges()[0].checkReadOnly(),{cut:p("cut"),copy:p("copy"),paste:p("paste")}})}(),function(){function t(t,n,r,i,o){var s=e.lang.clipboard[n];e.addCommand(n,r),e.ui.addButton&&e.ui.addButton(t,{label:s,command:n,toolbar:"clipboard,"+i}),e.addMenuItems&&e.addMenuItem(n,{label:s,command:n,group:"clipboard",order:o})}t("Cut","cut",n("cut"),10,1),t("Copy","copy",n("copy"),20,4),t("Paste","paste",r(),30,8)}(),e.getClipboardData=function(t,n){function r(e){e.removeListener(),e.cancel(),n(e.data)}function i(e){e.removeListener(),e.cancel(),l=!0,n({type:a,dataValue:e.data})}function o(){this.customTitle=t&&t.title}var s=!1,a="auto",l=!1;n||(n=t,t=null),e.on("paste",r,null,null,0),e.on("beforePaste",function(e){e.removeListener(),s=!0,a=e.data.type},null,null,1e3),c()===!1&&(e.removeListener("paste",r),s&&e.fire("pasteDialog",o)?(e.on("pasteDialogCommit",i),e.on("dialogHide",function(e){e.removeListener(),e.data.removeListener("pasteDialogCommit",i),setTimeout(function(){l||n(null)},10)})):n(null))}}function t(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function n(e,t){function n(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(e%2==1?"<br>":"")}return t=t.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>"),t=t.replace(/<\/?[A-Z]+>/g,function(e){return e.toLowerCase()}),t.match(/^[^<]$/)?t:(CKEDITOR.env.webkit&&t.indexOf("<div>")>-1&&(t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>"),t.match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,function(e){return n(e.split("</div><div>").length+1)})+"</p>"),t=t.replace(/<\/div><div>/g,"<br>"),t=t.replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>")),t.indexOf("<br><br>")>-1&&(t="<p>"+t.replace(/(<br>){2,}/g,function(e){return n(e.length/4)})+"</p>")),o(e,t))}function r(){var e=new CKEDITOR.htmlParser.filter,t={blockquote:1,dl:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ol:1,p:1,table:1,ul:1},n=CKEDITOR.tools.extend({br:0},CKEDITOR.dtd.$inline),r={p:1,br:1,"cke:br":1},i=CKEDITOR.dtd,o=CKEDITOR.tools.extend({area:1,basefont:1,embed:1,iframe:1,map:1,object:1,param:1},CKEDITOR.dtd.$nonBodyContent,CKEDITOR.dtd.$cdata),s=function(e){delete e.name,e.add(new CKEDITOR.htmlParser.text(" "))},a=function(e){for(var t,n=e;(n=n.next)&&n.name&&n.name.match(/^h\d$/);)for(t=new CKEDITOR.htmlParser.element("cke:br"),t.isEmpty=!0,e.add(t);t=n.children.shift();)e.add(t)};return e.addRules({elements:{h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,img:function(e){var e=CKEDITOR.tools.trim(e.attributes.alt||""),t=" ";return e&&!e.match(/(^http|\.(jpe?g|gif|png))/i)&&(t=" ["+e+"] "),new CKEDITOR.htmlParser.text(t)},td:s,th:s,$:function(e){var s,a=e.name;if(o[a])return!1;if(e.attributes={},"br"==a)return e;if(t[a])e.name="p";else if(n[a])delete e.name;else if(i[a]){if(s=new CKEDITOR.htmlParser.element("cke:br"),s.isEmpty=!0,CKEDITOR.dtd.$empty[a])return s;e.add(s,0),s=s.clone(),s.isEmpty=!0,e.add(s),delete e.name}return r[e.name]||delete e.name,e}}},{applyToAll:!0}),e}function i(e,t,n){var t=new CKEDITOR.htmlParser.fragment.fromHtml(t),r=new CKEDITOR.htmlParser.basicWriter;t.writeHtml(r,n);var t=r.getHtml(),t=t.replace(/\s*(<\/?[a-z:]+ ?\/?>)\s*/g,"$1").replace(/(<cke:br \/>){2,}/g,"<cke:br />").replace(/(<cke:br \/>)(<\/?p>|<br \/>)/g,"$2").replace(/(<\/?p>|<br \/>)(<cke:br \/>)/g,"$1").replace(/<(cke:)?br( \/)?>/g,"<br>").replace(/<p><\/p>/g,""),i=0,t=t.replace(/<\/?p>/g,function(e){if("<p>"==e){if(++i>1)return"</p><p>"}else if(--i>0)return"</p><p>";return e}).replace(/<p><\/p>/g,"");return o(e,t)}function o(e,t){return e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)}).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>")),t}CKEDITOR.plugins.add("clipboard",{requires:"dialog",init:function(o){var s;e(o),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),o.on("paste",function(e){var t=e.data.dataValue,n=CKEDITOR.dtd.$block;if(t.indexOf("Apple-")>-1&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=e.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),t.indexOf('<br class="Apple-interchange-newline">')>-1&&(e.data.startsWithEOL=1,e.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var r,i,o=new CKEDITOR.dom.element("div");for(o.setHtml(t);1==o.getChildCount()&&(r=o.getFirst())&&r.type==CKEDITOR.NODE_ELEMENT&&(r.hasClass("cke_editable")||r.hasClass("cke_contents"));)o=i=r;i&&(t=i.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,r){return r.toLowerCase()in n?(e.data.preSniffing="html","<"+r):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,r){return r in n?(e.data.endsWithEOL=1,"</"+r+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),e.data.dataValue=t},null,null,3),o.on("paste",function(e){var a,e=e.data,l=e.type,u=e.dataValue,c=o.config.clipboard_defaultContentType||"html";a="html"==l||"html"==e.preSniffing?"html":t(u),"htmlifiedtext"==a?u=n(o.config,u):"text"==l&&"html"==a&&(u=i(o.config,u,s||(s=r(o)))),e.startsWithEOL&&(u='<br data-cke-eol="1">'+u),e.endsWithEOL&&(u+='<br data-cke-eol="1">'),"auto"==l&&(l="html"==a||"html"==c?"html":"text"),e.type=l,e.dataValue=u,delete e.preSniffing,delete e.startsWithEOL,delete e.endsWithEOL},null,null,6),o.on("paste",function(e){e=e.data,o.insertHtml(e.dataValue,e.type),setTimeout(function(){o.fire("afterPaste")},0)},null,null,1e3),o.on("pasteDialog",function(e){setTimeout(function(){o.openDialog("paste",e.data)},0)})}})}(),function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=e,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var e=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),t=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),n=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(r,i){this.getHolderElement=function(){var e=this._.holder;if(!e){if(this.isFramed){var e=this.document.getById(this.id+"_frame"),t=e.getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(n.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},o))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(e){var t=e.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&this._.onKeyDown(t)===!1?e.data.preventDefault():(27==t||t==("rtl"==n?39:37))&&this.onEscape&&this.onEscape(t)===!1&&e.data.preventDefault()},this),e=e.getBody(),e.unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e};var o={editorId:r.id,id:this.id,langCode:r.langCode,dir:r.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":r.config.baseFloatZIndex+1};if(this.isFramed){var s=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";o.frame=t.output({id:this.id+"_frame",src:s})}return s=e.output(o),i&&i.push(s),s},addBlock:function(e,t){return t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t),this._.currentBlock||this.showBlock(e),t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){var e=this._.blocks[e],t=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return t&&t.hide(),this._.currentBlock=e,CKEDITOR.fire("ariaWidget",n),e._.focusIndex=-1,this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e),e.show(),e},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),t&&CKEDITOR.tools.extend(this,t),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(e){-1!=e&&(e=this.element.getElementsByTag("a").getItem(this._.focusIndex=e),CKEDITOR.env.webkit&&e.getDocument().getWindow().focus(),e.focus(),this.onMark&&this.onMark(e))}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){(!this.onHide||this.onHide.call(this)!==!0)&&this.element.setStyle("display","none")},onKeyDown:function(e,t){var n=this.keys[e];switch(n){case"next":for(var r,i=this._.focusIndex,n=this.element.getElementsByTag("a");r=n.getItem(++i);)if(r.getAttribute("_cke_focus")&&r.$.offsetWidth){this._.focusIndex=i,r.focus();break}return r||t?!1:(this._.focusIndex=-1,this.onKeyDown(e,1));case"prev":for(i=this._.focusIndex,n=this.element.getElementsByTag("a");i>0&&(r=n.getItem(--i));){if(r.getAttribute("_cke_focus")&&r.$.offsetWidth){this._.focusIndex=i,r.focus();break}r=null}return r||t?!1:(this._.focusIndex=n.count(),this.onKeyDown(e,1));case"click":case"mouseup":return i=this._.focusIndex,(r=i>=0&&this.element.getElementsByTag("a").getItem(i))&&(r.$[n]?r.$[n]():r.$["on"+n]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function e(e,n,r,i,o){var o=CKEDITOR.tools.genKey(n.getUniqueId(),r.getUniqueId(),e.lang.dir,e.uiColor||"",i.css||"",o||""),s=t[o];return s||(s=t[o]=new CKEDITOR.ui.panel(n,i),s.element=r.append(CKEDITOR.dom.element.createFromHtml(s.render(e),n)),s.element.setStyles({display:"none",position:"absolute"})),s}var t={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,n,r,i){function o(){u.hide()}r.forceIFrame=1,r.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(n=CKEDITOR.document.getById("cke_"+t.name));var s=n.getDocument(),i=e(t,s,n,r,i||0),a=i.element,l=a.getFirst(),u=this;a.disableContextMenu(),this.element=a,this._={editor:t,panel:i,parentElement:n,definition:r,document:s,iframe:l,children:[],dir:t.lang.dir},t.on("mode",o),t.on("resize",o),CKEDITOR.env.iOS||s.getWindow().on("resize",o)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,n,r,i,o){var s=this._.panel,a=s.showBlock(e);this.allowBlur(!1),e=this._.editor.editable(),this._.returnFocus=e.hasFocus?e:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var l=this.element,e=this._.iframe,e=CKEDITOR.env.ie?e:new CKEDITOR.dom.window(e.$.contentWindow),u=l.getDocument(),c=this._.parentElement.getPositionedAncestor(),d=t.getDocumentPosition(u),u=c?c.getDocumentPosition(u):{x:0,y:0},h="rtl"==this._.dir,f=d.x+(r||0)-u.x,p=d.y+(i||0)-u.y;!h||1!=n&&4!=n?h||2!=n&&3!=n||(f+=t.$.offsetWidth-1):f+=t.$.offsetWidth,(3==n||4==n)&&(p+=t.$.offsetHeight-1),this._.panel._.offsetParentId=t.getId(),l.setStyles({top:p+"px",left:0,display:""}),l.setOpacity(0),l.getFirst().removeStyle("width"),this._.editor.focusManager.add(e),this._.blurSet||(CKEDITOR.event.useCapture=!0,e.on("blur",function(e){function t(){delete this._.returnFocus,this.hide()}this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)):t.call(this))},this),e.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(e.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),e.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),s.onEscape=CKEDITOR.tools.bind(function(e){return this.onEscape&&this.onEscape(e)===!1?!1:void 0},this),CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.tools.bind(function(){if(l.removeStyle("width"),a.autoSize){var e=a.element.getDocument(),e=(CKEDITOR.env.webkit?a.element:e.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e>0&&(e+=(l.$.offsetWidth||0)-(l.$.clientWidth||0)+3),l.setStyle("width",e+10+"px"),e=a.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e>0&&(e+=(l.$.offsetHeight||0)-(l.$.clientHeight||0)+3),l.setStyle("height",e+"px"),s._.currentBlock.element.setStyle("display","none").removeStyle("display");

}else l.removeStyle("height");h&&(f-=l.$.offsetWidth),l.setStyle("left",f+"px");var t=s.element.getWindow(),e=l.$.getBoundingClientRect(),t=t.getViewPaneSize(),n=e.width||e.right-e.left,r=e.height||e.bottom-e.top,i=h?e.right:t.width-e.left,u=h?t.width-e.right:e.left;h?n>i&&(f=u>n?f+n:t.width>n?f-e.left:f-e.right+t.width):n>i&&(f=u>n?f-n:t.width>n?f-e.right+t.width:f-e.left),n=e.top,t.height-e.top<r&&(p=n>r?p-r:t.height>r?p-e.bottom+t.height:p-e.top),CKEDITOR.env.ie&&(t=e=new CKEDITOR.dom.element(l.$.offsetParent),"html"==t.getName()&&(t=t.getDocument().getBody()),"rtl"==t.getComputedStyle("direction")&&(f=CKEDITOR.env.ie8Compat?f-2*l.getDocument().getDocumentElement().$.scrollLeft:f-(e.$.scrollWidth-e.$.clientWidth)));var c,e=l.getFirst();(c=e.getCustomData("activePanel"))&&c.onHide&&c.onHide.call(this,1),e.setCustomData("activePanel",this),l.setStyles({top:p+"px",left:f+"px"}),l.setOpacity(1),o&&o()},this);s.isLoaded?e():s.onLoad=e,CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),a.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=e),this.allowBlur(!0),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){!this.visible||this.onHide&&this.onHide.call(this)===!0||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(e=e&&this._.returnFocus)&&(CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus(),e.focus()),delete this._.lastFocused,this._.editor.fire("panelHide",this))},allowBlur:function(e){var t=this._.panel;return void 0!==e&&(t.allowBlur=e),t.allowBlur},showAsChild:function(e,t,n,r,i,o){(this._.activeChild!=e||e._.panel._.offsetParentId!=n.getId())&&(this.hideChild(),e.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=e,this._.focused=!1,e.showBlock(t,n,r,i,o),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){e.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(e){var t=this._.activeChild;t&&(delete t.onHide,delete this._.activeChild,t.hide(),e&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var e,n=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(e in t){var r=t[e];n?r.destroy():r.element.hide()}n&&(t={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),n=e._.menuGroups={},r=e._.menuItems={},i=0;i<t.length;i++)n[t[i]]=i+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(r[e]=new CKEDITOR.menuItem(this,e,t))},e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return r[e]},e.removeMenuItem=function(e){delete r[e]}}}),function(){function e(e){e.sort(function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0})}var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="{role}" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var t=t+(' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'),n=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'),r=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{},this.id=CKEDITOR.tools.getNextId(),this.editor=e,this.items=[],this._.listeners=[],this._.level=t.level||1;var n=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),r=n.block.attributes=n.attributes||{};!r.role&&(r.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),n=this.editor.elementPath(),r=this._.listeners;this.removeAll();for(var i=0;i<r.length;i++){var o=r[i](t,e,n);if(o)for(var s in o){var a=this.editor.getMenuItem(s);!a||a.command&&!this.editor.getCommand(a.command).state||(a.state=o[s],this.add(a))}}},onClick:function(e){this.hide(),e.onClick?e.onClick():e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;return t?t._.panel.hideChild(1):27==e&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,n=this.items[e];if(n=n.getItems&&n.getItems()){t?t.removeAll():(t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),t.parent=this,t._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var r in n){var i=this.editor.getMenuItem(r);i&&(i.state=n[r],t.add(i))}var o=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+(""+e));setTimeout(function(){t.show(o,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(e){e.order||(e.order=this.items.length),this.items.push(e)},removeAll:function(){this.items=[]},show:function(t,n,r,i){if(this.parent||(this._.onShow(),this.items.length)){var n=n||("rtl"==this.editor.lang.dir?2:1),o=this.items,s=this.editor,a=this._.panel,l=this._.element;if(!a){a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level),a.onEscape=CKEDITOR.tools.bind(function(e){return this._.onEscape(e)===!1?!1:void 0},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),l=a.addBlock(this.id,this._.panelDefinition.block),l.autoSize=!0;var u=l.keys;u[40]="next",u[9]="next",u[38]="prev",u[CKEDITOR.SHIFT+9]="prev",u["rtl"==s.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",u[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(u[13]="mouseup"),l=this._.element=l.element,u=l.getDocument(),u.getBody().setStyle("overflow","hidden"),u.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(e){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,s.config.menu_subMenuDelay||400,this,[e])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(e){var t=this.items[e];t.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):t.getItems?this._.showSubMenu(e):this._.onClick(t)},this)}e(o);for(var u=s.elementPath(),u=['<div class="cke_menu'+(u&&u.direction()!=s.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,d=c&&o[0].group,h=0;c>h;h++){var f=o[h];d!=f.group&&(u.push('<div class="cke_menuseparator" role="separator"></div>'),d=f.group),f.render(this,h,u)}u.push("</div>"),l.setHtml(u.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,t,n,r,i):a.showBlock(this.id,t,n,r,i),s.fire("menuShow",[a])}},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(e)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+t}),this.group=e._.menuGroups[this.group],this.editor=e,this.name=t},proto:{render:function(e,t,i){var o=e.id+(""+t),s="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,a="",l=s==CKEDITOR.TRISTATE_ON?"on":s==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(a=' aria-checked="'+(s==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var u=this.getItems,c="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",d=this.name;this.icon&&!/\./.test(this.icon)&&(d=this.icon),e={id:o,name:this.name,iconName:d,label:this.label,cls:this.className||"",state:l,hasPopup:u?"true":"false",disabled:s==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:t,iconStyle:CKEDITOR.skin.getIconStyle(d,"rtl"==this.editor.lang.dir,d==this.icon?null:this.icon,this.iconOffset),arrowHtml:u?r.output({label:c}):"",role:this.role?this.role:"menuitem",ariaChecked:a},n.output(e,i)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,t){if(e.on("contextmenu",function(e){var e=e.data,r=CKEDITOR.env.webkit?n:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!t||!r){if(e.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){var r=this.editor,i=new CKEDITOR.dom.elementPath(e.getTarget(),r.editable()).contains(function(e){return e.hasAttribute("contenteditable")},!0);i&&"false"==i.getAttribute("contenteditable")&&r.getSelection().fake(i)}var i=e.getTarget().getDocument(),o=e.getTarget().getDocument().getDocumentElement(),r=!i.equals(CKEDITOR.document),i=i.getWindow().getScrollPosition(),s=r?e.$.clientX:e.$.pageX||i.x+e.$.clientX,a=r?e.$.clientY:e.$.pageY||i.y+e.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(o,null,s,a)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var n,r=function(){n=0};e.on("keydown",function(e){n=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey}),e.on("keyup",r),e.on("contextmenu",r)}},open:function(e,t,n,r){this.editor.focus(),e=e||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(e,t,n,r)}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",function(){t.addTarget(e.editable(),e.config.browserContextMenuOnCtrl!==!1)}),e.addCommand("contextMenu",{exec:function(){e.contextMenu.open(e.document.getBody())}}),e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function e(e,r){function o(t){if(t=u.list[t],t.equals(e.editable())||"true"==t.getAttribute("contenteditable")){var n=e.createRange();n.selectNodeContents(t),n.select()}else e.getSelection().selectElement(t);e.focus()}function s(){a&&a.setHtml(n),delete u.list}var a,l=e.ui.spaceId("path"),u=e._.elementsPath,c=u.idBase;r.html=r.html+('<span id="'+l+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+l+'" class="cke_path" role="group" aria-labelledby="'+l+'_label">'+n+"</span>"),e.on("uiReady",function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)}),u.onClick=o;var d=CKEDITOR.tools.addFunction(o),h=CKEDITOR.tools.addFunction(function(t,n){var r,i=u.idBase,n=new CKEDITOR.dom.event(n);switch(r="rtl"==e.lang.dir,n.getKeystroke()){case r?39:37:case 9:return(r=CKEDITOR.document.getById(i+(t+1)))||(r=CKEDITOR.document.getById(i+"0")),r.focus(),!1;case r?37:39:case CKEDITOR.SHIFT+9:return(r=CKEDITOR.document.getById(i+(t-1)))||(r=CKEDITOR.document.getById(i+(u.list.length-1))),r.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return o(t),!1}return!0});e.on("selectionChange",function(){for(var t,r=[],o=u.list=[],s=[],f=u.filters,p=!0,m=e.elementPath().elements,g=m.length;g--;){var v=m[g],b=0;t=v.data("cke-display-name")?v.data("cke-display-name"):v.data("cke-real-element-type")?v.data("cke-real-element-type"):v.getName(),p=v.hasAttribute("contenteditable")?"true"==v.getAttribute("contenteditable"):p,!p&&!v.hasAttribute("contenteditable")&&(b=1);for(var y=0;y<f.length;y++){var E=f[y](v,t);if(E===!1){b=1;break}t=E||t}b||(o.unshift(v),s.unshift(t))}for(o=o.length,f=0;o>f;f++)t=s[f],p=e.lang.elementspath.eleTitle.replace(/%1/,t),t=i.output({id:c+f,label:p,text:t,jsTitle:"javascript:void('"+t+"')",index:f,keyDownFn:h,clickFn:d}),r.unshift(t);a||(a=CKEDITOR.document.getById(l)),s=a,s.setHtml(r.join("")+n),e.fire("elementsPathUpdate",{space:s})}),e.on("readOnly",s),e.on("contentDomUnload",s),e.addCommand("elementsPathFocus",t),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t;t={editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}};var n='<span class="cke_path_empty">&nbsp;</span>',r="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(r+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(r+=' onblur="this.style.cssText = this.style.cssText;"');var i=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+r+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",function(n){"bottom"==n.data.space&&e(t,n.data)})}})}(),function(){function e(e,r){var i,o;r.on("refresh",function(e){var r,i=[t];for(r in e.data.states)i.push(e.data.states[r]);this.setState(CKEDITOR.tools.search(i,n)?n:t)},r,null,100),r.on("exec",function(t){i=e.getSelection(),o=i.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},r,null,0),r.on("exec",function(){e.forceNextSelectionCheck(),i.selectBookmarks(o)},r,null,100)}var t=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(t){var n=CKEDITOR.plugins.indent.genericDefinition;e(t,t.addCommand("indent",new n(!0))),e(t,t.addCommand("outdent",new n)),t.ui.addButton&&(t.ui.addButton("Indent",{label:t.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),t.ui.addButton("Outdent",{label:t.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),t.on("dirChanged",function(e){var n=t.createRange(),r=e.data.node;n.setStartBefore(r),n.setEndAfter(r);for(var i,o=new CKEDITOR.dom.walker(n);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(r)&&i.getDirection())n.setStartAfter(i),o=new CKEDITOR.dom.walker(n);else{var s=t.config.indentClasses;if(s)for(var a="ltr"==e.data.dir?["_rtl",""]:["","_rtl"],l=0;l<s.length;l++)i.hasClass(s[l]+a[0])&&(i.removeClass(s[l]+a[0]),i.addClass(s[l]+a[1]));s=i.getStyle("margin-right"),a=i.getStyle("margin-left"),s?i.setStyle("margin-left",s):i.removeStyle("margin-left"),a?i.setStyle("margin-right",a):i.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e,this.startDisabled=!this.isIndent},specificDefinition:function(e,t,n){this.name=t,this.editor=e,this.jobs={},this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",function(){for(var e in t)(function(e,t){var n,r=e.getCommand(t.relatedGlobal);for(n in t.jobs)r.on("exec",function(r){r.data.done||(e.fire("lockSnapshot"),t.execJob(e,n)&&(r.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(t.database))},this,null,n),r.on("refresh",function(r){r.data.states||(r.data.states={}),r.data.states[t.name+"@"+n]=t.refreshJob(e,n,r.data.path)},this,null,n);e.addFeature(t)})(this,t[e])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,n){var r=this.jobs[n];return r.state!=t?r.exec.call(this,e):void 0},refreshJob:function(e,n,r){return n=this.jobs[n],n.state=e.activeFilter.checkFeature(this)?n.refresh.call(this,e,r):t,n.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function e(e){function r(t){for(var r=i.startContainer,l=i.endContainer;r&&!r.getParent().equals(t);)r=r.getParent();for(;l&&!l.getParent().equals(t);)l=l.getParent();if(!r||!l)return!1;for(var u=r,r=[],c=!1;!c;)u.equals(l)&&(c=!0),r.push(u),u=u.getNext();if(r.length<1)return!1;for(u=t.getParents(!0),l=0;l<u.length;l++)if(u[l].getName&&a[u[l].getName()]){t=u[l];break}for(var u=o.isIndent?1:-1,l=r[0],r=r[r.length-1],c=CKEDITOR.plugins.list.listToArray(t,s),d=c[r.getCustomData("listarray_index")].indent,l=l.getCustomData("listarray_index");l<=r.getCustomData("listarray_index");l++)if(c[l].indent=c[l].indent+u,u>0){var h=c[l].parent;c[l].parent=new CKEDITOR.dom.element(h.getName(),h.getDocument())}for(l=r.getCustomData("listarray_index")+1;l<c.length&&c[l].indent>d;l++)c[l].indent=c[l].indent+u;if(r=CKEDITOR.plugins.list.arrayToList(c,s,null,e.config.enterMode,t.getDirection()),!o.isIndent){var f;if((f=t.getParent())&&f.is("li"))for(var p,u=r.listNode.getChildren(),m=[],l=u.count()-1;l>=0;l--)(p=u.getItem(l))&&p.is&&p.is("li")&&m.push(p)}if(r&&r.listNode.replace(t),m&&m.length)for(l=0;l<m.length;l++){for(p=t=m[l];(p=p.getNext())&&p.is&&p.getName()in a;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(n)&&t.append(i.document.createText(" ")),t.append(p);t.insertAfter(f)}return r&&e.fire("contentDomInvalidated"),!0}for(var i,o=this,s=this.database,a=this.context,l=e.getSelection(),l=(l&&l.getRanges()).createIterator();i=l.getNextRange();){for(var u=i.getCommonAncestor();u&&(u.type!=CKEDITOR.NODE_ELEMENT||!a[u.getName()]);)u=u.getParent();if(u||(u=i.startPath().contains(a))&&i.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),!u){var c=i.getEnclosedNode();c&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in a&&(i.setStartAt(c,CKEDITOR.POSITION_AFTER_START),i.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),u=c)}if(u&&i.startContainer.type==CKEDITOR.NODE_ELEMENT&&i.startContainer.getName()in a&&(c=new CKEDITOR.dom.walker(i),c.evaluator=t,i.startContainer=c.next()),u&&i.endContainer.type==CKEDITOR.NODE_ELEMENT&&i.endContainer.getName()in a&&(c=new CKEDITOR.dom.walker(i),c.evaluator=t,i.endContainer=c.previous()),u)return r(u)}return 0}function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function n(e){return r(e)&&i(e)}var r=CKEDITOR.dom.walker.whitespaces(!0),i=CKEDITOR.dom.walker.bookmark(!1,!0),o=CKEDITOR.TRISTATE_DISABLED,s=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function n(t){r.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],t.on("key",function(e){if("wysiwyg"==t.mode&&e.data.keyCode==this.indentKey){var n=this.getContext(t.elementPath());!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,t.elementPath(),n)||(t.execCommand(this.relatedGlobal),e.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var n=this.getContext(t),r=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n);return n&&this.isIndent&&!r?s:o}:function(e,t){return!this.getContext(t)||this.isIndent?o:s},exec:CKEDITOR.tools.bind(e,this)}}var r=CKEDITOR.plugins.indent;r.registerCommands(t,{indentlist:new n(t,"indentlist",!0),outdentlist:new n(t,"outdentlist")}),CKEDITOR.tools.extend(n.prototype,r.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(e,n,r){var i=n.contains(t);return r||(r=n.contains(e)),r&&i&&i.equals(r.getFirst(t))}}(),function(){function e(e,t,n){function r(n){!(l=c[n?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(u=t.root[n?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||u.is&&u.isBlockBoundary({br:1})||e.document.createElement("br")[n?"insertBefore":"insertAfter"](l)}for(var i=CKEDITOR.plugins.list.listToArray(t.root,n),o=[],s=0;s<t.contents.length;s++){var a=t.contents[s];(a=a.getAscendant("li",!0))&&!a.getCustomData("list_item_processed")&&(o.push(a),CKEDITOR.dom.element.setMarker(n,a,"list_item_processed",!0))}for(a=null,s=0;s<o.length;s++)a=o[s].getCustomData("listarray_index"),i[a].indent=-1;for(s=a+1;s<i.length;s++)if(i[s].indent>i[s-1].indent+1){for(o=i[s-1].indent+1-i[s].indent,a=i[s].indent;i[s]&&i[s].indent>=a;)i[s].indent=i[s].indent+o,s++;s--}var l,u,c=CKEDITOR.plugins.list.arrayToList(i,n,null,e.config.enterMode,t.root.getAttribute("dir")).listNode;r(!0),r(),c.replace(t.root),e.fire("contentDomInvalidated")}function t(e,t){this.name=e,this.context=this.type=t,this.allowedContent=t+" li",this.requiredContent=t}function n(e,t,n,r){for(var i,o;i=e[r?"getLast":"getFirst"](f);)(o=i.getDirection(1))!==t.getDirection(1)&&i.setAttribute("dir",o),i.remove(),n?i[r?"insertBefore":"insertAfter"](n):t.append(i,r)}function r(e){function t(t){var r=e[t?"getPrevious":"getNext"](c);r&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(e.getName())&&(n(e,r,null,!t),e.remove(),e=r)}t(),t(1)}function i(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function o(e,t,i){e.fire("saveSnapshot"),i.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var o=i.extractContents();t.trim(!1,!0);var a=t.createBookmark(),l=new CKEDITOR.dom.elementPath(t.startContainer),u=l.block,l=l.lastElement.getAscendant("li",1)||u,h=new CKEDITOR.dom.elementPath(i.startContainer),f=h.contains(CKEDITOR.dtd.$listItem),h=h.contains(CKEDITOR.dtd.$list);for(u?(u=u.getBogus())&&u.remove():h&&(u=h.getPrevious(c))&&d(u)&&u.remove(),(u=o.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&u.is("br")&&u.remove(),(u=t.startContainer.getChild(t.startOffset))?o.insertBefore(u):t.startContainer.append(o),f&&(o=s(f))&&(l.contains(f)?(n(o,f.getParent(),f),o.remove()):l.append(o));i.checkStartOfBlock()&&i.checkEndOfBlock()&&(h=i.startPath(),o=h.block,o);)o.is("li")&&(l=o.getParent(),o.equals(l.getLast(c))&&o.equals(l.getFirst(c))&&(o=l)),i.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove();i=i.clone(),o=e.editable(),i.setEndAt(o,CKEDITOR.POSITION_BEFORE_END),i=new CKEDITOR.dom.walker(i),i.evaluator=function(e){return c(e)&&!d(e)},(i=i.next())&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in CKEDITOR.dtd.$list&&r(i),t.moveToBookmark(a),t.select(),e.fire("saveSnapshot")}function s(e){return(e=e.getLast(c))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in a?e:null}var a={ol:1,ul:1},l=CKEDITOR.dom.walker.whitespaces(),u=CKEDITOR.dom.walker.bookmark(),c=function(e){return!(l(e)||u(e))},d=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,n,r,i){if(!a[e.getName()])return[];r||(r=0),n||(n=[]);for(var o=0,s=e.getChildCount();s>o;o++){var l=e.getChild(o);if(l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(l,t,n,r+1),"li"==l.$.nodeName.toLowerCase()){var u={parent:e,indent:r,element:l,contents:[]};i?u.grandparent=i:(u.grandparent=e.getParent(),u.grandparent&&"li"==u.grandparent.$.nodeName.toLowerCase()&&(u.grandparent=u.grandparent.getParent())),t&&CKEDITOR.dom.element.setMarker(t,l,"listarray_index",n.length),n.push(u);for(var c,d=0,h=l.getChildCount();h>d;d++)c=l.getChild(d),c.type==CKEDITOR.NODE_ELEMENT&&a[c.getName()]?CKEDITOR.plugins.list.listToArray(c,t,n,r+1,u.grandparent):u.contents.push(c)}}return n},arrayToList:function(e,t,n,r,i){if(n||(n=0),!e||e.length<n+1)return null;for(var o,s,l,d=e[n].parent.getDocument(),h=new CKEDITOR.dom.documentFragment(d),f=null,p=n,m=Math.max(e[n].indent,0),g=null,v=r==CKEDITOR.ENTER_P?"p":"div";;){var b=e[p];if(o=b.grandparent,s=b.element.getDirection(1),b.indent==m){for(f&&e[p].parent.getName()==f.getName()||(f=e[p].parent.clone(!1,1),i&&f.setAttribute("dir",i),h.append(f)),g=f.append(b.element.clone(0,1)),s!=f.getDirection(1)&&g.setAttribute("dir",s),o=0;o<b.contents.length;o++)g.append(b.contents[o].clone(1,1));p++}else if(b.indent==Math.max(m,0)+1)b=e[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(e,null,p,r,b!=s?s:null),!g.getChildCount()&&CKEDITOR.env.needsNbspFiller&&d.$.documentMode<=7&&g.append(d.createText(" ")),g.append(p.listNode),p=p.nextIndex;else{if(-1!=b.indent||n||!o)return null;a[o.getName()]?(g=b.element.clone(!1,!0),s!=o.getDirection(1)&&g.setAttribute("dir",s)):g=new CKEDITOR.dom.documentFragment(d);var y,E,f=o.getDirection(1)!=s,_=b.element,T=_.getAttribute("class"),C=_.getAttribute("style"),O=g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(r!=CKEDITOR.ENTER_BR||f||C||T),I=b.contents.length;for(o=0;I>o;o++)if(y=b.contents[o],u(y)&&I>1)O?E=y.clone(1,1):g.append(y.clone(1,1));else if(y.type==CKEDITOR.NODE_ELEMENT&&y.isBlockBoundary()){f&&!y.getDirection()&&y.setAttribute("dir",s),l=y;var D=_.getAttribute("style");D&&l.setAttribute("style",D.replace(/([^;])$/,"$1;")+(l.getAttribute("style")||"")),T&&y.addClass(T),l=null,E&&(g.append(E),E=null),g.append(y.clone(1,1))}else O?(l||(l=d.createElement(v),g.append(l),f&&l.setAttribute("dir",s)),C&&l.setAttribute("style",C),T&&l.setAttribute("class",T),E&&(l.append(E),E=null),l.append(y.clone(1,1))):g.append(y.clone(1,1));E&&((l||g).append(E),E=null),g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=e.length-1&&(CKEDITOR.env.needsBrFiller&&(s=g.getLast())&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("br")&&s.remove(),s=g.getLast(c),(!s||!(s.type==CKEDITOR.NODE_ELEMENT&&s.is(CKEDITOR.dtd.$block)))&&g.append(d.createElement("br"))),s=g.$.nodeName.toLowerCase(),("div"==s||"p"==s)&&g.appendBogus(),h.append(g),f=null,p++}if(l=null,e.length<=p||Math.max(e[p].indent,0)<m)break}if(t)for(e=h.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(t,e),e.getName()in CKEDITOR.dtd.$listItem&&(n=e,d=i=r=void 0,r=n.getDirection()))){for(i=n.getParent();i&&!(d=i.getDirection());)i=i.getParent();r==d&&n.removeAttribute("dir")}e=e.getNextSourceNode()}return{listNode:h,nextIndex:p}}};var h=/^h[1-6]$/,f=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var n=t.config,i=t.getSelection(),o=i&&i.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var s=t.editable();if(s.getFirst(c)){var l=1==o.length&&o[0];(n=l&&l.getEnclosedNode())&&n.is&&this.type==n.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else n.enterMode==CKEDITOR.ENTER_BR?s.appendBogus():o[0].fixBlock(1,n.enterMode==CKEDITOR.ENTER_P?"p":"div"),i.selectRanges(o)}for(var n=i.createBookmarks(!0),s=[],u={},o=o.createIterator(),d=0;(l=o.getNextRange())&&++d;){var f=l.getBoundaryNodes(),p=f.startNode,m=f.endNode;for(p.type==CKEDITOR.NODE_ELEMENT&&"td"==p.getName()&&l.setStartAt(f.startNode,CKEDITOR.POSITION_AFTER_START),m.type==CKEDITOR.NODE_ELEMENT&&"td"==m.getName()&&l.setEndAt(f.endNode,CKEDITOR.POSITION_BEFORE_END),l=l.createIterator(),l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;f=l.getNextParagraph();)if(!f.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(u,f,"list_block",1);for(var g,v=t.elementPath(f),p=v.elements,m=0,v=v.blockLimit,b=p.length-1;b>=0&&(g=p[b]);b--)if(a[g.getName()]&&v.contains(g)){v.removeCustomData("list_group_object_"+d),(p=g.getCustomData("list_group_object"))?p.contents.push(f):(p={root:g,contents:[f]},s.push(p),CKEDITOR.dom.element.setMarker(u,g,"list_group_object",p)),m=1;break}m||(m=v,m.getCustomData("list_group_object_"+d)?m.getCustomData("list_group_object_"+d).contents.push(f):(p={root:m,contents:[f]},CKEDITOR.dom.element.setMarker(u,m,"list_group_object_"+d,p),s.push(p)))}}for(g=[];s.length>0;)if(p=s.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(a[p.root.getName()]){for(o=t,d=p,p=u,l=g,m=CKEDITOR.plugins.list.listToArray(d.root,p),v=[],f=0;f<d.contents.length;f++)b=d.contents[f],(b=b.getAscendant("li",!0))&&!b.getCustomData("list_item_processed")&&(v.push(b),CKEDITOR.dom.element.setMarker(p,b,"list_item_processed",!0));for(var b=d.root.getDocument(),y=void 0,E=void 0,f=0;f<v.length;f++){var _=v[f].getCustomData("listarray_index"),y=m[_].parent;y.is(this.type)||(E=b.createElement(this.type),y.copyAttributes(E,{start:1,type:1}),E.removeStyle("list-style-type"),m[_].parent=E)}for(p=CKEDITOR.plugins.list.arrayToList(m,p,null,o.config.enterMode),m=void 0,v=p.listNode.getChildCount(),f=0;v>f&&(m=p.listNode.getChild(f));f++)m.getName()==this.type&&l.push(m);p.listNode.replace(d.root),o.fire("contentDomInvalidated")}else{for(m=t,f=p,l=g,v=f.contents,o=f.root.getDocument(),d=[],1==v.length&&v[0].equals(f.root)&&(p=o.createElement("div"),v[0].moveChildren&&v[0].moveChildren(p),v[0].append(p),v[0]=p),f=f.contents[0].getParent(),b=0;b<v.length;b++)f=f.getCommonAncestor(v[b].getParent());for(y=m.config.useComputedState,m=p=void 0,y=void 0===y||y,b=0;b<v.length;b++)for(E=v[b];_=E.getParent();){if(_.equals(f)){d.push(E),!m&&E.getDirection()&&(m=1),E=E.getDirection(y),null!==p&&(p=p&&p!=E?null:E);break}E=_}if(!(d.length<1)){for(v=d[d.length-1].getNext(),b=o.createElement(this.type),l.push(b),y=l=void 0;d.length;)l=d.shift(),y=o.createElement("li"),l.is("pre")||h.test(l.getName())||"false"==l.getAttribute("contenteditable")?l.appendTo(y):(l.copyAttributes(y),p&&l.getDirection()&&(y.removeStyle("direction"),y.removeAttribute("dir")),l.moveChildren(y),l.remove()),y.appendTo(b);p&&m&&b.setAttribute("dir",p),v?b.insertBefore(v):b.appendTo(f)}}else this.state==CKEDITOR.TRISTATE_ON&&a[p.root.getName()]&&e.call(this,t,p,u);for(b=0;b<g.length;b++)r(g[b]);CKEDITOR.dom.element.clearAllMarkers(u),i.selectBookmarks(n),t.focus()},refresh:function(e,t){var n=t.contains(a,1),r=t.blockLimit||t.root;this.setState(n&&r.contains(n)&&n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(e){e.blockless||(e.addCommand("numberedlist",new t("numberedlist","ol")),e.addCommand("bulletedlist",new t("bulletedlist","ul")),e.ui.addButton&&(e.ui.addButton("NumberedList",{label:e.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),e.ui.addButton("BulletedList",{label:e.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),e.on("key",function(t){var n,r=t.data.domEvent.getKey();if("wysiwyg"==e.mode&&r in{8:1,46:1}){var l=e.getSelection().getRanges()[0],u=l&&l.startPath();if(l&&l.collapsed){var h=8==r,f=e.editable(),p=new CKEDITOR.dom.walker(l.clone());if(p.evaluator=function(e){return c(e)&&!d(e)},p.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))},r=l.clone(),h){var m;(m=u.contains(a))&&l.checkBoundaryOfElement(m,CKEDITOR.START)&&(m=m.getParent())&&m.is("li")&&(m=s(m))?(n=m,m=m.getPrevious(c),r.moveToPosition(m&&d(m)?m:n,CKEDITOR.POSITION_BEFORE_START)):(p.range.setStartAt(f,CKEDITOR.POSITION_AFTER_START),p.range.setEnd(l.startContainer,l.startOffset),(m=p.previous())&&m.type==CKEDITOR.NODE_ELEMENT&&(m.getName()in a||m.is("li"))&&(m.is("li")||(p.range.selectNodeContents(m),p.reset(),p.evaluator=i,m=p.previous()),n=m,r.moveToElementEditEnd(n))),n?(o(e,r,l),t.cancel()):(r=u.contains(a))&&l.checkBoundaryOfElement(r,CKEDITOR.START)&&(n=r.getFirst(c),l.checkBoundaryOfElement(n,CKEDITOR.START)&&(m=r.getPrevious(c),
s(n)?m&&(l.moveToElementEditEnd(m),l.select()):e.execCommand("outdent"),t.cancel()))}else(n=u.contains("li"))?(p.range.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),n=(u=n.getLast(c))&&i(u)?u:n,f=0,(m=p.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.getName()in a&&m.equals(u)?(f=1,m=p.next()):l.checkBoundaryOfElement(n,CKEDITOR.END)&&(f=1),f&&m&&(l=l.clone(),l.moveToElementEditStart(m),o(e,r,l),t.cancel())):(p.range.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),(m=p.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(a)&&(m=m.getFirst(c),u.block&&l.checkStartOfBlock()&&l.checkEndOfBlock()?(u.block.remove(),l.moveToElementEditStart(m),l.select()):s(m)?(l.moveToElementEditStart(m),l.select()):(l=l.clone(),l.moveToElementEditStart(m),o(e,r,l)),t.cancel()));setTimeout(function(){e.selectionChange(1)})}}}))}})}(),function(){function e(e,t,n){n=e.config.forceEnterMode||n,"wysiwyg"==e.mode&&(t||(t=e.activeEnterMode),e.elementPath().isContextFor("p")||(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?s(e,t,null,n):a(e,t,null,n),e.fire("saveSnapshot"))}function t(e){for(var e=e.getSelection().getRanges(!0),t=e.length-1;t>0;t--)e[t].deleteContents();return e[0]}function n(e){var t=e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")},!0);return e.root.equals(t)?e:(t=new CKEDITOR.dom.range(t),t.moveToRange(e),t)}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var r=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,o,a,u){if(a=a||t(e)){var c,a=n(a),d=a.document,h=a.checkStartOfBlock(),f=a.checkEndOfBlock(),p=e.elementPath(a.startContainer),m=p.block,g=o==CKEDITOR.ENTER_DIV?"div":"p";if(h&&f){if(m&&(m.is("li")||m.getParent().is("li"))){m.is("li")||(m=m.getParent()),a=m.getParent(),c=a.getParent();var u=!m.hasPrevious(),v=!m.hasNext(),g=e.getSelection(),b=g.createBookmarks(),h=m.getDirection(1),f=m.getAttribute("class"),y=m.getAttribute("style"),E=c.getDirection(1)!=h,e=e.enterMode!=CKEDITOR.ENTER_BR||E||y||f;if(c.is("li"))u||v?m[u?"insertBefore":"insertAfter"](c):m.breakParent(c);else{if(e)p.block.is("li")?(c=d.createElement(o==CKEDITOR.ENTER_P?"p":"div"),E&&c.setAttribute("dir",h),y&&c.setAttribute("style",y),f&&c.setAttribute("class",f),m.moveChildren(c)):c=p.block,u||v?c[u?"insertBefore":"insertAfter"](a):(m.breakParent(a),c.insertAfter(a));else if(m.appendBogus(!0),u||v)for(;d=m[u?"getFirst":"getLast"]();)d[u?"insertBefore":"insertAfter"](a);else for(m.breakParent(a);d=m.getLast();)d.insertAfter(a);m.remove()}return void g.selectBookmarks(b)}if(m&&m.getParent().is("blockquote"))return m.breakParent(m.getParent()),m.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||m.getPrevious().remove(),m.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||m.getNext().remove(),a.moveToElementEditStart(m),void a.select()}else if(m&&m.is("pre")&&!f)return void s(e,o,a,u);if(h=a.splitBlock(g)){if(o=h.previousBlock,m=h.nextBlock,p=h.wasStartOfBlock,e=h.wasEndOfBlock,m?(b=m.getParent(),b.is("li")&&(m.breakParent(b),m.move(m.getNext(),1))):o&&(b=o.getParent())&&b.is("li")&&(o.breakParent(b),b=o.getNext(),a.moveToElementEditStart(b),o.move(o.getPrevious())),p||e){if(o?(o.is("li")||!l.test(o.getName())&&!o.is("pre"))&&(c=o.clone()):m&&(c=m.clone()),c?u&&!c.is("li")&&c.renameNode(g):b&&b.is("li")?c=b:(c=d.createElement(g),o&&(v=o.getDirection())&&c.setAttribute("dir",v)),d=h.elementPath)for(u=0,g=d.elements.length;g>u&&(b=d.elements[u],!b.equals(d.block)&&!b.equals(d.blockLimit));u++)CKEDITOR.dtd.$removeEmpty[b.getName()]&&(b=b.clone(),c.moveChildren(b),c.append(b));c.appendBogus(),c.getParent()||a.insertNode(c),c.is("li")&&c.removeAttribute("value"),!CKEDITOR.env.ie||!p||e&&o.getChildCount()||(a.moveToElementEditStart(e?o:c),a.select()),a.moveToElementEditStart(p&&!e?m:c)}else m.is("li")&&(c=a.clone(),c.selectNodeContents(m),c=new CKEDITOR.dom.walker(c),c.evaluator=function(e){return!(i(e)||r(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},(b=c.next())&&b.type==CKEDITOR.NODE_ELEMENT&&b.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?d.createElement("br"):d.createText(" ")).insertBefore(b)),m&&a.moveToElementEditStart(m);a.select(),a.scrollIntoView()}}},enterBr:function(e,n,r,i){if(r=r||t(e)){var o=r.document,s=r.checkEndOfBlock(),u=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),c=u.block,d=c&&u.block.getName();i||"li"!=d?(!i&&s&&l.test(d)?(s=c.getDirection())?(o=o.createElement("div"),o.setAttribute("dir",s),o.insertAfter(c),r.setStart(o,0)):(o.createElement("br").insertAfter(c),CKEDITOR.env.gecko&&o.createText("").insertAfter(c),r.setStartAt(c.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(e="pre"==d&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?o.createText("\r"):o.createElement("br"),r.deleteContents(),r.insertNode(e),CKEDITOR.env.needsBrFiller?(o.createText("").insertAfter(e),s&&(c||u.blockLimit).appendBogus(),e.getNext().$.nodeValue="",r.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)):r.setStartAt(e,CKEDITOR.POSITION_AFTER_END)),r.collapse(!0),r.select(),r.scrollIntoView()):a(e,n,r,i)}}};var o=CKEDITOR.plugins.enterkey,s=o.enterBr,a=o.enterBlock,l=/^h[1-6]$/}(),function(){function e(e,t){var n={},r=[],i={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(e,o){var s=t?"&"+o+";":i[o];return n[s]=t?i[o]:"&"+o+";",r.push(s),""});if(!t&&e){var o,e=e.split(","),s=document.createElement("div");for(s.innerHTML="&"+e.join(";&")+";",o=s.innerHTML,s=null,s=0;s<o.length;s++){var a=o.charAt(s);n[a]="&"+e[s]+";",r.push(a)}}return n.regex=r.join(t?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(t){function n(e){return l[e]}function r(e){return"force"!=i.entities_processNumerical&&s[e]?s[e]:"&#"+e.charCodeAt(0)+";"}var i=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var o=[];i.basicEntities!==!1&&o.push("nbsp,gt,lt,amp"),i.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&o.push(i.entities_additional));var s=e(o.join(",")),a=s.regex?"["+s.regex+"]":"a^";delete s.regex,i.entities&&i.entities_processNumerical&&(a="[^ -~]|"+a);var a=RegExp(a,"g"),l=e("nbsp,gt,lt,amp,shy",!0),u=RegExp(l.regex,"g");t.addRules({text:function(e){return e.replace(u,n).replace(a,r)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,n,r){t=t||"80%",n=n||"70%","string"==typeof t&&t.length>1&&"%"==t.substr(t.length-1,1)&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10)),"string"==typeof n&&n.length>1&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),640>t&&(t=640),420>n&&(n=420);var i=parseInt((window.screen.height-n)/2,10),o=parseInt((window.screen.width-t)/2,10),r=(r||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+n+",top="+i+",left="+o,s=window.open("",null,r,!0);if(!s)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(s.moveTo(o,i),s.resizeTo(t,n)),s.focus(),s.location.href=e}catch(a){window.open(e,null,r,!0)}return!0}}),function(){function e(e,t){var n=[];if(!t)return e;for(var r in t)n.push(r+"="+encodeURIComponent(t[r]));return e+(-1!=e.indexOf("?")?"&":"?")+n.join("&")}function t(e){return e+="",e.charAt(0).toUpperCase()+e.substr(1)}function n(){var n=this.getDialog(),r=n.getParentEditor();r._.filebrowserSe=this;var i=r.config["filebrowser"+t(n.getName())+"WindowWidth"]||r.config.filebrowserWindowWidth||"80%",n=r.config["filebrowser"+t(n.getName())+"WindowHeight"]||r.config.filebrowserWindowHeight||"70%",o=this.filebrowser.params||{};o.CKEditor=r.name,o.CKEditorFuncNum=r._.filebrowserFn,o.langCode||(o.langCode=r.langCode),o=e(this.filebrowser.url,o),r.popup(o,i,n,r.config.filebrowserWindowFeatures||r.config.fileBrowserWindowFeatures)}function r(){var e=this.getDialog();return e.getParentEditor()._.filebrowserSe=this,e.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value&&e.getContentElement(this["for"][0],this["for"][1]).getAction()?!0:!1}function i(t,n,r){var i=r.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),n.action=e(r.url,i),n.filebrowser=r}function o(e,s,a,l){if(l&&l.length)for(var u,c=l.length;c--;)if(u=l[c],("hbox"==u.type||"vbox"==u.type||"fieldset"==u.type)&&o(e,s,a,u.children),u.filebrowser)if("string"==typeof u.filebrowser&&(u.filebrowser={action:"fileButton"==u.type?"QuickUpload":"Browse",target:u.filebrowser}),"Browse"==u.filebrowser.action){var d=u.filebrowser.url;void 0===d&&(d=e.config["filebrowser"+t(s)+"BrowseUrl"],void 0===d&&(d=e.config.filebrowserBrowseUrl)),d&&(u.onClick=n,u.filebrowser.url=d,u.hidden=!1)}else if("QuickUpload"==u.filebrowser.action&&u["for"]&&(d=u.filebrowser.url,void 0===d&&(d=e.config["filebrowser"+t(s)+"UploadUrl"],void 0===d&&(d=e.config.filebrowserUploadUrl)),d)){var h=u.onClick;u.onClick=function(e){var t=e.sender;return h&&h.call(t,e)===!1?!1:r.call(t,e)},u.filebrowser.url=d,u.hidden=!1,i(e,a.getContents(u["for"][0]).get(u["for"][1]),u.filebrowser)}}function s(e,t,n){if(-1!==n.indexOf(";")){for(var n=n.split(";"),r=0;r<n.length;r++)if(s(e,t,n[r]))return!0;return!1}return(e=e.getContents(t).get(n).filebrowser)&&e.url}function a(e,t){var n=this._.filebrowserSe.getDialog(),r=this._.filebrowserSe["for"],i=this._.filebrowserSe.filebrowser.onSelect;r&&n.getContentElement(r[0],r[1]).reset(),"function"==typeof t&&t.call(this._.filebrowserSe)===!1||i&&i.call(this._.filebrowserSe,e,t)===!1||("string"==typeof t&&t&&alert(t),e&&(r=this._.filebrowserSe,n=r.getDialog(),(r=r.filebrowser.target||null)&&(r=r.split(":"),(i=n.getContentElement(r[0],r[1]))&&(i.setValue(e),n.selectPage(r[0])))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(e){e._.filebrowserFn=CKEDITOR.tools.addFunction(a,e),e.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(e){if(e.editor.plugins.filebrowser)for(var t,n=e.data.definition,r=0;r<n.contents.length;++r)(t=n.contents[r])&&(o(e.editor,e.data.name,n,t.elements),t.hidden&&t.filebrowser&&(t.hidden=!s(n,t.id,t.filebrowser)))})}(),function(){function e(e){var r=e.config,i=e.fire("uiSpace",{space:"top",html:""}).html,o=function(){function i(e,t,r){a.setStyle(t,n(r)),a.setStyle("position",e)}function s(e){var t=u.getDocumentPosition();switch(e){case"top":i("absolute","top",t.y-f-g);break;case"pin":i("fixed","top",b);break;case"bottom":i("absolute","top",t.y+(d.height||d.bottom-d.top)+g)}l=e}var l,u,c,d,h,f,p,m=r.floatSpaceDockedOffsetX||0,g=r.floatSpaceDockedOffsetY||0,v=r.floatSpacePinnedOffsetX||0,b=r.floatSpacePinnedOffsetY||0;return function(r){if(u=e.editable())if(r&&"focus"==r.name&&a.show(),a.removeStyle("left"),a.removeStyle("right"),c=a.getClientRect(),d=u.getClientRect(),h=t.getViewPaneSize(),f=c.height,p="pageXOffset"in t.$?t.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l){s(f+g<=d.top?"top":f+g>h.height-d.bottom?"pin":"bottom");var i,r=h.width/2,r=d.left>0&&d.right<h.width&&d.width>c.width?"rtl"==e.config.contentsLangDirection?"right":"left":r-d.left>d.right-r?"left":"right";c.width>h.width?(r="left",i=0):(i="left"==r?d.left>0?d.left:0:d.right<h.width?h.width-d.right:0,i+c.width>h.width&&(r="left"==r?"right":"left",i=0)),a.setStyle(r,n(("pin"==l?v:m)+i+("pin"==l?0:"left"==r?p:-p)))}else l="pin",s("pin"),o(r)}}();if(i){var s=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),a=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(s.output({content:i,id:e.id,langDir:e.lang.dir,langCode:e.langCode,name:e.name,style:"display:none;z-index:"+(r.baseFloatZIndex-1),topId:e.ui.spaceId("top"),voiceLabel:e.title}))),l=CKEDITOR.tools.eventsBuffer(500,o),u=CKEDITOR.tools.eventsBuffer(100,o);a.unselectable(),a.on("mousedown",function(e){e=e.data,e.getTarget().hasAscendant("a",1)||e.preventDefault()}),e.on("focus",function(n){o(n),e.on("change",l.input),t.on("scroll",u.input),t.on("resize",u.input)}),e.on("blur",function(){a.hide(),e.removeListener("change",l.input),t.removeListener("scroll",u.input),t.removeListener("resize",u.input)}),e.on("destroy",function(){t.removeListener("scroll",u.input),t.removeListener("resize",u.input),a.clearCustomData(),a.remove()}),e.focusManager.hasFocus&&a.show(),e.focusManager.add(a,1)}}var t=CKEDITOR.document.getWindow(),n=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),t=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),r=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){var t=t||{},n=t.attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),n=this.keys,n[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(e){var t=this.toggle(e);this.onClick&&this.onClick(e,t)},this)),this._.click}},proto:{add:function(e,n,i){var o=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[e]=o;var s;s=CKEDITOR.tools.htmlEncodeAttr(e).replace(r,"\\'"),e={id:o,val:s,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(i||e),text:n||e},this._.pendingList.push(t.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t,this._.pendingHtml.push(n.output({id:t,label:e}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);return t?this.unmark(e):this.mark(e),!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();e&&(e.setStyle("display","none"),t&&"ul"==t.getName()&&t.setStyle("display","none"))},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e,t=this._.items,n=this._.groups,r=this.element.getDocument();for(e in t)r.getById(t[e]).setStyle("display","");for(var i in n)t=r.getById(n[i]),e=t.getNext(),t.setStyle("display",""),e&&"ul"==e.getName()&&e.setStyle("display","")},mark:function(e){this.multiSelect||this.unmarkAll();var e=this._.items[e],t=this.element.getDocument().getById(e);t.addClass("cke_selected"),this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(t)},unmark:function(e){var t=this.element.getDocument(),e=this._.items[e],n=t.getById(e);n.removeClass("cke_selected"),t.getById(e+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var e,t=this._.items,n=this.element.getDocument();for(e in t){var r=t[e];n.getById(r).removeClass("cke_selected"),n.getById(r+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t,n=this.element.getElementsByTag("a"),r=-1;if(e){for(t=this.element.getDocument().getById(this._.items[e]).getFirst();e=n.getItem(++r);)if(e.equals(t)){this._.focusIndex=r;break}}else this.element.focus();t&&setTimeout(function(){t.focus()},0)}}})}}),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'),e=e+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span>{arrowHtml}</a>',t=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),n=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}},CKEDITOR.ui.button.prototype={render:function(e,r){function i(){var t=e.mode;t&&(t=this.modes[t]?void 0!==p[t]?p[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=e.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var o,s=CKEDITOR.env,a=this._.id=CKEDITOR.tools.getNextId(),l="",u=this.command;this._.editor=e;var c={id:a,button:this,editor:e,focus:function(){CKEDITOR.document.getById(a).focus()},execute:function(){this.button.click(e)},attach:function(e){this.button.attach(e)}},d=CKEDITOR.tools.addFunction(function(e){return c.onkey?(e=new CKEDITOR.dom.event(e),c.onkey(c,e.getKeystroke())!==!1):void 0}),h=CKEDITOR.tools.addFunction(function(e){var t;return c.onfocus&&(t=c.onfocus(c,new CKEDITOR.dom.event(e))!==!1),t}),f=0;if(c.clickFn=o=CKEDITOR.tools.addFunction(function(){f&&(e.unlockSelection(1),f=0),c.execute(),s.iOS&&e.focus()}),this.modes){var p={};e.on("beforeModeUnload",function(){e.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(p[e.mode]=this._.state)},this),e.on("activeFilterChange",i,this),e.on("mode",i,this),!this.readOnly&&e.on("readOnly",i,this)}else u&&(u=e.getCommand(u))&&(u.on("state",function(){this.setState(u.state)},this),l+=u.state==CKEDITOR.TRISTATE_ON?"on":u.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&e.on("contentDirChanged",function(t){var n=CKEDITOR.document.getById(this._.id),r=n.getFirst(),t=t.data;t!=e.lang.dir?n.addClass("cke_"+t):n.removeClass("cke_ltr").removeClass("cke_rtl"),r.setAttribute("style",CKEDITOR.skin.getIconStyle(g,"rtl"==t,this.icon,this.iconOffset))},this),u||(l+="off");var m=this.name||this.command,g=m;return this.icon&&!/\./.test(this.icon)&&(g=this.icon,this.icon=null),l={id:a,name:m,iconName:g,label:this.label,cls:this.className||"",state:l,ariaDisabled:"disabled"==l?"true":"false",title:this.title,titleJs:s.gecko&&!s.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:d,focusFn:h,clickFn:o,style:CKEDITOR.skin.getIconStyle(g,"rtl"==e.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?t.output():""},n.output(l,r),this.onRender&&this.onRender(),c},setState:function(e){if(this._.state==e)return!1;this._.state=e;var t=CKEDITOR.document.getById(this._.id);return t?(t.setState(e,"cke_button"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this.hasArrow?(e=e==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(e)):e==CKEDITOR.TRISTATE_ON?t.setAttribute("aria-pressed",!0):t.removeAttribute("aria-pressed"),!0):!1},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;return!this.allowedContent&&!this.requiredContent&&this.command&&(t=e.getCommand(this.command)||t),this._.feature=t}},CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>"),t=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:!1,title:e.label,modes:{wysiwyg:1},editorFocus:1}),e=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.className="cke_combopanel",e.block={multiSelect:e.multiSelect,attributes:e.attributes},e.toolbarRelated=!0,this._={panelDefinition:e,items:{}}},proto:{renderHtml:function(e){var t=[];return this.render(e,t),t.join("")},render:function(e,n){function r(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;e.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var i=CKEDITOR.env,o="cke_"+this.id,s=CKEDITOR.tools.addFunction(function(t){d&&(e.unlockSelection(1),d=0),l.execute(t)},this),a=this,l={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(t){var n=a._;if(n.state!=CKEDITOR.TRISTATE_DISABLED)if(a.createPanel(e),n.on)n.panel.hide();else{a.commit();var r=a.getValue();r?n.list.mark(r):n.list.unmarkAll(),n.panel.showBlock(a.id,new CKEDITOR.dom.element(t),4)}},clickFn:s};e.on("activeFilterChange",r,this),e.on("mode",r,this),e.on("selectionChange",r,this),!this.readOnly&&e.on("readOnly",r,this);var u=CKEDITOR.tools.addFunction(function(t,n){var t=new CKEDITOR.dom.event(t),r=t.getKeystroke();switch(40==r&&e.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)}),r){case 13:case 32:case 40:CKEDITOR.tools.callFunction(s,n);break;default:l.onkey(l,r)}t.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){l.onfocus&&l.onfocus()}),d=0;return l.keyDownFn=u,i={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:i.gecko&&!i.hc?"":(this.title||"").replace("'",""),keydownFn:u,focusFn:c,clickFn:s},t.output(i,n),this.onRender&&this.onRender(),l},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,r=t.parent||CKEDITOR.document.getBody(),i="cke_combopanel__"+this.name,o=new CKEDITOR.ui.floatPanel(e,r,t),s=o.addListBlock(this.id,n),a=this;o.onShow=function(){this.element.addClass(i),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen(),e.once("panelShow",function(){s.focus(!s.multiSelect&&a.getValue())})},o.onHide=function(t){this.element.removeClass(i),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},o.onEscape=function(){o.hide(1)},s.onClick=function(e,t){a.onClick&&a.onClick.call(a,e,t),o.hide()},this._.panel=o,this._.list=s,o.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(e,t){this._.value=e;var n=this.document.getById("cke_"+this.id+"_text");n&&(e||t?n.removeClass("cke_combo_inlinelabel"):(t=this.label,n.addClass("cke_combo_inlinelabel")),n.setText("undefined"!=typeof t?t:e))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,n){this._.items[e]=n||e,this._.list.add(e,t,n)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id);t.setState(e,"cke_combo"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(e){if(!e.blockless){for(var t=e.config,n=e.lang.format,r=t.format_tags.split(";"),i={},o=0,s=[],a=0;a<r.length;a++){var l=r[a],u=new CKEDITOR.style(t["format_"+l]);(!e.filter.customConfig||e.filter.check(u))&&(o++,i[l]=u,i[l]._.enterMode=e.config.enterMode,s.push(u))}0!==o&&e.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:s,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){this.startGroup(n.panelTitle);for(var e in i){var t=n["tag_"+e];this.add(e,i[e].buildPreview(t),t)}},onClick:function(t){e.focus(),e.fire("saveSnapshot");var t=i[t],n=e.elementPath();e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),setTimeout(function(){e.fire("saveSnapshot")},0)},onRender:function(){e.on("selectionChange",function(t){var n=this.getValue(),t=t.data.path;this.refresh();for(var r in i)if(i[r].checkActive(t,e))return void(r!=n&&this.setValue(r,e.lang.format["tag_"+r]));this.setValue("")},this)},onOpen:function(){this.showAll();for(var t in i)e.activeFilter.check(i[t])||this.hideItem(t)},refresh:function(){var t=e.elementPath();if(t){if(t.isContextFor("p"))for(var n in i)if(e.activeFilter.check(i[n]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var e={canUndo:!1,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",e),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand,t.indentationChars=e.config.dataIndentationChars||"	",e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="	",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var e,t=CKEDITOR.dtd;for(e in CKEDITOR.tools.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))this.setRules(e,{indent:!t[e]["#"],
breakBeforeOpen:1,breakBeforeClose:!t[e]["#"],breakAfterClose:1,needsSpace:e in t.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&t&&t.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():t&&t.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",e),this._.afterCloser=0},openTagClose:function(e,t){var n=this._.rules[e];t?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation=this._.indentation+this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==e&&(this._.inPre=1)},attribute:function(e,t){"string"==typeof t&&(this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&")),t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];t&&t.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():t&&t.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",e,">"),"pre"==e&&(this._.inPre=0),t&&t.breakAfterClose&&(this.lineBreak(),this._.needsSpace=t.needsSpace),this._.afterCloser=1},text:function(e){this._.indent&&(this.indentation(),!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))),this._.output.push(e)},comment:function(e){this._.indent&&this.indentation(),this._.output.push("<!--",e,"-->")},lineBreak:function(){!this._.inPre&&this._.output.length>0&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0},setRules:function(e,t){var n=this._.rules[e];n?CKEDITOR.tools.extend(n,t,!0):this._.rules[e]=t}}}),function(){function e(e,t){return t||(t=e.getSelection().getSelectedElement()),t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly()?t:void 0}function t(e){var t=e.getStyle("float");return("inherit"==t||"none"==t)&&(t=0),t||(t=e.getAttribute("align")),t}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(t){if(!t.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var n="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image","advanced")&&(n="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),t.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:n,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),t.ui.addButton&&t.ui.addButton("Image",{label:t.lang.common.image,command:"image",toolbar:"insert,10"}),t.on("doubleclick",function(e){var t=e.data.element;!t.is("img")||t.data("cke-realelement")||t.isReadOnly()||(e.data.dialog="image")}),t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(n){return e(t,n)?{image:CKEDITOR.TRISTATE_OFF}:void 0})}},afterInit:function(n){function r(r){var i=n.getCommand("justify"+r);i&&(("left"==r||"right"==r)&&i.on("exec",function(i){var o,s=e(n);s&&(o=t(s),o==r?(s.removeStyle("float"),r==t(s)&&s.removeAttribute("align")):s.setStyle("float",r),i.cancel())}),i.on("refresh",function(i){var o=e(n);o&&(o=t(o),this.setState(o==r?CKEDITOR.TRISTATE_ON:"right"==r||"left"==r?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),i.cancel())}))}n.plugins.image2||(r("left"),r("right"),r("center"),r("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n=r.exec(e),i=r.exec(t);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return t}var t=CKEDITOR.htmlParser.cssStyle,n=CKEDITOR.tools.cssLength,r=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,i={elements:{$:function(n){var r=n.attributes;if((r=(r=(r=r&&r["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(r)))&&r.children[0])&&n.attributes["data-cke-resizable"]){var i=new t(n).rules,n=r.attributes,o=i.width,i=i.height;o&&(n.width=e(n.width,o)),i&&(n.height=e(n.height,i))}return r}}};CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){(e=(e=e.dataProcessor)&&e.htmlFilter)&&e.addRules(i,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,r,i,o){var s=this.lang.fakeobjects,s=s[i]||s.unknown,r={"class":r,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.getAttribute("align")||""};return CKEDITOR.env.hc||(r.src=CKEDITOR.tools.transparentImageData),i&&(r["data-cke-real-element-type"]=i),o&&(r["data-cke-resizable"]=o,i=new t,o=e.getAttribute("width"),e=e.getAttribute("height"),o&&(i.rules.width=n(o)),e&&(i.rules.height=n(e)),i.populate(r)),this.document.createElement("img",{attributes:r})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,r,i,o){var s,a=this.lang.fakeobjects,a=a[i]||a.unknown;return s=new CKEDITOR.htmlParser.basicWriter,e.writeHtml(s),s=s.getHtml(),r={"class":r,"data-cke-realelement":encodeURIComponent(s),"data-cke-real-node-type":e.type,alt:a,title:a,align:e.attributes.align||""},CKEDITOR.env.hc||(r.src=CKEDITOR.tools.transparentImageData),i&&(r["data-cke-real-element-type"]=i),o&&(r["data-cke-resizable"]=o,o=e.attributes,e=new t,i=o.width,o=o.height,void 0!==i&&(e.rules.width=n(i)),void 0!==o&&(e.rules.height=n(o)),e.populate(r)),new CKEDITOR.htmlParser.element("img",r)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var n=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var r=t.getStyle("width"),t=t.getStyle("height");r&&n.setAttribute("width",e(n.getAttribute("width"),r)),t&&n.setAttribute("height",e(n.getAttribute("height"),t))}return n}}(),function(){function e(e){return e.replace(/'/g,"\\$&")}function t(e){for(var t,n=e.length,r=[],i=0;n>i;i++)t=e.charCodeAt(i),r.push(t);return"String.fromCharCode("+r.join(",")+")"}function n(t,n){var r,i,o=t.plugins.link,s=o.compiledProtectionFunction.params;i=[o.compiledProtectionFunction.name,"("];for(var a=0;a<s.length;a++)o=s[a].toLowerCase(),r=n[o],a>0&&i.push(","),i.push("'",r?e(encodeURIComponent(n[o])):"","'");return i.push(")"),i.join("")}function r(e){var t,e=e.config.emailProtection||"";return e&&"encode"!=e&&(t={},e.replace(/^([^(]+)\(([^)]+)\)$/,function(e,n,r){t.name=n,t.params=[],r.replace(/[^,\s]+/g,function(e){t.params.push(e)})})),t}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return n.replace(/%1/g,"rtl"==e?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(e){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(e,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)")),CKEDITOR.dialog.isTabEnabled(e,"link","target")&&(t=t.replace("]",",target,onclick]")),e.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),e.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),e.addCommand("unlink",new CKEDITOR.unlinkCommand),e.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),e.setKeystroke(CKEDITOR.CTRL+76,"link"),e.ui.addButton&&(e.ui.addButton("Link",{label:e.lang.link.toolbar,command:"link",toolbar:"links,10"}),e.ui.addButton("Unlink",{label:e.lang.link.unlink,command:"unlink",toolbar:"links,20"}),e.ui.addButton("Anchor",{label:e.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),e.on("doubleclick",function(t){var n=CKEDITOR.plugins.link.getSelectedLink(e)||t.data.element;n.isReadOnly()||(n.is("a")?(t.data.dialog=!n.getAttribute("name")||n.getAttribute("href")&&n.getChildCount()?"link":"anchor",t.data.link=n):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,n)&&(t.data.dialog="anchor"))},null,null,0),e.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&e.getSelection().selectElement(t.data.link)},null,null,20),e.addMenuItems&&e.addMenuItems({anchor:{label:e.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:e.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:e.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:e.lang.link.unlink,command:"unlink",group:"link",order:5}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t),!t&&!(t=CKEDITOR.plugins.link.getSelectedLink(e)))return null;var n={};return t.getAttribute("href")&&t.getChildCount()&&(n={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(n.anchor=n.removeAnchor=CKEDITOR.TRISTATE_OFF),n}),this.compiledProtectionFunction=r(e)},afterInit:function(e){e.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:e.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=e._.elementsPath&&e._.elementsPath.filters;t&&t.push(function(t,n){return"a"!=n||!CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t)&&(!t.getAttribute("name")||t.getAttribute("href")&&t.getChildCount())?void 0:"anchor"})}});var i=/^javascript:/,o=/^mailto:([^?]+)(?:\?(.+))?$/,s=/subject=([^;?:@&=$,\/]*)/,a=/body=([^;?:@&=$,\/]*)/,l=/^#(.*)$/,u=/^((?:http|https|ftp|news):\/\/)?(.*)$/,c=/^(_(?:self|top|parent|blank))$/,d=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,h=/^javascript:([^(]+)\(([^)]+)\)$/,f=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,p=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,m={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e){var t=e.getSelection(),n=t.getSelectedElement();return n&&n.is("a")?n:(t=t.getRanges()[0])?(t.shrink(CKEDITOR.SHRINK_TEXT),e.elementPath(t.getCommonAncestor()).contains("a",1)):null},getEditorAnchors:function(e){for(var t,n=e.editable(),r=n.isInline()&&!e.plugins.divarea?e.document:n,n=r.getElementsByTag("a"),r=r.getElementsByTag("img"),i=[],o=0;t=n.getItem(o++);)(t.data("cke-saved-name")||t.hasAttribute("name"))&&i.push({name:t.data("cke-saved-name")||t.getAttribute("name"),id:t.getAttribute("id")});for(o=0;t=r.getItem(o++);)(t=this.tryRestoreFakeAnchor(e,t))&&i.push({name:t.getAttribute("name"),id:t.getAttribute("id")});return i},fakeAnchor:!0,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&"anchor"==t.data("cke-real-element-type")){var n=e.restoreRealElement(t);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(e,t){var n,r=t&&(t.data("cke-saved-href")||t.getAttribute("href"))||"",g=e.plugins.link.compiledProtectionFunction,v=e.config.emailProtection,b={};if(r.match(i)&&("encode"==v?r=r.replace(d,function(e,t,n){return"mailto:"+String.fromCharCode.apply(String,t.split(","))+(n&&n.replace(/\\'/g,"'"))}):v&&r.replace(h,function(e,t,n){if(t==g.name){b.type="email";for(var r,i,e=b.email={},t=/(^')|('$)/g,n=n.match(/[^,\s]+/g),o=n.length,s=0;o>s;s++)r=decodeURIComponent,i=n[s].replace(t,"").replace(/\\'/g,"'"),i=r(i),r=g.params[s].toLowerCase(),e[r]=i;e.address=[e.name,e.domain].join("@")}})),!b.type)if(v=r.match(l))b.type="anchor",b.anchor={},b.anchor.name=b.anchor.id=v[1];else if(v=r.match(o)){n=r.match(s),r=r.match(a),b.type="email";var y=b.email={};y.address=v[1],n&&(y.subject=decodeURIComponent(n[1])),r&&(y.body=decodeURIComponent(r[1]))}else r&&(n=r.match(u))&&(b.type="url",b.url={},b.url.protocol=n[1],b.url.url=n[2]);if(t){if(r=t.getAttribute("target"))b.target={type:r.match(c)?r:"frame",name:r};else if(r=(r=t.data("cke-pa-onclick")||t.getAttribute("onclick"))&&r.match(f))for(b.target={type:"popup",name:r[1]};v=p.exec(r[2]);)"yes"!=v[2]&&"1"!=v[2]||v[1]in{height:1,width:1,top:1,left:1}?isFinite(v[2])&&(b.target[v[1]]=v[2]):b.target[v[1]]=!0;var E,r={};for(E in m)(v=t.getAttribute(E))&&(r[m[E]]=v);(E=t.data("cke-saved-name")||r.advName)&&(r.advName=E),CKEDITOR.tools.isEmpty(r)||(b.advanced=r)}return b},getLinkAttributes:function(r,i){var o=r.config.emailProtection||"",s={};switch(i.type){case"url":var o=i.url&&void 0!==i.url.protocol?i.url.protocol:"http://",a=i.url&&CKEDITOR.tools.trim(i.url.url)||"";s["data-cke-saved-href"]=0===a.indexOf("/")?a:o+a;break;case"anchor":o=i.anchor&&i.anchor.id,s["data-cke-saved-href"]="#"+(i.anchor&&i.anchor.name||o||"");break;case"email":var l=i.email,a=l.address;switch(o){case"":case"encode":var u=encodeURIComponent(l.subject||""),c=encodeURIComponent(l.body||""),l=[];u&&l.push("subject="+u),c&&l.push("body="+c),l=l.length?"?"+l.join("&"):"","encode"==o?(o=["javascript:void(location.href='mailto:'+",t(a)],l&&o.push("+'",e(l),"'"),o.push(")")):o=["mailto:",a,l];break;default:o=a.split("@",2),l.name=o[0],l.domain=o[1],o=["javascript:",n(r,l)]}s["data-cke-saved-href"]=o.join("")}if(i.target)if("popup"==i.target.type){for(var o=["window.open(this.href, '",i.target.name||"","', '"],d=["resizable","status","location","toolbar","menubar","fullscreen","scrollbars","dependent"],a=d.length,u=function(e){i.target[e]&&d.push(e+"="+i.target[e])},l=0;a>l;l++)d[l]=d[l]+(i.target[d[l]]?"=yes":"=no");u("width"),u("left"),u("height"),u("top"),o.push(d.join(","),"'); return false;"),s["data-cke-pa-onclick"]=o.join("")}else"notSet"!=i.target.type&&i.target.name&&(s.target=i.target.name);if(i.advanced){for(var h in m)(o=i.advanced[m[h]])&&(s[h]=o);s.name&&(s["data-cke-saved-name"]=s.name)}s["data-cke-saved-href"]&&(s.href=s["data-cke-saved-href"]),h=CKEDITOR.tools.extend({target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1},m);for(var f in s)delete h[f];return{set:s,removed:CKEDITOR.tools.objectKeys(h)}}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(e){var t=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});e.removeStyle(t)},refresh:function(e,t){var n=t.lastElement&&t.lastElement.getAscendant("a",!0);this.setState(n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]"},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t,n=e.getSelection(),r=n.createBookmarks();n&&(t=n.getSelectedElement())&&(t.getChildCount()?t.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))?t.remove(1):(t=CKEDITOR.plugins.link.getSelectedLink(e))&&(t.hasAttribute("href")?(t.removeAttributes({name:1,"data-cke-saved-name":1}),t.removeClass("cke_anchor")):t.remove(1)),n.selectBookmarks(r)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function e(e,t,n){return c(t)&&c(n)&&n.equals(t.getNext(function(e){return!(Y(e)||G(e)||d(e))}))}function t(e){this.upper=e[0],this.lower=e[1],this.set.apply(this,e.slice(2))}function n(e){var t=e.element;if(t&&c(t)&&(t=t.getAscendant(e.triggers,!0))&&e.editable.contains(t)){var n=o(t);if("true"==n.getAttribute("contenteditable"))return t;if(n.is(e.triggers))return n}return null}function r(e,t,n){return y(e,t),y(e,n),e=t.size.bottom,n=n.size.top,e&&n?0|(e+n)/2:e||n}function i(e,t,n){return t=t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!Y(t)||c(t)&&!d(t)&&!u(e,t)})}function o(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e&&!e.data("cke-editable");){if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function s(e){var t=e.doc,n=I('<span contenteditable="false" style="'+V+"position:absolute;border-top:1px dashed "+e.boxColor+'"></span>',t),r=CKEDITOR.getUrl(this.path+"images/"+(D.hidpi?"hidpi/":"")+"icon"+(e.rtl?"-rtl":"")+".png");for(C(n,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(e.editable,!0),this},lineChildren:[C(I('<span title="'+e.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:V+"height:17px;width:17px;"+(e.rtl?"left":"right")+":17px;background:url("+r+") center no-repeat "+e.boxColor+";cursor:pointer;"+(D.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(D.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px",1),"top:-17px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px 2px 0px 0px",1),"top:-1px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","0px 0px 2px 2px",1)]}),C(I(U,t),{base:q+"left:0px;border-left-color:"+e.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),C(I(U,t),{base:q+"right:0px;border-right-color:"+e.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){y(e,this);var t=e.holdDistance,n=this.size;return n&&e.mouse.y>n.top-t&&e.mouse.y<n.bottom+t&&e.mouse.x>n.left-t&&e.mouse.x<n.right+t?!0:!1},place:function(){var t=e.view,n=e.editable,r=e.trigger,i=r.upper,o=r.lower,s=i||o,a=s.getParent(),l={};this.trigger=r,i&&y(e,i,!0),o&&y(e,o,!0),y(e,a,!0),e.inInlineMode&&E(e,!0),a.equals(n)?(l.left=t.scroll.x,l.right=-t.scroll.x,l.width=""):(l.left=s.size.left-s.size.margin.left+t.scroll.x-(e.inInlineMode?t.editable.left+t.editable.border.left:0),l.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+t.scroll.x,l.right=""),i&&o?l.top=i.size.margin.bottom===o.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<o.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-o.size.margin.top:i?o||(l.top=i.size.bottom+i.size.margin.bottom):l.top=o.size.top-o.size.margin.top,r.is(P)||l.top>t.scroll.y-15&&l.top<t.scroll.y+5?(l.top=e.inInlineMode?0:t.scroll.y,this.look(P)):r.is(L)||l.top>t.pane.bottom-5&&l.top<t.pane.bottom+15?(l.top=e.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(L)):(e.inInlineMode&&(l.top=l.top-(t.editable.top+t.editable.border.top)),this.look(M)),e.inInlineMode&&(l.top--,l.top=l.top+t.editable.scroll.top,l.left=l.left+t.editable.scroll.left);for(var u in l)l[u]=CKEDITOR.tools.cssLength(l[u]);this.setStyles(l)},look:function(e){if(this.oldLook!=e){for(var t,n=this.lineChildren.length;n--;)(t=this.lineChildren[n]).setAttribute("style",t.base+t.looks[0|e/2]);this.oldLook=e}},wrap:new O("span",e.doc)}),t=n.lineChildren.length;t--;)n.lineChildren[t].appendTo(n);n.look(M),n.appendTo(n.wrap),n.unselectable(),n.lineChildren[0].on("mouseup",function(t){n.detach(),a(e,function(t){var n=e.line.trigger;t[n.is(k)?"insertBefore":"insertAfter"](n.is(k)?n.lower:n.upper)},!0),e.editor.focus(),!D.ie&&e.enterMode!=CKEDITOR.ENTER_BR&&e.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),n.on("mousedown",function(e){e.data.preventDefault(!0)}),e.line=n}function a(e,t,n){var r,i=new CKEDITOR.dom.range(e.doc),s=e.editor;D.ie&&e.enterMode==CKEDITOR.ENTER_BR?r=e.doc.createText(F):(r=(r=o(e.element,!0))&&r.data("cke-enter-mode")||e.enterMode,r=new O(x[r],e.doc),r.is("br")||e.doc.createText(F).appendTo(r)),n&&s.fire("saveSnapshot"),t(r),i.moveToPosition(r,CKEDITOR.POSITION_AFTER_START),s.getSelection().selectRanges([i]),e.hotNode=r,n&&s.fire("saveSnapshot")}function l(e,t){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function r(n){var r=D.ie&&D.version<9?" ":F,i=e.hotNode&&e.hotNode.getText()==r&&e.element.equals(e.hotNode)&&e.lastCmdDirection===!!t;a(e,function(r){i&&e.hotNode&&e.hotNode.remove(),r[t?"insertAfter":"insertBefore"](n),r.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!t}),e.lastCmdDirection=!!t}),!D.ie&&e.enterMode!=CKEDITOR.ENTER_BR&&e.hotNode.scrollIntoView(),e.line.detach()}return function(s){var a,s=s.getSelection().getStartElement(),s=s.getAscendant(H,1);if(!p(e,s)&&s&&!s.equals(e.editable)&&!s.contains(e.editable)){(a=o(s))&&"false"==a.getAttribute("contenteditable")&&(s=a),e.element=s,a=i(e,s,!t);var l;c(a)&&a.is(e.triggers)&&a.is(j)&&(!i(e,a,!t)||(l=i(e,a,!t))&&c(l)&&l.is(e.triggers))?r(a):(l=n(e,s),c(l)&&(i(e,l,!t)?(s=i(e,l,!t))&&c(s)&&s.is(e.triggers)&&r(l):r(l)))}}}()}}function u(e,t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||!t.$)return!1;var n=e.line;return n.wrap.equals(t)||n.wrap.contains(t)}function c(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function d(e){if(!c(e))return!1;var t;return(t=h(e))||(c(e)?(t={left:1,right:1,center:1},t=!(!t[e.getComputedStyle("float")]&&!t[e.getAttribute("align")])):t=!1),t}function h(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function f(e,t){return c(t)?t.is(e.triggers):null}function p(e,t){if(!t)return!1;for(var n=t.getParents(1),r=n.length;r--;)for(var i=e.tabuList.length;i--;)if(n[r].hasAttribute(e.tabuList[i]))return!0;return!1}function m(e,t,n){return(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is($)}))?(y(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y):!1}function g(e){var n=e.editable,r=e.mouse,i=e.view,o=e.triggerOffset;E(e);var s=r.y>(e.inInlineMode?i.editable.top+i.editable.height/2:Math.min(i.editable.height,i.pane.height)/2),n=n[s?"getLast":"getFirst"](function(e){return!(Y(e)||G(e))});return n?(u(e,n)&&(n=e.line.wrap[s?"getPrevious":"getNext"](function(e){return!(Y(e)||G(e))})),c(n)&&!d(n)&&f(e,n)?(y(e,n),!s&&n.size.top>=0&&r.y>0&&r.y<n.size.top+o?(e=e.inInlineMode||0===i.scroll.y?P:M,new t([null,n,k,N,e])):s&&n.size.bottom<=i.pane.height&&r.y>n.size.bottom-o&&r.y<i.pane.height?(e=e.inInlineMode||n.size.bottom>i.pane.height-o&&n.size.bottom<i.pane.height?L:M,new t([n,null,S,N,e])):null):null):null}function v(e){var r=e.mouse,o=e.view,s=e.triggerOffset,a=n(e);if(!a)return null;y(e,a);var l,u,s=Math.min(s,0|a.size.outerHeight/2),h=[];if(r.y>a.size.top-1&&r.y<a.size.top+s)u=!1;else{if(!(r.y>a.size.bottom-s&&r.y<a.size.bottom+1))return null;u=!0}if(d(a)||m(e,a,u)||a.getParent().is(B))return null;var p=i(e,a,!u);if(p){if(p&&p.type==CKEDITOR.NODE_TEXT)return null;if(c(p)){if(d(p)||!f(e,p)||p.getParent().is(B))return null;h=[p,a][u?"reverse":"concat"]().concat([K,N])}}else a.equals(e.editable[u?"getLast":"getFirst"](e.isRelevant))?(E(e),u&&r.y>a.size.bottom-s&&r.y<o.pane.height&&a.size.bottom>o.pane.height-s&&a.size.bottom<o.pane.height?l=L:r.y>0&&r.y<a.size.top+s&&(l=P)):l=M,h=[null,a][u?"reverse":"concat"]().concat([u?S:k,N,l,a.equals(e.editable[u?"getLast":"getFirst"](e.isRelevant))?u?L:P:M]);return 0 in h?new t(h):null}function b(e,t,n,r){for(var i=function(){var n=D.ie?t.$.currentStyle:e.win.$.getComputedStyle(t.$,"");return D.ie?function(e){return n[CKEDITOR.tools.cssStyleToDomStyle(e)]}:function(e){return n.getPropertyValue(e)}}(),o=t.getDocumentPosition(),s={},a={},l={},u={},c=Q.length;c--;)s[Q[c]]=parseInt(i("border-"+Q[c]+"-width"),10)||0,l[Q[c]]=parseInt(i("padding-"+Q[c]),10)||0,a[Q[c]]=parseInt(i("margin-"+Q[c]),10)||0;return(!n||r)&&_(e,r),u.top=o.y-(n?0:e.view.scroll.y),u.left=o.x-(n?0:e.view.scroll.x),u.outerWidth=t.$.offsetWidth,u.outerHeight=t.$.offsetHeight,u.height=u.outerHeight-(l.top+l.bottom+s.top+s.bottom),u.width=u.outerWidth-(l.left+l.right+s.left+s.right),u.bottom=u.top+u.outerHeight,u.right=u.left+u.outerWidth,e.inInlineMode&&(u.scroll={top:t.$.scrollTop,left:t.$.scrollLeft}),C({border:s,padding:l,margin:a,ignoreScroll:n},u,!0)}function y(e,t,n){if(!c(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==n&&t.size.date>new Date-z)return null}else t.size={};return C(t.size,b(e,t,n),{date:+new Date},!0)}function E(e,t){e.view.editable=b(e,e.editable,t,!0)}function _(e,t){e.view||(e.view={});var n=e.view;if(t||!(n&&n.date>new Date-z)){var r=e.win,n=r.getScrollPosition(),r=r.getViewPaneSize();C(e.view,{scroll:{x:n.x,y:n.y,width:e.doc.$.documentElement.scrollWidth-r.width,height:e.doc.$.documentElement.scrollHeight-r.height},pane:{width:r.width,height:r.height,bottom:r.height+n.y},date:+new Date},!0)}}function T(e,n,r,i){for(var o=i,s=i,a=0,l=!1,u=!1,c=e.view.pane.height,d=e.mouse;d.y+a<c&&d.y-a>0&&(l||(l=n(o,i)),u||(u=n(s,i)),!l&&d.y-a>0&&(o=r(e,{x:d.x,y:d.y-a})),!u&&d.y+a<c&&(s=r(e,{x:d.x,y:d.y+a})),!l||!u);)a+=2;return new t([o,s,null,null])}CKEDITOR.plugins.add("magicline",{init:function(e){var r,o,f,m=e.config,y=m.magicline_triggerOffset||30,T={editor:e,enterMode:m.enterMode,triggerOffset:y,holdDistance:0|y*(m.magicline_holdDistance||.5),boxColor:m.magicline_color||"#ff0000",rtl:"rtl"==m.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(m.magicline_tabuList||[]),triggers:m.magicline_everywhere?H:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};T.isRelevant=function(e){return c(e)&&!u(T,e)&&!d(e)},e.on("contentDom",function(){var c=e.editable(),d=e.document,y=e.window;C(T,{editable:c,inInlineMode:c.isInline(),doc:d,win:y,hotNode:null},!0),T.boundary=T.inInlineMode?T.editable:T.doc.getDocumentElement(),c.is(w.$inline)||(T.inInlineMode&&!h(c)&&c.setStyles({position:"relative",top:null,left:null}),s.call(this,T),_(T),c.attachListener(e,"beforeUndoImage",function(){T.line.detach()}),c.attachListener(e,"beforeGetData",function(){T.line.wrap.getParent()&&(T.line.detach(),e.once("getData",function(){T.line.attach()},null,null,1e3))},null,null,0),c.attachListener(T.inInlineMode?d:d.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==e.mode)if(T.inInlineMode){var n=t.data.$.clientX,t=t.data.$.clientY;_(T),E(T,!0);var r=T.view.editable,i=T.view.scroll;n>r.left-i.x&&n<r.right-i.x&&t>r.top-i.y&&t<r.bottom-i.y||(clearTimeout(f),f=null,T.line.detach())}else clearTimeout(f),f=null,T.line.detach()}),c.attachListener(c,"keyup",function(){T.hiddenMode=0}),c.attachListener(c,"keydown",function(t){if("wysiwyg"==e.mode)switch(t.data.getKeystroke()){case 2228240:case 16:T.hiddenMode=1,T.line.detach()}}),c.attachListener(T.inInlineMode?c:d,"mousemove",function(t){if(o=!0,"wysiwyg"==e.mode&&!e.readOnly&&!f){var n={x:t.data.$.clientX,y:t.data.$.clientY};f=setTimeout(function(){T.mouse=n,f=T.trigger=null,_(T),o&&!T.hiddenMode&&e.focusManager.hasFocus&&!T.line.mouseNear()&&(T.element=W(T,!0))&&((T.trigger=g(T)||v(T)||X(T))&&!p(T,T.trigger.upper||T.trigger.lower)?T.line.attach().place():(T.trigger=null,T.line.detach()),o=!1)},30)}}),c.attachListener(y,"scroll",function(){"wysiwyg"==e.mode&&(T.line.detach(),D.webkit&&(T.hiddenMode=1,clearTimeout(r),r=setTimeout(function(){T.mouseDown||(T.hiddenMode=0)},50)))}),c.attachListener(R?d:y,"mousedown",function(){"wysiwyg"==e.mode&&(T.line.detach(),T.hiddenMode=1,T.mouseDown=1)}),c.attachListener(R?d:y,"mouseup",function(){T.hiddenMode=0,T.mouseDown=0}),e.addCommand("accessPreviousSpace",l(T)),e.addCommand("accessNextSpace",l(T,!0)),e.setKeystroke([[m.magicline_keystrokePrevious,"accessPreviousSpace"],[m.magicline_keystrokeNext,"accessNextSpace"]]),e.on("loadSnapshot",function(){var t,n,r,i;for(i in{p:1,br:1,div:1})for(t=e.document.getElementsByTag(i),r=t.count();r--;)if((n=t.getItem(r)).data("cke-magicline-hot"))return T.hotNode=n,void(T.lastCmdDirection="true"===n.data("cke-magicline-dir")?!0:!1)}),this.backdoor={accessFocusSpace:a,boxTrigger:t,isLine:u,getAscendantTrigger:n,getNonEmptyNeighbour:i,getSize:b,that:T,triggerEdge:v,triggerEditable:g,triggerExpand:X})},this)}});var C=CKEDITOR.tools.extend,O=CKEDITOR.dom.element,I=O.createFromHtml,D=CKEDITOR.env,R=CKEDITOR.env.ie&&CKEDITOR.env.version<9,w=CKEDITOR.dtd,x={},k=128,S=64,K=32,N=16,A=8,P=4,L=2,M=1,F=" ",B=w.$listItem,$=w.$tableContent,j=C({},w.$nonEditable,w.$empty),H=w.$block,z=100,V="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",q=V+"border-color:transparent;display:block;border-style:solid;",U="<span>"+F+"</span>";x[CKEDITOR.ENTER_BR]="br",x[CKEDITOR.ENTER_P]="p",x[CKEDITOR.ENTER_DIV]="div",t.prototype={set:function(e,t,n){return this.properties=e+t+(n||M),this},is:function(e){return(this.properties&e)==e}};var W=function(){function e(e,t){var n=e.$.elementFromPoint(t.x,t.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,n,r){if(!t.mouse)return null;var i=t.doc,o=t.line.wrap,r=r||t.mouse,s=e(i,r);return n&&u(t,s)&&(o.hide(),s=e(i,r),o.show()),!s||s.type!=CKEDITOR.NODE_ELEMENT||!s.$||D.ie&&D.version<9&&!t.boundary.equals(s)&&!t.boundary.contains(s)?null:s}}(),Y=CKEDITOR.dom.walker.whitespaces(),G=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function t(t){var i,o,s,a=t.element;if(!c(a)||a.contains(t.editable)||a.isReadOnly())return null;if(s=T(t,function(e,t){return!t.equals(e)},function(e,t){return W(e,!0,t)},a),i=s.upper,o=s.lower,e(t,i,o))return s.set(K,A);if(i&&a.contains(i))for(;!i.getParent().equals(a);)i=i.getParent();else i=a.getFirst(function(e){return n(t,e)});if(o&&a.contains(o))for(;!o.getParent().equals(a);)o=o.getParent();else o=a.getLast(function(e){return n(t,e)});if(!i||!o)return null;if(y(t,i),y(t,o),!(t.mouse.y>i.size.top&&t.mouse.y<o.size.bottom))return null;for(var l,u,d,h,a=Number.MAX_VALUE;o&&!o.equals(i)&&(u=i.getNext(t.isRelevant));)l=Math.abs(r(t,i,u)-t.mouse.y),a>l&&(a=l,d=i,h=u),i=u,y(t,i);return d&&h&&t.mouse.y>d.size.top&&t.mouse.y<h.size.bottom?(s.upper=d,s.lower=h,s.set(K,A)):null}function n(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||G(t)||d(t)||u(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(n){var r,i=t(n);if(r=i){r=i.upper;var o=i.lower;r=!r||!o||d(o)||d(r)||o.equals(r)||r.equals(o)||o.contains(r)||r.contains(o)?!1:f(n,r)&&f(n,o)&&e(n,r,o)?!0:!1}return r?i:null}}(),Q=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],n=["style","className"],r=0;r<n.length;r++){var i=e.$.elements.namedItem(n[r]);i&&(i=new CKEDITOR.dom.element(i),t.push([i,i.nextSibling]),i.remove())}return t}function t(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&t.length>0)for(var n=t.length-1;n>=0;n--){var r=t[n][0],i=t[n][1];i?r.insertBefore(i):r.appendTo(e)}}function n(n,r){var i=e(n),o={},s=n.$;return r||(o["class"]=s.className||"",s.className=""),o.inline=s.style.cssText||"",r||(s.style.cssText="position: static; overflow: visible"),t(i),o}function r(n,r){var i=e(n),o=n.$;"class"in r&&(o.className=r["class"]),"inline"in r&&(o.style.cssText=r.inline),t(i)}function i(e){if(!e.editable().isInline()){var t,n=CKEDITOR.instances;for(t in n){var r=n[t];"wysiwyg"!=r.mode||r.readOnly||(r=r.document.getBody(),
r.setAttribute("contentEditable",!1),r.setAttribute("contentEditable",!0))}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{init:function(e){function t(){var t=c.getViewPaneSize();e.resize(t.width,t.height,null,!0)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o,s,a,l=e.lang,u=CKEDITOR.document,c=u.getWindow(),d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var h=e.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}),f=e.ui.space("contents");if("wysiwyg"==e.mode){var p=e.getSelection();o=p&&p.getRanges(),s=c.getScrollPosition()}else{var m=e.editable().$;o=!CKEDITOR.env.ie&&[m.selectionStart,m.selectionEnd],s=[m.scrollLeft,m.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(c.on("resize",t),a=c.getScrollPosition(),p=e.container;p=p.getParent();)p.setCustomData("maximize_saved_styles",n(p)),p.setStyle("z-index",e.config.baseFloatZIndex-5);f.setCustomData("maximize_saved_styles",n(f,!0)),h.setCustomData("maximize_saved_styles",n(h,!0)),f={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},u.getDocumentElement().setStyles(f),!CKEDITOR.env.gecko&&u.getDocumentElement().setStyle("position","fixed"),(!CKEDITOR.env.gecko||!CKEDITOR.env.quirks)&&u.getBody().setStyles(f),CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(0,0)},0):c.$.scrollTo(0,0),h.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),h.$.offsetLeft,h.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"}),h.addClass("cke_maximized"),t(),f=h.getDocumentPosition(),h.setStyles({left:-1*f.x+"px",top:-1*f.y+"px"}),CKEDITOR.env.gecko&&i(e)}else if(this.state==CKEDITOR.TRISTATE_ON){for(c.removeListener("resize",t),f=[f,h],p=0;p<f.length;p++)r(f[p],f[p].getCustomData("maximize_saved_styles")),f[p].removeCustomData("maximize_saved_styles");for(p=e.container;p=p.getParent();)r(p,p.getCustomData("maximize_saved_styles")),p.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(a.x,a.y)},0):c.$.scrollTo(a.x,a.y),h.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(h.setStyle("display","inline"),setTimeout(function(){h.setStyle("display","block")},0)),e.fire("resize")}this.toggleState(),(p=this.uiItems[0])&&(f=this.state==CKEDITOR.TRISTATE_OFF?l.maximize.maximize:l.maximize.minimize,p=CKEDITOR.document.getById(p._.id),p.getChild(1).setHtml(f),p.setAttribute("title",f),p.setAttribute("href",'javascript:void("'+f+'");')),"wysiwyg"==e.mode?o?(CKEDITOR.env.gecko&&i(e),e.getSelection().selectRanges(o),(m=e.getSelection().getStartElement())&&m.scrollIntoView(!0)):c.$.scrollTo(s.x,s.y):(o&&(m.selectionStart=o[0],m.selectionEnd=o[1]),m.scrollLeft=s[0],m.scrollTop=s[1]),o=s=null,d=this.state,e.fire("maximize",this.state)},canUndo:!1}),e.ui.addButton&&e.ui.addButton("Maximize",{label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),e.on("mode",function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)},null,null,100)}}})}(),function(){function e(e,t,n){var r=CKEDITOR.cleanWord;return r?n():(e=CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile||t+"filter/default.js"),CKEDITOR.scriptLoader.load(e,n,null,!0)),!r}function t(e){e.data.type="html"}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(n){var r=0,i=this.path;n.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(e){var n=this;r=1,e.once("beforePaste",t),e.getClipboardData({title:e.lang.pastefromword.title},function(t){t&&e.fire("paste",{type:"html",dataValue:t.dataValue}),e.fire("afterCommandExec",{name:"pastefromword",command:n,returnValue:!!t})})}}),n.ui.addButton&&n.ui.addButton("PasteFromWord",{label:n.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),n.on("pasteState",function(e){n.getCommand("pastefromword").setState(e.data)}),n.on("paste",function(t){var o=t.data,s=o.dataValue;if(s&&(r||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(s))){var a=e(n,i,function(){a?n.fire("paste",o):(!n.config.pasteFromWordPromptCleanup||r||confirm(n.lang.pastefromword.confirmCleanup))&&(o.dataValue=CKEDITOR.cleanWord(s,n)),r=0});a&&t.cancel()}},null,null,3)}})}(),function(){var e={canUndo:!1,async:!0,exec:function(t){t.getClipboardData({title:t.lang.pastetext.title},function(n){n&&t.fire("paste",{type:"text",dataValue:n.dataValue}),t.fire("afterCommandExec",{name:"pastetext",command:e,returnValue:!!n})})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){t.addCommand("pastetext",e),t.ui.addButton&&t.ui.addButton("PasteText",{label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),t.config.forcePasteAsPlainText&&t.on("beforePaste",function(e){"html"!=e.data.type&&(e.data.type="text")}),t.on("pasteState",function(e){t.getCommand("pastetext").setState(e.data)})}})}(),CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(e){for(var t,n=e._.removeFormatRegex||(e._.removeFormatRegex=RegExp("^(?:"+e.config.removeFormatTags.replace(/,/g,"|")+")$","i")),r=e._.removeAttributes||(e._.removeAttributes=e.config.removeFormatAttributes.split(",")),i=CKEDITOR.plugins.removeformat.filter,o=e.getSelection().getRanges(),s=o.createIterator(),a=function(e){return e.type==CKEDITOR.NODE_ELEMENT};t=s.getNextRange();){t.collapsed||t.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=t.createBookmark(),u=l.startNode,c=l.endNode,d=function(t){for(var r,o=e.elementPath(t),s=o.elements,a=1;(r=s[a])&&(!r.equals(o.block)&&!r.equals(o.blockLimit));a++)n.test(r.getName())&&i(e,r)&&t.breakParent(r)};if(d(u),c)for(d(c),u=u.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);u&&!u.equals(c);)if(u.isReadOnly()){if(u.getPosition(c)&CKEDITOR.POSITION_CONTAINS)break;u=u.getNext(a)}else d=u.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==u.getName()&&u.data("cke-realelement")||!i(e,u)||(n.test(u.getName())?u.remove(1):(u.removeAttributes(r),e.fire("removeFormatCleanup",u))),u=d;t.moveToBookmark(l)}e.forceNextSelectionCheck(),e.getSelection().selectRanges(o)}}},filter:function(e,t){for(var n=e._.removeFormatFilters||[],r=0;r<n.length;r++)if(n[r](t)===!1)return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(e){function t(t){var n=r,l=i,c=n+(t.data.$.screenX-o)*("rtl"==u?-1:1),t=l+(t.data.$.screenY-s);d&&(n=Math.max(a.resize_minWidth,Math.min(c,a.resize_maxWidth))),h&&(l=Math.max(a.resize_minHeight,Math.min(t,a.resize_maxHeight))),e.resize(d?n:null,l)}function n(){CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),e.document&&(e.document.removeListener("mousemove",t),e.document.removeListener("mouseup",n))}var r,i,o,s,a=e.config,l=e.ui.spaceId("resizer"),u=e.element?e.element.getDirection(1):"ltr";if(!a.resize_dir&&(a.resize_dir="vertical"),void 0===a.resize_maxWidth&&(a.resize_maxWidth=3e3),void 0===a.resize_maxHeight&&(a.resize_maxHeight=3e3),void 0===a.resize_minWidth&&(a.resize_minWidth=750),void 0===a.resize_minHeight&&(a.resize_minHeight=250),a.resize_enabled!==!1){var c=null,d=("both"==a.resize_dir||"horizontal"==a.resize_dir)&&a.resize_minWidth!=a.resize_maxWidth,h=("both"==a.resize_dir||"vertical"==a.resize_dir)&&a.resize_minHeight!=a.resize_maxHeight,f=CKEDITOR.tools.addFunction(function(l){c||(c=e.getResizable()),r=c.$.offsetWidth||0,i=c.$.offsetHeight||0,o=l.screenX,s=l.screenY,a.resize_minWidth>r&&(a.resize_minWidth=r),a.resize_minHeight>i&&(a.resize_minHeight=i),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),e.document&&(e.document.on("mousemove",t),e.document.on("mouseup",n)),l.preventDefault&&l.preventDefault()});e.on("destroy",function(){CKEDITOR.tools.removeFunction(f)}),e.on("uiSpace",function(t){if("bottom"==t.data.space){var n="";d&&!h&&(n=" cke_resizer_horizontal"),!d&&h&&(n=" cke_resizer_vertical");var r='<span id="'+l+'" class="cke_resizer'+n+" cke_resizer_"+u+'" title="'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+f+', event)">'+("ltr"==u?"◢":"◣")+"</span>";t.data.html="ltr"==u&&"ltr"==n?t.data.html+r:r+t.data.html}},e,null,100),e.on("maximize",function(t){e.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var t=this._,n=t.menu;t.state!==CKEDITOR.TRISTATE_DISABLED&&(t.on&&n?n.hide():(t.previousState=t.state,n||(n=t.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}}),n.onHide=CKEDITOR.tools.bind(function(){var n=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!n||n[e.mode]?t.previousState:CKEDITOR.TRISTATE_DISABLED),t.on=0},this),this.onMenu&&n.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),t.on=1,setTimeout(function(){n.show(CKEDITOR.document.getById(t.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow=!0,this.click=e},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",init:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.bindEvents(e),this.parseConfig(e),this.addRule(e),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(e);var r=e.lang.scayt,i=CKEDITOR.env;e.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:r.text_title,title:e.plugins.wsc?e.lang.wsc.title:r.text_title,modes:{wysiwyg:!(i.ie&&(i.version<8||i.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=e.ui.instances.Scayt.getState();e.scayt&&(t=n.state[e.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.fire("scaytButtonState",t)},onRender:function(){var t=this;e.on("scaytButtonState",function(e){void 0!==typeof e.data&&t.setState(e.data)})},onMenu:function(){var t=e.scayt;return e.getMenuItem("scaytToggle").label=e.lang.scayt[t&&n.state[e.name]?"btn_disable":"btn_enable"],t={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:e.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED},e.config.scayt_uiTabs[0]||delete t.scaytOptions,e.config.scayt_uiTabs[1]||delete t.scaytLangs,e.config.scayt_uiTabs[2]||delete t.scaytDict,t}}),e.contextMenu&&e.addMenuItems&&(e.contextMenu.addListener(function(){var n,r=e.scayt;if(r){var i=r.getSelectionNode();(i=i?i.getAttribute(r.getNodeAttribute()):i)&&(n=t.menuGenerator(e,i,t),r.showBanner("."+e.contextMenu._.definition.panel.className.split(" ").join(" .")))}return n}),e.contextMenu._.onHide=CKEDITOR.tools.override(e.contextMenu._.onHide,function(t){return function(){var n=e.scayt;return n&&n.hideBanner(),t.apply(this)}}))},addMenuItems:function(e){var t=this,n=CKEDITOR.plugins.scayt;e.addMenuGroup("scaytButton");var r=e.config.scayt_contextMenuItemsOrder.split("|");if(r&&r.length)for(var i=0;i<r.length;i++)e.addMenuGroup("scayt_"+r[i],i-10);r={scaytToggle:{label:e.lang.scayt.btn_enable,group:"scaytButton",onClick:function(){var t=e.scayt;n.state[e.name]=!n.state[e.name],n.state[e.name]===!0?t||n.createScayt(e):t&&n.destroy(e)}},scaytAbout:{label:e.lang.scayt.btn_about,group:"scaytButton",onClick:function(){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}},scaytOptions:{label:e.lang.scayt.btn_options,group:"scaytButton",onClick:function(){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)}},scaytLangs:{label:e.lang.scayt.btn_langs,group:"scaytButton",onClick:function(){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)}},scaytDict:{label:e.lang.scayt.btn_dictionaries,group:"scaytButton",onClick:function(){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)}}},e.plugins.wsc&&(r.WSC={label:e.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,n=e.scayt,r=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(r=r.replace(/\s/g,""))?(n&&t.state[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0),e.lockSelection(),e.execCommand("checkspell")):alert("Nothing to check!")}}),e.addMenuItems(r)},bindEvents:function(e){function t(){var t=e.scayt;t&&(t.removeMarkupInSelectionNode(),t.fire("startSpellCheck"))}var n=CKEDITOR.plugins.scayt,r=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE;CKEDITOR.on("dialogDefinition",function(e){"scaytDialog"===e.data.name&&e.data.definition.dialog.on("cancel",function(){return!1},this,null,-1)});var i=function(){e.scayt&&n.destroy(e)},o=function(){n.state[e.name]&&!e.readOnly&&n.createScayt(e)},s=function(){var t=e.editable();t.attachListener(t,"focus",function(){var t,n,i=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[e.name]&&e.scayt;if((r||i)&&e._.savedSelection)for(var i=e._.savedSelection.getSelectedElement(),i=!i&&e._.savedSelection.getRanges(),o=0;o<i.length;o++)n=i[o],t=n.startContainer.getText().length,(t<n.startOffset||t<n.endOffset)&&e.unlockSelection(!1)},this,null,-10)},a=function(){r?(e.on("blur",i),e.on("focus",o),e.focusManager.hasFocus&&o()):o(),s()};e.on("contentDom",a),e.on("beforeCommandExec",function(t){var r;t.data.name in n.options.disablingCommandExec&&"wysiwyg"==e.mode?(r=e.scayt)&&(n.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):("bold"===t.data.name||"italic"===t.data.name||"underline"===t.data.name||"strike"===t.data.name||"subscript"===t.data.name||"superscript"===t.data.name)&&(r=e.scayt)&&(r.removeMarkupInSelectionNode(),setTimeout(function(){r.fire("startSpellCheck")},0))}),e.on("beforeSetMode",function(t){"source"==t.data&&((t=e.scayt)&&(n.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),e.document&&(e.document.getBody().removeAttribute("_jquid"),e.document.getBody().removeAttribute("dir")))}),e.on("afterCommandExec",function(t){var n;"wysiwyg"!=e.mode||"undo"!=t.data.name&&"redo"!=t.data.name||(n=e.scayt)&&setTimeout(function(){n.fire("startSpellCheck")},250)}),e.on("readOnly",function(t){var r;t&&(r=e.scayt,t.editor.readOnly===!0?r&&r.fire("removeMarkupInDocument",{}):r?r.fire("startSpellCheck"):"wysiwyg"==t.editor.mode&&n.state[t.editor.name]===!0&&(n.createScayt(e),t.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),e.on("beforeDestroy",i),e.on("setData",function(){i(),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&a()},this,null,50),e.on("insertElement",function(){CKEDITOR.env.ie?setTimeout(function(){t()},50):t()},this,null,50),e.on("insertHtml",function(){t()},this,null,50),e.on("insertText",function(){t()},this,null,50),e.on("scaytDialogShown",function(t){t.data.selectPage(e.scayt.tabToOpen)})},parseConfig:function(e){var t=CKEDITOR.plugins.scayt;if(t.replaceOldOptionsNames(e.config),"boolean"!=typeof e.config.scayt_autoStartup&&(e.config.scayt_autoStartup=!1),t.state[e.name]=e.config.scayt_autoStartup,e.config.scayt_contextCommands||(e.config.scayt_contextCommands="ignore|ignoreall|add"),e.config.scayt_contextMenuItemsOrder||(e.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),e.config.scayt_sLang||(e.config.scayt_sLang="en_US"),(void 0===e.config.scayt_maxSuggestions||"number"!=typeof e.config.scayt_maxSuggestions||e.config.scayt_maxSuggestions<0)&&(e.config.scayt_maxSuggestions=5),(void 0===e.config.scayt_customDictionaryIds||"string"!=typeof e.config.scayt_customDictionaryIds)&&(e.config.scayt_customDictionaryIds=""),(void 0===e.config.scayt_userDictionaryName||"string"!=typeof e.config.scayt_userDictionaryName)&&(e.config.scayt_userDictionaryName=null),"string"==typeof e.config.scayt_uiTabs&&3===e.config.scayt_uiTabs.split(",").length){var n=[],r=[];e.config.scayt_uiTabs=e.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(e.config.scayt_uiTabs,function(e){1===Number(e)||0===Number(e)?(r.push(!0),n.push(Number(e))):r.push(!1)}),e.config.scayt_uiTabs=null===CKEDITOR.tools.search(r,!1)?n:[1,1,1]}else e.config.scayt_uiTabs=[1,1,1];if("string"!=typeof e.config.scayt_serviceProtocol&&(e.config.scayt_serviceProtocol=null),"string"!=typeof e.config.scayt_serviceHost&&(e.config.scayt_serviceHost=null),"string"!=typeof e.config.scayt_servicePort&&(e.config.scayt_servicePort=null),"string"!=typeof e.config.scayt_servicePath&&(e.config.scayt_servicePath=null),e.config.scayt_moreSuggestions||(e.config.scayt_moreSuggestions="on"),"string"!=typeof e.config.scayt_customerId&&(e.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof e.config.scayt_srcUrl&&(t=document.location.protocol,t=-1!=t.search(/https?:/)?t:"http:",e.config.scayt_srcUrl=t+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),e.config.scayt_disableOptionsStorage){var t=CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage)?e.config.scayt_disableOptionsStorage:"string"==typeof e.config.scayt_disableOptionsStorage?[e.config.scayt_disableOptionsStorage]:void 0,i=["all","options","lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],o=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,a=CKEDITOR.tools.indexOf;e.config.scayt_disableOptionsStorage=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],l=!!s(e,"options");if(!s(i,r)||l&&s(o,function(e){return"lang"===e?!1:void 0}))return;if(s(o,r)&&o.splice(a(o,r),1),"all"===r||l&&s(e,"lang"))return[];"options"===r&&(o=["lang"])}return t=t.concat(o)}(t)}},addRule:function(e){var t=e.dataProcessor,n=t&&t.htmlFilter,r=e._.elementsPath&&e._.elementsPath.filters,t=t&&t.dataFilter,i=e.addRemoveFormatFilter,o=function(t){var n=CKEDITOR.plugins.scayt;return e.scayt&&t.hasAttribute(n.options.data_attribute_name)?!1:void 0},s=function(t){var n=CKEDITOR.plugins.scayt,r=!0;return e.scayt&&t.hasAttribute(n.options.data_attribute_name)&&(r=!1),r};r&&r.push(o),t&&t.addRules({elements:{span:function(t){var n=CKEDITOR.plugins.scayt;return n&&n.state[e.name]&&t.classes&&CKEDITOR.tools.search(t.classes,n.options.misspelled_word_class)&&(t.classes&&t.parent.type===CKEDITOR.NODE_DOCUMENT_FRAGMENT?(delete t.attributes.style,delete t.name):delete t.classes[CKEDITOR.tools.indexOf(t.classes,n.options.misspelled_word_class)]),t}}}),n&&n.addRules({elements:{span:function(t){var n=CKEDITOR.plugins.scayt;return n&&n.state[e.name]&&t.hasClass(n.options.misspelled_word_class)&&t.attributes[n.options.data_attribute_name]&&(t.removeClass(n.options.misspelled_word_class),delete t.attributes[n.options.data_attribute_name],delete t.name),t}}}),i&&i.call(e,s)},scaytMenuDefinition:function(e){var t=this,e=e.scayt;return{scayt_ignore:{label:e.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(e){e.scayt.ignoreWord()}},scayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(e){e.scayt.ignoreAllWords()}},scayt_add:{label:e.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(e){var t=e.scayt;setTimeout(function(){t.addWordToUserDictionary()},10)}},option:{label:e.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[0]?!0:!1}},language:{label:e.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[1]?!0:!1}},dictionary:{label:e.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[2]?!0:!1}},about:{label:e.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}}},buildSuggestionMenuItems:function(e,t){var n={},r={},i=e.scayt;if(t.length>0&&"no_any_suggestions"!==t[0])for(var o=0;o<t.length;o++){var s="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[o].replace(" ","_");e.addCommand(s,this.createCommand(CKEDITOR.plugins.scayt.suggestions[o])),o<e.config.scayt_maxSuggestions?(e.addMenuItem(s,{label:t[o],command:s,group:"scayt_suggest",order:o+1}),n[s]=CKEDITOR.TRISTATE_OFF):(e.addMenuItem(s,{label:t[o],command:s,group:"scayt_moresuggest",order:o+1}),r[s]=CKEDITOR.TRISTATE_OFF,"on"===e.config.scayt_moreSuggestions&&(e.addMenuItem("scayt_moresuggest",{label:i.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return r}}),n.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else n.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,e.addCommand("no_scayt_suggest",{exec:function(){}}),e.addMenuItem("no_scayt_suggest",{label:i.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return n},menuGenerator:function(e,t){var n=e.scayt,r=this.scaytMenuDefinition(e),i={},o=e.config.scayt_contextCommands.split("|");if(n.fire("getSuggestionsList",{lang:n.getLang(),word:t}),i=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions),"off"==e.config.scayt_contextCommands)return i;for(var s in r)(-1!=CKEDITOR.tools.indexOf(o,s.replace("scayt_",""))||"all"==e.config.scayt_contextCommands)&&(i[s]=CKEDITOR.TRISTATE_OFF,"function"==typeof r[s].verification&&!r[s].verification(e)&&delete i[s],e.addCommand(s,{exec:r[s].exec}),e.addMenuItem(s,{label:e.lang.scayt[r[s].label]||r[s].label,command:s,group:r[s].group,order:r[s].order}));return i},createCommand:function(e){return{exec:function(t){t.scayt.replaceSelectionNode({word:e})}}}}),CKEDITOR.plugins.scayt={state:{},suggestions:[],loadingHelper:{loadOrder:[]},isLoading:!1,options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},replaceOldOptionsNames:function(e){for(var t in e)t in this.backCompatibilityMap&&(e[this.backCompatibilityMap[t]]=e[t],delete e[t])},createScayt:function(e){var t=this;this.loadScaytLibrary(e,function(e){var n={lang:e.config.scayt_sLang,container:"BODY"==e.editable().$.nodeName?e.document.getWindow().$.frameElement:e.editable().$,customDictionary:e.config.scayt_customDictionaryIds,userDictionaryName:e.config.scayt_userDictionaryName,localization:e.langCode,customer_id:e.config.scayt_customerId,debug:e.config.scayt_debug,data_attribute_name:t.options.data_attribute_name,misspelled_word_class:t.options.misspelled_word_class,"options-to-restore":e.config.scayt_disableOptionsStorage,focused:e.editable().hasFocus,ignoreElementsRegex:e.config.scayt_elementsToIgnore};e.config.scayt_serviceProtocol&&(n.service_protocol=e.config.scayt_serviceProtocol),e.config.scayt_serviceHost&&(n.service_host=e.config.scayt_serviceHost),e.config.scayt_servicePort&&(n.service_port=e.config.scayt_servicePort),e.config.scayt_servicePath&&(n.service_path=e.config.scayt_servicePath),n=new SCAYT.CKSCAYT(n,function(){},function(){}),n.subscribe("suggestionListSend",function(e){for(var t={},n=[],r=0;r<e.suggestionList.length;r++)t["word_"+e.suggestionList[r]]||(t["word_"+e.suggestionList[r]]=e.suggestionList[r],n.push(e.suggestionList[r]));CKEDITOR.plugins.scayt.suggestions=n}),e.scayt=n,e.fire("scaytButtonState",e.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)})},destroy:function(e){e.scayt&&e.scayt.destroy(),delete e.scayt,e.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(e,t){var n=this;"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(this.loadingHelper[e.name]=t,this.loadingHelper.loadOrder.push(e.name),CKEDITOR.scriptLoader.load(e.config.scayt_srcUrl,function(){var e;CKEDITOR.fireOnce("scaytReady");for(var t=0;t<n.loadingHelper.loadOrder.length;t++)e=n.loadingHelper.loadOrder[t],"function"==typeof n.loadingHelper[e]&&n.loadingHelper[e](CKEDITOR.instances[e]),delete n.loadingHelper[e];n.loadingHelper.loadOrder=[]})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&(CKEDITOR.fireOnce("scaytReady"),e.scayt||"function"==typeof t&&t(e))}},CKEDITOR.on("scaytReady",function(){if(CKEDITOR.config.scayt_handleCheckDirty===!0){var e=CKEDITOR.editor.prototype;e.checkDirty=CKEDITOR.tools.override(e.checkDirty,function(e){return function(){var t=null,n=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[this.name]&&this.scayt){if(t="ready"==this.status)var r=n.removeMarkupFromString(this.getSnapshot()),n=n.removeMarkupFromString(this._.previousValue),t=t&&n!==r}else t=e.call(this);return t}}),e.resetDirty=CKEDITOR.tools.override(e.resetDirty,function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}})}if(CKEDITOR.config.scayt_handleUndoRedo===!0){var e=CKEDITOR.plugins.undo.Image.prototype,t="function"==typeof e.equalsContent?"equalsContent":"equals";e[t]=CKEDITOR.tools.override(e[t],function(e){return function(t){var n=t.editor.scayt,r=this.contents,i=t.contents,o=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[t.editor.name]&&t.editor.scayt&&(this.contents=n.removeMarkupFromString(r)||"",t.contents=n.removeMarkupFromString(i)||""),o=e.apply(this,arguments),this.contents=r,t.contents=i,o}})}}),function(){var e={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(e){this.toggleState(),this.refresh(e)},refresh:function(e){if(e.document){var t=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";e.editable()[t]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var e;e=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:[".%1 table.%2,",".%1 table.%2 > tr > td, .%1 table.%2 > tr > th,",".%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,",".%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,",".%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th","{","border : #d3d3d3 1px dotted","}"]).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(e)},init:function(t){var n=t.addCommand("showborders",e);n.canUndo=!1,t.config.startupShowBorders!==!1&&n.setState(CKEDITOR.TRISTATE_ON),t.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)},null,null,100),t.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),t.on("removeFormatCleanup",function(e){e=e.data,t.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&e.is("table")&&(!e.hasAttribute("border")||parseInt(e.getAttribute("border"),10)<=0)&&e.addClass("cke_show_border")})},afterInit:function(e){var t=e.dataProcessor,e=t&&t.dataFilter,t=t&&t.htmlFilter;e&&e.addRules({elements:{table:function(e){var e=e.attributes,t=e["class"],n=parseInt(e.border,10);n&&!(0>=n)||t&&-1!=t.indexOf("cke_show_border")||(e["class"]=(t||"")+" cke_show_border")}}}),t&&t.addRules({elements:{table:function(e){var e=e.attributes,t=e["class"];t&&(e["class"]=t.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;("table"==t||"tableProperties"==t)&&(e=e.data.definition,t=e.getContents("info").get("txtBorder"),t.commit=CKEDITOR.tools.override(t.commit,function(e){return function(t,n){e.apply(this,arguments);var r=parseInt(this.getValue(),10);n[!r||0>=r?"addClass":"removeClass"]("cke_show_border")}}),(e=(e=e.getContents("advanced"))&&e.get("advCSSClasses"))&&(e.setup=CKEDITOR.tools.override(e.setup,function(e){return function(){e.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),e.commit=CKEDITOR.tools.override(e.commit,function(e){return function(t,n){e.apply(this,arguments),parseInt(n.getAttribute("border"),10)||n.addClass("cke_show_border")}})))})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(t){function n(){var e=i&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),e&&this.focus()}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var r=CKEDITOR.plugins.sourcearea;t.addMode("source",function(r){var i=t.ui.space("contents").getDocument().createElement("textarea");i.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",t.config.sourceAreaTabSize||4))),i.setAttribute("dir","ltr"),i.addClass("cke_source cke_reset cke_enable_context_menu"),t.ui.space("contents").append(i),i=t.editable(new e(t,i)),i.setData(t.getData(1)),CKEDITOR.env.ie&&(i.attachListener(t,"resize",n,i),i.attachListener(CKEDITOR.document.getWindow(),"resize",n,i),CKEDITOR.tools.setTimeout(n,0,i)),t.fire("ariaWidget",this),r()}),t.addCommand("source",r.commands.source),t.ui.addButton&&t.ui.addButton("Source",{label:t.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),t.on("mode",function(){t.getCommand("source").setState("source"==t.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var i=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var e=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(e){this.setValue(e),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(e){this[(e?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){e.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(e){"wysiwyg"==e.mode&&e.fire("saveSnapshot"),e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),e.setMode("source"==e.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var t=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),
e.addCommand("specialchar",{exec:function(){var n=e.langCode,n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,t.langEntries[n]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(e){var t=e.config,n=e.lang.stylescombo,r={},i=[],o=[];e.on("stylesSet",function(n){if(n=n.data.styles){for(var s,a,l,u=0,c=n.length;c>u;u++)s=n[u],e.blockless&&s.element in CKEDITOR.dtd.$block||(a=s.name,s=new CKEDITOR.style(s),(!e.filter.customConfig||e.filter.check(s))&&(s._name=a,s._.enterMode=t.enterMode,s._.type=l=s.assignedTo||s.type,s._.weight=u+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),r[a]=s,i.push(s),o.push(s)));i.sort(function(e,t){return e._.weight-t._.weight})}}),e.ui.addRichCombo("Styles",{label:n.label,title:n.panelTitle,toolbar:"styles,10",allowedContent:o,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!0,attributes:{"aria-label":n.panelTitle}},init:function(){var e,t,r,o,s,a;for(s=0,a=i.length;a>s;s++)e=i[s],t=e._name,o=e._.type,o!=r&&(this.startGroup(n["panelTitle"+o]),r=o),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(t){e.focus(),e.fire("saveSnapshot");var t=r[t],n=e.elementPath();e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",function(t){for(var n,i=this.getValue(),t=t.data.path.elements,o=0,s=t.length;s>o;o++){n=t[o];for(var a in r)if(r[a].checkElementRemovable(n,!0,e))return void(a!=i&&this.setValue(a))}this.setValue("")},this)},onOpen:function(){var t=e.getSelection().getSelectedElement(),t=e.elementPath(t),i=[0,0,0,0];this.showAll(),this.unmarkAll();for(var o in r){var s=r[o],a=s._.type;s.checkApplicable(t,e,e.activeFilter)?i[a]++:this.hideItem(o),s.checkActive(t,e)&&this.mark(o)}i[CKEDITOR.STYLE_BLOCK]||this.hideGroup(n["panelTitle"+CKEDITOR.STYLE_BLOCK]),i[CKEDITOR.STYLE_INLINE]||this.hideGroup(n["panelTitle"+CKEDITOR.STYLE_INLINE]),i[CKEDITOR.STYLE_OBJECT]||this.hideGroup(n["panelTitle"+CKEDITOR.STYLE_OBJECT])},refresh:function(){var t=e.elementPath();if(t){for(var n in r)if(r[n].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){r={},i=[]}})}})}(),function(){function e(e){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var n,r=t.getSelection();if(n=new CKEDITOR.dom.elementPath(r.getCommonAncestor(),r.root).contains({td:1,th:1},1)){var r=t.createRange(),i=CKEDITOR.tools.tryThese(function(){var t=n.getParent().$.cells[n.$.cellIndex+(e?-1:1)];return t.parentNode.parentNode,t},function(){var t=n.getParent(),t=t.getAscendant("table").$.rows[t.$.rowIndex+(e?-1:1)];return t.cells[e?t.cells.length-1:0]});if(i||e){if(!i)return!0;i=new CKEDITOR.dom.element(i),r.moveToElementEditStart(i),(!r.checkStartOfBlock()||!r.checkEndOfBlock())&&r.selectNodeContents(i)}else{for(var o=n.getAscendant("table").$,i=n.getParent().$.cells,o=new CKEDITOR.dom.element(o.insertRow(-1),t.document),s=0,a=i.length;a>s;s++)o.append(new CKEDITOR.dom.element(i[s],t.document).clone(!1,!1)).appendBogus();r.moveToElementEditStart(o)}return r.select(!0),!0}}return!1}}}var t={editorFocus:!1,modes:{wysiwyg:1,source:1}},n={exec:function(e){e.container.focusNext(!0,e.tabIndex)}},r={exec:function(e){e.container.focusPrevious(!0,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(i){for(var o=i.config.enableTabKeyTools!==!1,s=i.config.tabSpaces||0,a="";s--;)a+=" ";a&&i.on("key",function(e){9==e.data.keyCode&&(i.insertText(a),e.cancel())}),o&&i.on("key",function(e){(9==e.data.keyCode&&i.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&i.execCommand("selectPreviousCell"))&&e.cancel()}),i.addCommand("blur",CKEDITOR.tools.extend(n,t)),i.addCommand("blurBack",CKEDITOR.tools.extend(r,t)),i.addCommand("selectNextCell",e()),i.addCommand("selectPreviousCell",e(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var n,r,i,o,s,a,l=void 0===t?this.getTabIndex():t;if(0>=l)for(s=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);s;){if(s.isVisible()&&0===s.getTabIndex()){i=s;break}s=s.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(s=this.getDocument().getBody().getFirst();s=s.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!r&&s.equals(this)){if(r=!0,e){if(!(s=s.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else r&&!this.contains(s)&&(n=1);if(s.isVisible()&&!((a=s.getTabIndex())<0)){if(n&&a==l){i=s;break}a>l&&(!i||!o||o>a)?(i=s,o=a):i||0!==a||(i=s,o=a)}}i&&i.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var n,r,i,o,s=void 0===t?this.getTabIndex():t,a=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!r&&l.equals(this)){if(r=!0,e){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else r&&!this.contains(l)&&(n=1);if(l.isVisible()&&!((o=l.getTabIndex())<0))if(0>=s){if(n&&0===o){i=l;break}o>a&&(i=l,a=o)}else{if(n&&o==s){i=l;break}s>o&&(!i||o>a)&&(i=l,a=o)}}i&&i.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var n=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"]]})),e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t())),e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var n=t.getParent(),r=e.editable();1==n.getChildCount()&&!n.is("td","th")&&!n.equals(r)&&(t=n),e=e.createRange(),e.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove(),e.select()}}})),e.ui.addButton&&e.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),e.addMenuItems&&e.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),e.on("doubleclick",function(e){e.data.element.is("table")&&(e.data.dialog="tableProperties")}),e.contextMenu&&e.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function e(e){function t(e){n.length>0||e.type!=CKEDITOR.NODE_ELEMENT||!h.test(e.getName())||e.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,e,"selected_cell",!0),n.push(e))}for(var e=e.getRanges(),n=[],r={},i=0;i<e.length;i++){var o=e[i];if(o.collapsed)o=o.getCommonAncestor(),(o=o.getAscendant("td",!0)||o.getAscendant("th",!0))&&n.push(o);else{var s,o=new CKEDITOR.dom.walker(o);for(o.guard=t;s=o.next();)s.type==CKEDITOR.NODE_ELEMENT&&s.is(CKEDITOR.dtd.table)||(s=s.getAscendant("td",!0)||s.getAscendant("th",!0))&&!s.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(r,s,"selected_cell",!0),n.push(s))}}return CKEDITOR.dom.element.clearAllMarkers(r),n}function t(t,n){for(var r=e(t),i=r[0],o=i.getAscendant("table"),i=i.getDocument(),s=r[0].getParent(),a=s.$.rowIndex,r=r[r.length-1],l=r.getParent().$.rowIndex+r.$.rowSpan-1,r=new CKEDITOR.dom.element(o.$.rows[l]),a=n?a:l,s=n?s:r,r=CKEDITOR.tools.buildTableMap(o),o=r[a],a=n?r[a-1]:r[a+1],r=r[0].length,i=i.createElement("tr"),l=0;o[l]&&r>l;l++){var u;o[l].rowSpan>1&&a&&o[l]==a[l]?(u=o[l],u.rowSpan=u.rowSpan+1):(u=new CKEDITOR.dom.element(o[l]).clone(),u.removeAttribute("rowSpan"),u.appendBogus(),i.append(u),u=u.$),l+=u.colSpan-1}n?i.insertBefore(s):i.insertAfter(s)}function n(t){if(t instanceof CKEDITOR.dom.selection){for(var r=e(t),i=r[0].getAscendant("table"),o=CKEDITOR.tools.buildTableMap(i),t=r[0].getParent().$.rowIndex,r=r[r.length-1],s=r.getParent().$.rowIndex+r.$.rowSpan-1,r=[],a=t;s>=a;a++){for(var l=o[a],u=new CKEDITOR.dom.element(i.$.rows[a]),c=0;c<l.length;c++){var d=new CKEDITOR.dom.element(l[c]),h=d.getParent().$.rowIndex;1==d.$.rowSpan?d.remove():(d.$.rowSpan=d.$.rowSpan-1,h==a&&(h=o[a+1],h[c-1]?d.insertAfter(new CKEDITOR.dom.element(h[c-1])):new CKEDITOR.dom.element(i.$.rows[a+1]).append(d,1))),c+=d.$.colSpan-1}r.push(u)}for(o=i.$.rows,i=new CKEDITOR.dom.element(o[s+1]||(t>0?o[t-1]:null)||i.$.parentNode),a=r.length;a>=0;a--)n(r[a]);return i}return t instanceof CKEDITOR.dom.element&&(i=t.getAscendant("table"),1==i.$.rows.length?i.remove():t.remove()),null}function r(e,t){for(var n=t?1/0:0,r=0;r<e.length;r++){var i;i=e[r];for(var o=t,s=i.getParent().$.cells,a=0,l=0;l<s.length;l++){var u=s[l],a=a+(o?1:u.colSpan);if(u==i.$)break}i=a-1,(t?n>i:i>n)&&(n=i)}return n}function i(t,n){for(var i=e(t),o=i[0].getAscendant("table"),s=r(i,1),i=r(i),s=n?s:i,a=CKEDITOR.tools.buildTableMap(o),o=[],i=[],l=a.length,u=0;l>u;u++)o.push(a[u][s]),i.push(n?a[u][s-1]:a[u][s+1]);for(u=0;l>u;u++)o[u]&&(o[u].colSpan>1&&i[u]==o[u]?(s=o[u],s.colSpan=s.colSpan+1):(s=new CKEDITOR.dom.element(o[u]).clone(),s.removeAttribute("colSpan"),s.appendBogus(),s[n?"insertBefore":"insertAfter"].call(s,new CKEDITOR.dom.element(o[u])),s=s.$),u+=s.rowSpan-1)}function o(e,t){var n=e.getStartElement();if(n=n.getAscendant("td",1)||n.getAscendant("th",1)){var r=n.clone();r.appendBogus(),t?r.insertBefore(n):r.insertAfter(n)}}function s(t){if(t instanceof CKEDITOR.dom.selection){var n,t=e(t),r=t[0]&&t[0].getAscendant("table");e:{var i=0;n=t.length-1;for(var o,l,u={};o=t[i++];)CKEDITOR.dom.element.setMarker(u,o,"delete_cell",!0);for(i=0;o=t[i++];)if((l=o.getPrevious())&&!l.getCustomData("delete_cell")||(l=o.getNext())&&!l.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(u),n=l;break e}CKEDITOR.dom.element.clearAllMarkers(u),l=t[0].getParent(),(l=l.getPrevious())?n=l.getLast():(l=t[n].getParent(),n=(l=l.getNext())?l.getChild(0):null)}for(l=t.length-1;l>=0;l--)s(t[l]);n?a(n,!0):r&&r.remove()}else t instanceof CKEDITOR.dom.element&&(r=t.getParent(),1==r.getChildCount()?r.remove():t.remove())}function a(e,t){var n=e.getDocument(),r=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(r.focus(),n.focus()),n=new CKEDITOR.dom.range(n),n["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(t?!1:!0)),n.select(!0)}function l(e,t,n){if(e=e[t],"undefined"==typeof n)return e;for(t=0;e&&t<e.length;t++){if(n.is&&e[t]==n.$)return t;if(t==n)return new CKEDITOR.dom.element(e[t])}return n.is?-1:null}function u(t,n,r){var i,o=e(t);if((n?1!=o.length:o.length<2)||(i=t.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;var s,t=o[0];i=t.getAscendant("table");var a=CKEDITOR.tools.buildTableMap(i),u=a.length,c=a[0].length,d=t.getParent().$.rowIndex,h=l(a,d,t);if(n){var f;try{var p=parseInt(t.getAttribute("rowspan"),10)||1;s=parseInt(t.getAttribute("colspan"),10)||1,f=a["up"==n?d-p:"down"==n?d+p:d]["left"==n?h-s:"right"==n?h+s:h]}catch(m){return!1}if(!f||t.$==f)return!1;o["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(f))}for(var n=t.getDocument(),g=d,p=f=0,v=!r&&new CKEDITOR.dom.documentFragment(n),b=0,n=0;n<o.length;n++){s=o[n];var y=s.getParent(),E=s.getFirst(),_=s.$.colSpan,T=s.$.rowSpan,y=y.$.rowIndex,C=l(a,y,s),b=b+_*T,p=Math.max(p,C-h+_);f=Math.max(f,y-d+T),r||(_=s,(T=_.getBogus())&&T.remove(),_.trim(),s.getChildren().count()&&(y==g||!E||E.isBlockBoundary&&E.isBlockBoundary({br:1})||(g=v.getLast(CKEDITOR.dom.walker.whitespaces(!0)))&&(!g.is||!g.is("br"))&&v.append("br"),s.moveChildren(v)),n?s.remove():s.setHtml("")),g=y}if(r)return f*p==b;for(v.moveChildren(t),t.appendBogus(),p>=c?t.removeAttribute("rowSpan"):t.$.rowSpan=f,f>=u?t.removeAttribute("colSpan"):t.$.colSpan=p,r=new CKEDITOR.dom.nodeList(i.$.rows),o=r.count(),n=o-1;n>=0;n--)i=r.getItem(n),i.$.cells.length||(i.remove(),o++);return t}function c(t,n){var r=e(t);if(r.length>1)return!1;if(n)return!0;var i,r=r[0],o=r.getParent(),s=o.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(s),u=o.$.rowIndex,c=l(a,u,r),d=r.$.rowSpan;if(d>1){i=Math.ceil(d/2);for(var h,d=Math.floor(d/2),o=u+i,s=new CKEDITOR.dom.element(s.$.rows[o]),a=l(a,o),o=r.clone(),u=0;u<a.length;u++){if(h=a[u],h.parentNode==s.$&&u>c){o.insertBefore(new CKEDITOR.dom.element(h));break}h=null}h||s.append(o)}else for(d=i=1,s=o.clone(),s.insertAfter(o),s.append(o=r.clone()),h=l(a,u),c=0;c<h.length;c++)h[c].rowSpan++;return o.appendBogus(),r.$.rowSpan=i,o.$.rowSpan=d,1==i&&r.removeAttribute("rowSpan"),1==d&&o.removeAttribute("rowSpan"),o}function d(t,n){var r=e(t);if(r.length>1)return!1;if(n)return!0;var r=r[0],i=r.getParent(),o=i.getAscendant("table"),o=CKEDITOR.tools.buildTableMap(o),s=l(o,i.$.rowIndex,r),a=r.$.colSpan;if(a>1)i=Math.ceil(a/2),a=Math.floor(a/2);else{for(var a=i=1,u=[],c=0;c<o.length;c++){var d=o[c];u.push(d[s]),d[s].rowSpan>1&&(c+=d[s].rowSpan-1)}for(o=0;o<u.length;o++)u[o].colSpan++}return o=r.clone(),o.insertAfter(r),o.appendBogus(),r.$.colSpan=i,o.$.colSpan=a,1==i&&r.removeAttribute("colSpan"),1==a&&o.removeAttribute("colSpan"),o}var h=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(r){function l(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function h(e,t){var n=r.addCommand(e,t);r.addFeature(n)}var f=r.lang.table;h("cellProperties",new CKEDITOR.dialogCommand("cellProperties",l({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table"}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),h("rowDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection(),a(n(e))}})),h("rowInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),t(e,!0)}})),h("rowInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),t(e)}})),h("columnDelete",l({requiredContent:"table",exec:function(t){for(var n,r,t=t.getSelection(),t=e(t),i=t[0],o=t[t.length-1],t=i.getAscendant("table"),s=CKEDITOR.tools.buildTableMap(t),l=[],u=0,c=s.length;c>u;u++)for(var d=0,h=s[u].length;h>d;d++)s[u][d]==i.$&&(n=d),s[u][d]==o.$&&(r=d);for(u=n;r>=u;u++)for(d=0;d<s.length;d++)o=s[d],i=new CKEDITOR.dom.element(t.$.rows[d]),o=new CKEDITOR.dom.element(o[u]),o.$&&(1==o.$.colSpan?o.remove():o.$.colSpan=o.$.colSpan-1,d+=o.$.rowSpan-1,i.$.cells.length||l.push(i));r=t.$.rows[0]&&t.$.rows[0].cells,n=new CKEDITOR.dom.element(r[n]||(n?r[n-1]:t.$.parentNode)),l.length==c&&t.remove(),n&&a(n,!0)}})),h("columnInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),i(e,!0)}})),h("columnInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),i(e)}})),h("cellDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection(),s(e)}})),h("cellMerge",l({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e){a(u(e.getSelection()),!0)}})),h("cellMergeRight",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){a(u(e.getSelection(),"right"),!0)}})),h("cellMergeDown",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){a(u(e.getSelection(),"down"),!0)}})),h("cellVerticalSplit",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){a(c(e.getSelection()))}})),h("cellHorizontalSplit",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){a(d(e.getSelection()))}})),h("cellInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),o(e,!0)}})),h("cellInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),o(e)}})),r.addMenuItems&&r.addMenuItems({tablecell:{label:f.cell.menu,group:"tablecell",order:1,getItems:function(){var t=r.getSelection(),n=e(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:u(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:u(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:u(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:c(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:d(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:n.length>0?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:f.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:f.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:f.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:f.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:f.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:f.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:f.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:f.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:f.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:f.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:f.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:f.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:f.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:f.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:f.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:f.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:f.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),r.contextMenu&&r.contextMenu.addListener(function(e,t,n){return(e=n.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:e},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e){for(var e=e.$.rows,t=-1,n=[],r=0;r<e.length;r++){t++,!n[t]&&(n[t]=[]);for(var i=-1,o=0;o<e[r].cells.length;o++){var s=e[r].cells[o];for(i++;n[t][i];)i++;for(var a=isNaN(s.colSpan)?1:s.colSpan,s=isNaN(s.rowSpan)?1:s.rowSpan,l=0;s>l;l++){n[t+l]||(n[t+l]=[]);for(var u=0;a>u;u++)n[t+l][i+u]=e[r].cells[o]}i+=a-1}}return n},function(){function e(e){function n(){for(var n=r(),o=CKEDITOR.tools.clone(e.config.toolbarGroups)||t(e),s=0;s<o.length;s++){var a=o[s];if("/"!=a){"string"==typeof a&&(a=o[s]={name:a});var l,u=a.groups;if(u)for(var c=0;c<u.length;c++)l=u[c],(l=n[l])&&i(a,l);(l=n[a.name])&&i(a,l)}}return o}function r(){var t,n,r,i={};for(t in e.ui.items)n=e.ui.items[t],r=n.toolbar||"others",r=r.split(","),n=r[0],r=parseInt(r[1]||-1,10),i[n]||(i[n]=[]),i[n].push({name:t,order:r});for(n in i)i[n]=i[n].sort(function(e,t){return e.order==t.order?0:t.order<0?-1:e.order<0?1:e.order<t.order?-1:1});return i}function i(t,n){if(n.length){t.items?t.items.push(e.ui.create("-")):t.items=[];for(var r;r=n.shift();)r="string"==typeof r?r:r.name,s&&-1!=CKEDITOR.tools.indexOf(s,r)||(r=e.ui.create(r))&&e.addFeature(r)&&t.items.push(r)}}function o(e){var t,n,r,o=[];for(t=0;t<e.length;++t)n=e[t],r={},"/"==n?o.push(n):CKEDITOR.tools.isArray(n)?(i(r,CKEDITOR.tools.clone(n)),o.push(r)):n.items&&(i(r,CKEDITOR.tools.clone(n.items)),r.name=n.name,o.push(r));return o}var s=e.config.removeButtons,s=s&&s.split(","),a=e.config.toolbar;return"string"==typeof a&&(a=e.config["toolbar_"+a]),e.toolbar=a?o(a):n()}function t(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[],this.focusCommandExecuted=!1};n.prototype.focus=function(){for(var e,t=0;e=this.toolbars[t++];)for(var n,r=0;n=e.items[r++];)if(n.focus)return void n.focus()};var r={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){e.toolbox&&(e.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){e.toolbox.focus()},100):e.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(t){var i,o=function(e,n){var r,s="rtl"==t.lang.dir,a=t.config.toolbarGroupCycling,l=s?37:39,s=s?39:37,a=void 0===a||a;switch(n){case 9:case CKEDITOR.SHIFT+9:for(;!r||!r.items.length;)if(r=9==n?(r?r.next:e.toolbar.next)||t.toolbox.toolbars[0]:(r?r.previous:e.toolbar.previous)||t.toolbox.toolbars[t.toolbox.toolbars.length-1],r.items.length)for(e=r.items[i?r.items.length-1:0];e&&!e.focus;)(e=i?e.previous:e.next)||(r=0);return e&&e.focus(),!1;case l:r=e;do r=r.next,!r&&a&&(r=e.toolbar.items[0]);while(r&&!r.focus);return r?r.focus():o(e,9),!1;case 40:return e.button&&e.button.hasArrow?(t.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)}),e.execute()):o(e,40==n?l:s),!1;case s:case 38:r=e;do r=r.previous,!r&&a&&(r=e.toolbar.items[e.toolbar.items.length-1]);while(r&&!r.focus);return r?r.focus():(i=1,o(e,CKEDITOR.SHIFT+9),i=0),!1;case 27:return t.focus(),!1;case 13:case 32:return e.execute(),!1}return!0};t.on("uiSpace",function(r){if(r.data.space==t.config.toolbarLocation){r.removeListener(),t.toolbox=new n;var i,s,a=CKEDITOR.tools.getNextId(),l=['<span id="',a,'" class="cke_voice_label">',t.lang.toolbar.toolbars,"</span>",'<span id="'+t.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',a,'" onmousedown="return false;">'],a=t.config.toolbarStartupExpanded!==!1;t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&l.push('<span class="cke_toolbox_main"'+(a?">":' style="display:none">'));for(var u=t.toolbox.toolbars,c=e(t),d=0;d<c.length;d++){var h,f,p,m=0,g=c[d];if(g)if(i&&(l.push("</span>"),s=i=0),"/"===g)l.push('<span class="cke_toolbar_break"></span>');else{p=g.items||g;for(var v=0;v<p.length;v++){var b,y=p[v];if(y)if(y.type==CKEDITOR.UI_SEPARATOR)s=i&&y;else{if(b=y.canGroup!==!1,!m){h=CKEDITOR.tools.getNextId(),m={id:h,items:[]},f=g.name&&(t.lang.toolbar.toolbarGroups[g.name]||g.name),l.push('<span id="',h,'" class="cke_toolbar"',f?' aria-labelledby="'+h+'_label"':"",' role="toolbar">'),f&&l.push('<span id="',h,'_label" class="cke_voice_label">',f,"</span>"),l.push('<span class="cke_toolbar_start"></span>');var E=u.push(m)-1;E>0&&(m.previous=u[E-1],m.previous.next=m)}b?i||(l.push('<span class="cke_toolgroup" role="presentation">'),i=1):i&&(l.push("</span>"),i=0),h=function(e){e=e.render(t,l),E=m.items.push(e)-1,E>0&&(e.previous=m.items[E-1],e.previous.next=e),e.toolbar=m,e.onkey=o,e.onfocus=function(){t.toolbox.focusCommandExecuted||t.focus()}},s&&(h(s),s=0),h(y)}}i&&(l.push("</span>"),s=i=0),m&&l.push('<span class="cke_toolbar_end"></span></span>')}}if(t.config.toolbarCanCollapse&&l.push("</span>"),t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var _=CKEDITOR.tools.addFunction(function(){t.execCommand("toolbarCollapse")});t.on("destroy",function(){CKEDITOR.tools.removeFunction(_)}),t.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),n=t.getPrevious(),r=e.ui.space("contents"),i=n.getParent(),o=parseInt(r.$.style.height,10),s=i.$.offsetHeight,a=t.hasClass("cke_toolbox_collapser_min");a?(n.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarCollapse)):(n.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarExpand)),t.getFirst().setText(a?"▲":"◀"),r.setStyle("height",o-(i.$.offsetHeight-s)+"px"),e.fire("resize")},modes:{wysiwyg:1,source:1}}),t.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),l.push('<a title="'+(a?t.lang.toolbar.toolbarCollapse:t.lang.toolbar.toolbarExpand)+'" id="'+t.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),a||l.push(" cke_toolbox_collapser_min"),l.push('" onclick="CKEDITOR.tools.callFunction('+_+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}l.push("</span>"),r.data.html=r.data.html+l.join("")}}),t.on("destroy",function(){if(this.toolbox){var e,t,n,r,i=0;for(e=this.toolbox.toolbars;i<e.length;i++)for(n=e[i].items,t=0;t<n.length;t++)r=n[t],r.clickFn&&CKEDITOR.tools.removeFunction(r.clickFn),r.keyDownFn&&CKEDITOR.tools.removeFunction(r.keyDownFn)}}),t.on("uiReady",function(){var e=t.ui.space("toolbox");e&&t.focusManager.add(e,1)}),t.addCommand("toolbarFocus",r),t.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),t.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),t.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){return t.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(e,n,r){var i=t(this.editor),o=0===n,s={name:e};if(r){if(r=CKEDITOR.tools.search(i,function(e){return e.name==r}))return!r.groups&&(r.groups=[]),n&&(n=CKEDITOR.tools.indexOf(r.groups,n),n>=0)?void r.groups.splice(n+1,0,e):void(o?r.groups.splice(0,0,e):r.groups.push(e));n=null}n&&(n=CKEDITOR.tools.indexOf(i,function(e){return e.name==n})),o?i.splice(0,0,e):"number"==typeof n?i.splice(n+1,0,s):i.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){var e=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],t={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function r(e){s.enabled&&e.data.command.canUndo!==!1&&s.save()}function i(){s.enabled=t.readOnly?!1:"wysiwyg"==t.mode,s.onChange()}var s=t.undoManager=new n(t),a=s.editingHandler=new o(s),l=t.addCommand("undo",{exec:function(){s.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),u=t.addCommand("redo",{exec:function(){s.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[e[0],"undo"],[e[1],"redo"],[e[2],"redo"]]),s.onChange=function(){l.setState(s.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),u.setState(s.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",r),t.on("afterCommandExec",r),t.on("saveSnapshot",function(e){s.save(e.data&&e.data.contentOnly)}),t.on("contentDom",a.attachListeners,a),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&s.save(!0)}),t.on("mode",i),t.on("readOnly",i),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){s.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){s.currentImage&&s.update()}),t.on("lockSnapshot",function(e){e=e.data,s.lock(e&&e.dontUpdate,e&&e.forceUpdate)}),t.on("unlockSnapshot",s.unlock,s)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=e.config.undoStackSize||20,this.strokesLimit=25,this.editor=e,this.reset()};n.prototype={type:function(e,t){var r=n.getKeyGroup(e),i=this.strokesRecorded[r]+1,t=t||i>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),t?(i=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[r]=i,this.previousKeyGroup=r},keyGroupChanged:function(e){return n.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(e,t,n){var i=this.editor;if(this.locked||"ready"!=i.status||"wysiwyg"!=i.mode)return!1;var o=i.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,t||(t=new r(i)),t.contents===!1)return!1;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return!1}else n!==!1&&i.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(t)-1,this.currentImage=t,n!==!1&&this.refreshState(),!0},restoreImage:function(e){var t,n=this.editor;e.bookmarks&&(n.focus(),t=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(e.contents),e.bookmarks?t.selectBookmarks(e.bookmarks):CKEDITOR.env.ie&&(t=this.editor.document.getBody().$.createTextRange(),t.collapse(!0),t.select()),this.locked=null,this.index=e.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(e){var t,n=this.snapshots,r=this.currentImage;if(r)if(e){for(t=this.index-1;t>=0;t--)if(e=n[t],!r.equalsContent(e))return e.index=t,e}else for(t=this.index+1;t<n.length;t++)if(e=n[t],!r.equalsContent(e))return e.index=t,e;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var e=this.getNextImage(!0);

if(e)return this.restoreImage(e),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var e=this.getNextImage(!1);if(e)return this.restoreImage(e),!0}return!1},update:function(e){if(!this.locked){e||(e=new r(this.editor));for(var t=this.index,n=this.snapshots;t>0&&this.currentImage.equalsContent(n[t-1]);)t-=1;n.splice(t,this.index-t+1,e),this.index=t,this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return!1;var t=this.snapshots,n=t[t.length-1];return n.equalsContent(e)&&!n.equalsSelection(e)?(this.currentImage=t[t.length-1]=e,!0):!1},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var n=null;if(t)n=!0;else{var i=new r(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(i)&&(n=i)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;if(this.locked=null,e===!0)this.update();else if(e){var t=new r(this.editor,!0);e.equalsContent(t)||this.update()}}}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(e){return!!n.navigationKeyCodes[e]},n.getKeyGroup=function(e){var r=n.keyGroups;return t[e]?r.FUNCTIONAL:r.PRINTABLE},n.getOppositeKeyGroup=function(e){var t=n.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL},n.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&n.getKeyGroup(e)==n.keyGroups.FUNCTIONAL};var r=CKEDITOR.plugins.undo.Image=function(e,t){this.editor=e,e.fire("beforeUndoImage");var n=e.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,t||(this.bookmarks=(n=n&&e.getSelection())&&n.createBookmarks2(!0)),e.fire("afterUndoImage")},i=/\b(?:href|src|name)="[^"]*?"/gi;r.prototype={equalsContent:function(e){var t=this.contents,e=e.contents;return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(t=t.replace(i,""),e=e.replace(i,"")),t!=e?!1:!0},equalsSelection:function(e){var t=this.bookmarks,e=e.bookmarks;if(t||e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r.startOffset!=i.startOffset||r.endOffset!=i.endOffset||!CKEDITOR.tools.arrayCompare(r.start,i.start)||!CKEDITOR.tools.arrayCompare(r.end,i.end))return!1}}return!0}};var o=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e,this.ignoreInputEvent=!1,this.keyEventsStack=new s,this.lastKeydownImage=null};o.prototype={onKeydown:function(t){var i=t.data.getKey();229!==i&&(CKEDITOR.tools.indexOf(e,t.data.getKeystroke())>-1?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(i)||this.keyEventsStack.push(i),this.lastKeydownImage=new r(t.editor),(n.isNavigationKey(i)||this.undoManager.keyGroupChanged(i))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0)),this.keyEventsStack.increment(e.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(e.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(e){var t=this.undoManager,e=e.data.getKey(),i=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e),n.ieFunctionalKeysBug(e)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new r(t.editor,!0))||(i>0?t.type(e):n.isNavigationKey(e)&&this.onNavigationKey(!0))},onNavigationKey:function(e){var t=this.undoManager;(e||!t.save(!0,null,!1))&&t.updateSelection(new r(t.editor)),t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),r=this;t.attachListener(t,"keydown",function(e){r.onKeydown(e),n.ieFunctionalKeysBug(e.data.getKey())&&r.onInput()},null,null,999),t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",r.onInput,r,null,999),t.attachListener(t,"keyup",r.onKeyup,r,null,999),t.attachListener(t,"paste",r.ignoreInputEventListener,r,null,999),t.attachListener(t,"drop",r.ignoreInputEventListener,r,null,999),t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",function(){r.onNavigationKey()},null,null,999),t.attachListener(this.undoManager.editor,"blur",function(){r.keyEventsStack.remove(9)},null,null,999)}};var s=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};s.prototype={push:function(e){return this.stack[this.stack.push({keyCode:e,inputs:0})-1]},getLastIndex:function(e){if("number"!=typeof e)return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){return e=this.getLastIndex(e),-1!=e?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){e=this.getLastIndex(e),-1!=e&&this.stack.splice(e,1)},resetInputs:function(e){if("number"==typeof e)this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t+=this.stack[e].inputs;return t},cleanUp:function(e){e=e.data.$,!e.ctrlKey&&!e.metaKey&&this.remove(17),e.shiftKey||this.remove(16),e.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(e){e.config.wsc_onFinish="function"==typeof e.config.wsc_onFinish?e.config.wsc_onFinish:function(){},e.config.wsc_onClose="function"==typeof e.config.wsc_onClose?e.config.wsc_onClose:function(){}},parseConfig:function(e){e.config.wsc_customerId=e.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",e.config.wsc_customDictionaryIds=e.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",e.config.wsc_userDictionaryName=e.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",e.config.wsc_customLoaderScript=e.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,CKEDITOR.config.wsc_cmd=e.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-26-g5bcf855",CKEDITOR.config.wsc_removeGlobalVariable=!0},init:function(e){var t=CKEDITOR.env;this.parseConfig(e),this.parseApi(e),e.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||t.ie&&(t.version<8||t.quirks))},"undefined"==typeof e.plugins.scayt&&e.ui.addButton&&e.ui.addButton("SpellChecker",{label:e.lang.wsc.toolbar,click:function(e){var t=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(t=t.replace(/\s/g,""))?e.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),function(){function e(e){var n=this.editor,r=e.document,i=r.body,o=r.getElementById("cke_actscrpt");o&&o.parentNode.removeChild(o),(o=r.getElementById("cke_shimscrpt"))&&o.parentNode.removeChild(o),(o=r.getElementById("cke_basetagscrpt"))&&o.parentNode.removeChild(o),i.contentEditable=!0,CKEDITOR.env.ie&&(i.hideFocus=!0,i.disabled=!0,i.removeAttribute("disabled")),delete this._.isLoadingData,this.$=i,r=new CKEDITOR.dom.document(r),this.setup(),this.fixInitialSelection(),CKEDITOR.env.ie&&(r.getDocumentElement().addClass(r.$.compatMode),n.config.enterMode!=CKEDITOR.ENTER_P&&this.attachListener(r,"selectionchange",function(){var e=r.getBody(),t=n.getSelection(),i=t&&t.getRanges()[0];i&&e.getHtml().match(/^<p>(?:&nbsp;|<br>)<\/p>$/i)&&i.startContainer.equals(e)&&setTimeout(function(){i=n.getSelection().getRanges()[0],i.startContainer.equals("body")||(e.getFirst().remove(1),i.moveToElementEditEnd(e),i.select())},0)})),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&CKEDITOR.env.version>10)&&r.getDocumentElement().on("mousedown",function(e){e.data.getTarget().is("html")&&setTimeout(function(){n.editable().focus()})}),t(n);try{n.document.$.execCommand("2D-position",!1,!0)}catch(s){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==n.document.$.compatMode)&&this.attachListener(this,"keydown",function(e){var t=e.data.getKeystroke();if(33==t||34==t)if(CKEDITOR.env.ie)setTimeout(function(){n.getSelection().scrollIntoView()},0);else if(n.window.$.innerHeight>this.$.offsetHeight){var r=n.createRange();r[33==t?"moveToElementEditStart":"moveToElementEditEnd"](this),r.select(),e.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(r,"blur",function(){try{r.$.selection.empty()}catch(e){}}),CKEDITOR.env.iOS&&this.attachListener(r,"touchend",function(){e.focus()}),i=n.document.getElementsByTag("title").getItem(0),i.data("cke-title",i.getText()),CKEDITOR.env.ie&&(n.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),n.fire("contentDom"),this._.isPendingFocus&&(n.focus(),this._.isPendingFocus=!1),setTimeout(function(){n.fire("dataReady")},0),CKEDITOR.env.ie&&setTimeout(function(){if(n.document){var e=n.document.$.body;e.runtimeStyle.marginBottom="0px",e.runtimeStyle.marginBottom=""}},1e3)},0,this)}function t(e){function t(){var t;e.editable().attachListener(e,"selectionChange",function(){var r=e.getSelection().getSelectedElement();r&&(t&&(t.detachEvent("onresizestart",n),t=null),r.$.attachEvent("onresizestart",n),t=r.$)})}function n(e){e.returnValue=!1}if(CKEDITOR.env.gecko)try{var r=e.document.$;r.execCommand("enableObjectResizing",!1,!e.config.disableObjectResizing),r.execCommand("enableInlineTableEditing",!1,!e.config.disableNativeTableHandles)}catch(i){}else CKEDITOR.env.ie&&CKEDITOR.env.version<11&&e.config.disableObjectResizing&&t(e)}function n(){var e=[];if(CKEDITOR.document.$.documentMode>=8){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t,n=[];for(t in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+t+"[contenteditable=false]");e.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(e.push("html{height:100% !important}"),e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return e.push("html{cursor:text;*cursor:auto}"),e.push("img,input,textarea{cursor:default}"),e.join("\n")}CKEDITOR.plugins.add("wysiwygarea",{init:function(e){e.config.fullPage&&e.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),e.addMode("wysiwyg",function(t){function n(n){n&&n.removeListener(),e.editable(new r(e,o.$.contentWindow.document.body)),e.setData(e.getData(1),t)}var i="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent(i)+"}())":"",o=CKEDITOR.dom.element.createFromHtml('<iframe src="'+i+'" frameBorder="0"></iframe>');o.setStyles({width:"100%",height:"100%"}),o.addClass("cke_wysiwyg_frame cke_reset");var s=e.ui.space("contents");s.append(o),(i=CKEDITOR.env.ie||CKEDITOR.env.gecko)&&o.on("load",n);var a=e.title,l=e.fire("ariaEditorHelpLabel",{}).label;if(a&&(CKEDITOR.env.ie&&l&&(a+=", "+l),o.setAttribute("title",a)),l){var a=CKEDITOR.tools.getNextId(),u=CKEDITOR.dom.element.createFromHtml('<span id="'+a+'" class="cke_voice_label">'+l+"</span>");s.append(u,1),o.setAttribute("aria-describedby",a)}e.on("beforeModeUnload",function(e){e.removeListener(),u&&u.remove()}),o.setAttributes({tabIndex:e.tabIndex,allowTransparency:"true"}),!i&&n(),CKEDITOR.env.webkit&&(i=function(){s.setStyle("width","100%"),o.hide(),o.setSize("width",s.getSize("width")),s.removeStyle("width"),o.show()},o.setCustomData("onResize",i),CKEDITOR.document.getWindow().on("resize",i)),e.fire("ariaWidget",o)})}}),CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,n=t.contentsCss;CKEDITOR.tools.isArray(n)||(t.contentsCss=n?[n]:[]),t.contentsCss.push(e)};var r=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var r=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),r.fire("dataReady");else{this._.isLoadingData=!0,r._.dataStore={id:1};var i=r.config,o=i.fullPage,s=i.docType,a=CKEDITOR.tools.buildStyleHtml(n()).replace(/<style>/,'<style data-cke-temp="1">');o||(a+=CKEDITOR.tools.buildStyleHtml(r.config.contentsCss));var l=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(e=e.replace(/<!DOCTYPE[^>]*>/i,function(e){return r.docType=s=e,""}).replace(/<\?xml\s[^\?]*\?>/i,function(e){return r.xmlDeclaration=e,""})),e=r.dataProcessor.toHtml(e),o?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),l&&(e=e.replace(/<head[^>]*?>/,"$&"+l)),e=e.replace(/<\/head\s*>/,a+"$&"),e=s+e):e=i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||r.langCode)+'"><head><title>'+this._.docTitle+"</title>"+l+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),CKEDITOR.env.version<2e4&&(e=e.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),l&&CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),r.fire("contentDomUnload");var u=this.getDocument();try{u.write(e)}catch(c){setTimeout(function(){u.write(e)},0)}}},getData:function(e){if(e)return this.getHtml();var e=this.editor,t=e.config,n=t.fullPage,r=n&&e.docType,i=n&&e.xmlDeclaration,o=this.getDocument(),n=n?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(n=n.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),n=e.dataProcessor.toDataFormat(n),i&&(n=i+"\n"+n),r&&(n=r+"\n"+n),n},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:r.baseProto.focus.call(this)},detach:function(){var e=this.editor,t=e.document,e=e.window.getFrame();r.baseProto.detach.call(this),this.clearCustomData(),t.getDocumentElement().clearCustomData(),e.clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),(t=e.removeCustomData("onResize"))&&t.removeListener(),e.remove()}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.contentsCss=CKEDITOR.getUrl("contents.css"),CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,button,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,toolbar,undo,wsc,wysiwygarea",CKEDITOR.config.skin="moono",function(){var e=function(e,t){for(var n=CKEDITOR.getUrl("plugins/"+t),e=e.split(","),r=0;r<e.length;r++)CKEDITOR.skin.icons[e[r]]={path:n,offset:-e[++r],bgsize:e[++r]}};CKEDITOR.env.hidpi?e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,creatediv,456,,docprops-rtl,480,,docprops,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,justifyblock,1080,,justifycenter,1104,,justifyleft,1128,,justifyright,1152,,language,1176,,anchor-rtl,1200,,anchor,1224,,link,1248,,unlink,1272,,bulletedlist-rtl,1296,,bulletedlist,1320,,numberedlist-rtl,1344,,numberedlist,1368,,mathjax,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastefromword-rtl,1536,,pastefromword,1560,,pastetext-rtl,1584,,pastetext,1608,,placeholder,1632,,preview-rtl,1656,,preview,1680,,print,1704,,removeformat,1728,,save,1752,,scayt,1776,,selectall,1800,,showblocks-rtl,1824,,showblocks,1848,,smiley,1872,,source-rtl,1896,,source,1920,,sourcedialog-rtl,1944,,sourcedialog,1968,,specialchar,1992,,table,2016,,templates-rtl,2040,,templates,2064,,uicolor,2088,,redo-rtl,2112,,redo,2136,,undo-rtl,2160,,undo,2184,,simplebox,4416,auto,spellchecker,2232,","icons_hidpi.png"):e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,creatediv,456,auto,docprops-rtl,480,auto,docprops,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,justifyblock,1080,auto,justifycenter,1104,auto,justifyleft,1128,auto,justifyright,1152,auto,language,1176,auto,anchor-rtl,1200,auto,anchor,1224,auto,link,1248,auto,unlink,1272,auto,bulletedlist-rtl,1296,auto,bulletedlist,1320,auto,numberedlist-rtl,1344,auto,numberedlist,1368,auto,mathjax,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastefromword-rtl,1536,auto,pastefromword,1560,auto,pastetext-rtl,1584,auto,pastetext,1608,auto,placeholder,1632,auto,preview-rtl,1656,auto,preview,1680,auto,print,1704,auto,removeformat,1728,auto,save,1752,auto,scayt,1776,auto,selectall,1800,auto,showblocks-rtl,1824,auto,showblocks,1848,auto,smiley,1872,auto,source-rtl,1896,auto,source,1920,auto,sourcedialog-rtl,1944,auto,sourcedialog,1968,auto,specialchar,1992,auto,table,2016,auto,templates-rtl,2040,auto,templates,2064,auto,uicolor,2088,auto,redo-rtl,2112,auto,redo,2136,auto,undo-rtl,2160,auto,undo,2184,auto,simplebox,2208,auto,spellchecker,2232,auto","icons.png")}())}(),define("ember-cli-flash",["ember-cli-flash/index","exports"],function(e,t){"use strict";Object.keys(e).forEach(function(n){t[n]=e[n]})}),define("ember-cli-flash/components/flash-message",["exports","ember"],function(e,t){"use strict";var n=t["default"].computed,r=t["default"].getWithDefault,i=t["default"].get,o=t["default"].set,s=t["default"].on,a=t["default"].run;e["default"]=t["default"].Component.extend({classNameBindings:["alertType","active"],messageStyle:"bootstrap",showProgressBar:n.alias("flash.showProgress"),alertType:n("flash.type",function(){var e=r(this,"flash.type",""),t=r(this,"messageStyle",""),n="alert alert-";return"foundation"===t&&(n="alert-box "),""+n+e}),flashType:n("flash.type",function(){var e=r(this,"flash.type","");return e.classify()}),progressDuration:n("flash.showProgress",function(){if(!i(this,"flash.showProgress"))return!1;var e=r(this,"flash.timeout",0);return"transition-duration: "+e+"ms"}),click:function(){this._destroyFlashMessage()},willDestroy:function(){this._destroyFlashMessage()},_destroyFlashMessage:function(){var e=r(this,"flash",!1);e&&e.destroyMessage()},_activeAfterRender:s("didInsertElement",function(){var e=this;a.scheduleOnce("afterRender",this,function(){o(e,"active",!0)})})})}),define("ember-cli-flash/flash/object",["exports","ember"],function(e,t){"use strict";var n=t["default"].computed,r=t["default"].get,i=t["default"].set,o=t["default"].getWithDefault,s=t["default"].run,a=t["default"].on;e["default"]=t["default"].Object.extend({isSuccessType:n.equal("type","success"),isInfoType:n.equal("type","info"),isWarningType:n.equal("type","warning"),isDangerType:n.equal("type","danger"),isErrorType:n.equal("type","error"),defaultTimeout:n.alias("flashService.defaultTimeout"),queue:n.alias("flashService.queue"),timer:null,destroyMessage:function(){this._destroyMessage()},willDestroy:function(){var e=r(this,"timer");e&&(s.cancel(e),i(this,"timer",null))},_destroyLater:a("init",function(){if(!r(this,"sticky")){var e=r(this,"defaultTimeout"),t=o(this,"timeout",e),n=s.later(this,"_destroyMessage",t);i(this,"timer",n)}}),_destroyMessage:function(){var e=r(this,"queue"),t=this;e&&e.removeObject(t),t.destroy()}})}),define("ember-cli-flash/services/flash-messages-service",["exports","ember","ember-cli-flash/flash/object"],function(e,t,n){"use strict";var r=t["default"].computed,i=t["default"].get,o=t["default"].getWithDefault,s=t["default"].A,a=t["default"].on;e["default"]=t["default"].Service.extend({queue:s([]),isEmpty:r.equal("queue.length",0),defaultTimeout:3e3,defaultPriority:100,defaultSticky:!1,defaultShowProgress:!1,defaultTypes:["success","info","warning","danger","alert","secondary"],defaultType:"info",arrangedQueue:r.sort("queue",function(e,t){return e.priority<t.priority?1:e.priority>t.priority?-1:0}),registerType:function(e){var n=this;t["default"].assert("The flash type cannot be undefined",e),this[e]=function(t){var r=void 0===arguments[1]?{}:arguments[1];return n._addToQueue({message:t,type:e,timeout:r.timeout,priority:r.priority,sticky:r.sticky,showProgress:r.showProgress})}},addMessage:function(e){var n=void 0===arguments[1]?{}:arguments[1];return t["default"].deprecate("[ember-cli-flash] addMessage() will be deprecated in 1.0.0. Please use add() instead."),n.message=e,this._addToQueue(n)},add:function(){var e=void 0===arguments[0]?{}:arguments[0];return this._addToQueue(e)},clearMessages:function(){var e=i(this,"queue");return e.clear(),e},_addToQueue:function(){var e=void 0===arguments[0]?{}:arguments[0],t=i(this,"queue"),n=this._newFlashMessage(e);return t.pushObject(n),n},_newFlashMessage:function(){var e=void 0===arguments[0]?{}:arguments[0];t["default"].assert("The flash message cannot be empty.",e.message);var r=this,o=e.message,s=e.timeout,a=e.type,l=e.priority,u=e.sticky,c=e.showProgress;return n["default"].create({flashService:r,message:o,type:a||i(this,"defaultType"),timeout:s||i(this,"defaultTimeout"),priority:l||i(this,"defaultPriority"),sticky:u||i(this,"defaultSticky"),showProgress:c||i(this,"defaultShowProgress")})},_registerTypes:function(){var e=this,t=void 0===arguments[0]?[]:arguments[0];t.forEach(function(t){return e.registerType(t)})},_initTypes:a("init",function(){var e=o(this,"defaultTypes",[]);this._registerTypes(e)})})}),define("ember-spectrum-color-picker",["ember-spectrum-color-picker/index","exports"],function(e,t){"use strict";Object.keys(e).forEach(function(n){t[n]=e[n]})}),define("ember-spectrum-color-picker/components/spectrum-color-picker",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Component.extend({classNames:"spectrum-color-picker",tagName:"input",color:null,flatMode:!1,allowEmpty:!1,disabled:!1,showInput:!1,showAlpha:!1,showInitial:!1,showButtons:!0,showPalette:!1,showPaletteOnly:!1,palette:[],togglePaletteOnly:!1,showSelectionPalette:!1,hideAfterPaletteSelect:!1,preferredFormat:null,moveFiresChange:!1,clickoutFiresChange:!1,chooseText:"Choose",cancelText:"Cancel",togglePaletteMoreText:"More",togglePaletteLessText:"Less",appendTo:"body",localStorageKey:"spectrum-color-picker",didInsertElement:function(){var e={color:this.get("color"),flat:this.get("flatMode"),allowEmpty:this.get("allowEmpty"),disabled:this.get("disabled"),showInput:this.get("showInput"),showAlpha:this.get("showAlpha"),showInitial:this.get("showInitial"),showButtons:this.get("showButtons"),showPalette:this.get("showPalette"),showPaletteOnly:this.get("showPaletteOnly"),palette:"string"==typeof this.get("palette")?JSON.parse(this.get("palette")):this.get("palette"),togglePaletteOnly:this.get("togglePaletteOnly"),showSelectionPalette:this.get("showSelectionPalette"),hideAfterPaletteSelect:this.get("hideAfterPaletteSelect"),preferredFormat:this.get("preferredFormat"),clickoutFiresChange:this.get("clickoutFiresChange"),chooseText:this.get("chooseText"),cancelText:this.get("cancelText"),togglePaletteMoreText:this.get("togglePaletteMoreText"),togglePaletteLessText:this.get("togglePaletteLessText"),appendTo:this.get("appendTo"),localStorageKey:this.get("localStorageKey")},t=this,n=function(e){t.set("color",e.toString())};this.get("moveFiresChange")?e.move=n:e.change=n,this.$().spectrum(e)},updatePicker:function(){this.$().spectrum("set",this.get("color"))}.observes("color")})}),define("liquid-fire",["liquid-fire/index","exports"],function(e,t){"use strict";Object.keys(e).forEach(function(n){t[n]=e[n]})}),define("liquid-fire/animate",["exports","liquid-fire/promise","ember"],function(e,t,n){"use strict";function r(e,r,i,o){var s,a={percentComplete:0,timeRemaining:100,timeSpent:0};if(!e||!(s=e.$())||!s[0])return t["default"].resolve();if(i=i?n["default"].copy(i):{},"undefined"==typeof i.display&&(i.display=""),"undefined"==typeof i.visibility&&(i.visibility="visible"),i.progress)throw new Error("liquid-fire's 'animate' function reserves the use of Velocity's 'progress' option for its own nefarious purposes.");return i.progress=function(){a.percentComplete=arguments[1],a.timeRemaining=arguments[2],a.timeSpent=a.timeRemaining/(1/a.percentComplete-1)},a.promise=t["default"].resolve(f.animate(s[0],r,i)),o&&(a.promise=a.promise.then(function(){h(e,o)},function(t){throw h(e,o),t}),d(e,o,a)),a.promise}function i(e){var t;e&&(t=e.$())&&t.velocity("stop",!0)}function o(e){for(var t in e)if(e.hasOwnProperty(t)){if("progress"===t)throw new Error("liquid-fire's 'animate' function reserves the use of Velocity's '"+t+"' option for its own nefarious purposes.");f.defaults[t]=e[t]}}function s(e,t){return e&&e._lfTags&&e._lfTags[t]}function a(e,t){return c(e,t).promise}function l(e,t){return c(e,t).timeSpent}function u(e,t){return c(e,t).timeRemaining}function c(e,t){var n=s(e,t);if(!n)throw new Error("no animation labeled "+t+" is in progress");return n}function d(e,t,n){e&&(e._lfTags||(e._lfTags={}),e._lfTags[t]=n)}function h(e,t){e&&e._lfTags&&delete e._lfTags[t]}e.animate=r,e.stop=i,e.setDefaults=o,e.isAnimating=s,e.finish=a,e.timeSpent=l,e.timeRemaining=u;var f=n["default"].$.Velocity;f.Promise||(f.Promise=t["default"])}),define("liquid-fire/curry",["exports"],function(e){"use strict";function t(e){var t=Array.prototype.slice.apply(arguments,[1]);return function(){var n=this.lookup(e),r=Array.prototype.slice.apply(arguments);return r.splice.apply(r,[2,0].concat(t)),n.apply(this,r)}}e["default"]=t}),define("liquid-fire/dsl",["exports","ember","liquid-fire/animate"],function(e,t,n){"use strict";function r(e){this.map=e}function i(e){if(!e)return r.EMPTY;if("function"==typeof e)return e;if(e.instanceOf)return function(t){return t instanceof e.instanceOf||t&&t.get&&t.get("model")&&t.get("model")instanceof e.instanceOf};if("boolean"==typeof e)return function(t){return e?!!t:!t};throw new Error("unknown context matcher: "+JSON.stringify(e))}r.prototype={setDefault:function(e){n.setDefaults(e)},define:function(){throw new Error("calling 'define' from within the transition map is deprecated")},_withEmpty:function(e){return e||r.EMPTY},_combineMatchers:function(e){return[e.reduce(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw new Error("cannot combine empty model matcher with any other constraints");return function(){return e.apply(this,arguments)&&t.apply(this,arguments)}})]},transition:function(){for(var e,t,n=[],i={},o={},s=Array.prototype.slice.apply(arguments).reduce(function(e,t){return e.concat(t)},[]),a=0;a<s.length;a++){var l=s[a];if("action"===l.type){if(e)throw new Error("each transition definition must contain exactly one 'use' statement");e={method:l.payload,args:l.args}}else if("reverseAction"===l.type){if(t)throw new Error("each transition definition may contain at most one 'reverse' statement");t={method:l.payload,args:l.args}}else if("route"===l.type){if(i[l.side])throw new Error("A transition definition contains multiple constraints on "+l.side+"Route");i[l.side]=l.payload.map(this._withEmpty)}else"parent"===l.type?n.push(l.payload):(o[l.side]||(o[l.side]=[]),o[l.side].push(l.payload))}if(!e)throw new Error("a transition definition contains no 'use' statement");i.from||(i.from=[r.ANY]),i.to||(i.to=[r.ANY]),0===n.length&&n.push(r.ANY),o.from||(o.from=[r.ANY]),o.to||(o.to=[r.ANY]),n=this._combineMatchers(n),o.from=this._combineMatchers(o.from),o.to=this._combineMatchers(o.to),this.map.register(i,o,n,e),t&&(i={from:i.to,to:i.from},o={from:o.to,to:o.from},this.map.register(i,o,n,t))},fromRoute:function(){return{side:"from",type:"route",payload:Array.prototype.slice.apply(arguments)}},toRoute:function(){return{side:"to",type:"route",payload:Array.prototype.slice.apply(arguments)}},withinRoute:function(){return[this.fromRoute.apply(this,arguments),this.toRoute.apply(this,arguments)]},fromModel:function(e){return{side:"from",type:"context",payload:i(e)}},toModel:function(e){return{side:"to",type:"context",payload:i(e)}},betweenModels:function(e){return[this.fromModel(e),this.toModel(e)]},hasClass:function(e){return{type:"parent",payload:function(t){return t&&-1!==t.get("classNames").indexOf(e)}}},childOf:function(e){return{type:"parent",payload:function(n){var r;return n&&n._morph&&t["default"].$(n._morph.start.parentElement).is(e)||n.morph&&t["default"].$("#"+n.morph.start).parent().is(e)||(r=n.$())&&r.parent().is(e)}}},fromNonEmptyModel:function(){return this.fromModel(function(e){return"undefined"!=typeof e})},toNonEmptyModel:function(){return this.toModel(function(e){return"undefined"!=typeof e})},betweenNonEmptyModels:function(){return this.betweenModels(function(e){return"undefined"!=typeof e})},use:function(e){return{type:"action",payload:e,args:Array.prototype.slice.apply(arguments,[1])}},reverse:function(e){return{type:"reverseAction",payload:e,args:Array.prototype.slice.apply(arguments,[1])}}},r.ANY="__liquid-fire-ANY",r.EMPTY="__liquid-fire-EMPTY",e["default"]=r}),define("liquid-fire/index",["exports","liquid-fire/transitions","liquid-fire/animate","liquid-fire/promise","liquid-fire/initialize","liquid-fire/mutation-observer","liquid-fire/curry","liquid-fire/router-dsl-ext"],function(e,t,n,r,i,o,s){"use strict";e.Transitions=t["default"],e.animate=n.animate,e.stop=n.stop,e.isAnimating=n.isAnimating,e.timeSpent=n.timeSpent,e.timeRemaining=n.timeRemaining,e.finish=n.finish,e.Promise=r["default"],e.initialize=i.initialize,e.MutationObserver=o["default"],e.curryTransition=s["default"]}),define("liquid-fire/initialize",["exports","liquid-fire/transitions","liquid-fire/modals"],function(e,t,n){"use strict";function r(e){e.register("transitions:map",t["default"]),["outlet","with","if"].forEach(function(t){
e.injection("view:liquid-"+t,"transitions","transitions:map")}),e.register("liquid-modals:main",n["default"]),e.injection("component:liquid-modal","owner","liquid-modals:main");var r=e.lookup("template:liquid-with");r&&(r.isTop=!1)}e.initialize=r}),define("liquid-fire/internal-rules",["exports"],function(e){"use strict";e["default"]=function(){this.setDefault({duration:250}),this.transition(this.hasClass("lm-with"),this.use("modal-popup"))}}),define("liquid-fire/modal",["exports","ember"],function(e,t){"use strict";function n(e,t){var n,r,i,o={},s=e.constructor.proto(),a=!1;for(r in t)n=t[r],i=e.get(r),o[n]=i,i!==s[r]&&(a=!0);return a?o:void 0}var r=t["default"].get;e["default"]=t["default"].Object.extend({enabled:t["default"].computed("modals.activeRouteNames",function(){return r(this,"modals.activeRouteNames").indexOf(r(this,"route"))>=0}),controller:t["default"].computed("enabled",function(){if(r(this,"enabled")){var e=r(this,"container"),t=r(this,"options.controller")||r(this,"route");return e.lookup("controller:"+t)}}),update:t["default"].observer("controller",t["default"].on("init",function(){var e=r(this,"name"),t=this.makeContext(),n=r(this,"modals.modalContexts"),i=n.find(function(t){return r(t,"name")===e});t?i?n.replace(n.indexOf(i),1,[t]):n.pushObject(t):i&&n.removeObject(i)})),makeContext:function(){var e,i=r(this,"controller");if(i)return e=n(i,r(this,"options.withParams")),e?t["default"].Object.create({source:i,name:r(this,"name"),options:r(this,"options"),params:e}):void 0}})}),define("liquid-fire/modals",["exports","ember","liquid-fire/modal"],function(e,t,n){"use strict";function r(e){return t["default"].observer("controller."+e,function(){this.update()})}e["default"]=t["default"].Controller.extend({needs:["application"],setup:t["default"].on("init",function(){this.set("modalContexts",t["default"].A()),this.set("modals",t["default"].A());var e=this.container.lookup("router:main").router.modals;if(e&&e.length>0){var n=this;e.forEach(function(e){n.registerModal(e)})}}),registerModal:function(e){var t={modals:this,container:this.container};for(var i in e.options.withParams)t[i+"Observer"]=r(i);this.get("modals").pushObject(n["default"].extend(t).create(e))},currentRoute:t["default"].computed.alias("controllers.application.currentRouteName"),activeRouteNames:t["default"].computed("currentRoute",function(){var e=this.container.lookup("router:main").router.currentHandlerInfos;return e?e.map(function(e){return e.name}):[]})})}),define("liquid-fire/mutation-observer",["exports"],function(e){"use strict";function t(e){this.callback=e}t.prototype={observe:function(){this.interval=setInterval(this.callback,100)},disconnect:function(){clearInterval(this.interval)}};var n=window.MutationObserver||window.WebkitMutationObserver||t;e["default"]=n}),define("liquid-fire/promise",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].RSVP.Promise}),define("liquid-fire/router-dsl-ext",["ember"],function(e){"use strict";function t(t){if(!t)return{};e["default"].isArray(t)||(t=[t]);var n,r,i,o={};for(r=0;r<t.length;r++)if(n=t[r],"object"==typeof n)for(i in n)o[i]=n[i];else o[n]=n;return o}var n=e["default"].Router,r=e["default"].RouterDSL.prototype,i=null;r.modal=function(n,r){e["default"].assert('modal("'+n+'",...) needs a `withParams` argument',r&&r.withParams),r=e["default"].copy(r),r.withParams=t(r.withParams),r.otherParams=t(r.otherParams),"undefined"==typeof r.dismissWithOutsideClick&&(r.dismissWithOutsideClick=!0),"undefined"==typeof r.dismissWithEscape&&(r.dismissWithEscape=!0),i.push({route:this.parent,name:n,options:r})},n.reopen({_initRouterJs:function(){i=[],this._super(),this.router.modals=i}});var o=n.map;n.reopenClass({map:function(){i=[];var e=o.apply(this,arguments);return this.router&&(this.router.modals=i),e}})}),define("liquid-fire/tabbable",["ember"],function(e){"use strict";function t(e,t){var r=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||t:t)&&n(e)}function n(e){var t=r(e);return r.expr.filters.visible(e)&&!r(t,t.parents()).filter(function(){return"hidden"===r.css(this,"visibility")}).length}var r=e["default"].$;r.expr[":"].tabbable||(r.expr[":"].tabbable=function(e){var n=r.attr(e,"tabindex"),i=isNaN(n);return(i||n>=0)&&t(e,!i)})}),define("liquid-fire/transition",["exports","liquid-fire/promise"],function(e,t){"use strict";function n(e,t,n,r,i,o){this.parentView=e,this.oldView=t,this.newContent=n,this.animation=r,this.animationArgs=i,this.transitionMap=o}function r(e){var t;e&&(t=e.$())&&t.show().css({visibility:""})}function i(e){var t;return e&&(t=e.$())?{width:t.width(),height:t.height()}:void 0}function o(e,t){var n;e&&(n=e.$())&&(t||(t=i(e)),n.width(t.width),n.height(t.height),n.css({position:"absolute"}))}function s(e){var t;e&&(t=e.$())&&t.css({width:"",height:"",position:""})}n.prototype={run:function(){if(this._ran)return this._ran;if(!this.animation)return this.maybeDestroyOldView(),this._ran=this._insertNewView().then(r);var e=this;return e.transitionMap.activeCount+=1,this._ran=this._invokeAnimation().then(function(){e.maybeDestroyOldView()},function(t){return e.cleanupAfterError().then(function(){throw t})})["finally"](function(){e.transitionMap.activeCount-=1})},_insertNewView:function(){return this.inserted?this.inserted:this.inserted=this.parentView._pushNewView(this.newContent)},_invokeAnimation:function(){var e=this,n=this.animation,r=function(){var t=!e.parentView.get("containerless");return t&&(e.parentView.cacheSize(),o(e.oldView)),e._insertNewView().then(function(n){if(n){if(n.$().show(),t){var r=i(n);e.parentView.adaptSize(),o(n,r)}return e.newView=n}t&&e.parentView.adaptSize()})},a=[this.oldView,r].concat(this.animationArgs);return new t["default"](function(t,r){n.apply(e,a).then(t,r)}).then(function(){e.interruptedLate||(s(e.newView),e.parentView.unlockSize())})},maybeDestroyOldView:function(){!this.interruptedEarly&&this.oldView&&this.oldView.destroy()},cleanupAfterError:function(){return this.maybeDestroyOldView(),this._insertNewView().then(r)},interrupt:function(){this.inserted?this.interruptedLate=!0:(this.inserted=t["default"].resolve(null),this.interruptedEarly=!0)},lookup:function(e){return this.transitionMap.lookup(e)}},e["default"]=n}),define("liquid-fire/transitions",["exports","liquid-fire/transition","liquid-fire/dsl","ember","liquid-fire/internal-rules"],function(e,t,n,r,i){"use strict";function o(e){for(var t;e._parentView;)if(t=e,e=e._parentView,e._runningTransition&&e._runningTransition.oldView===t)return e._runningTransition}function s(){return arguments[2].run()}var a=r["default"].Object.extend({init:function(){var e,t;this.activeCount=0,this._map={},this.map(i["default"]),t=this.get("container"),t&&(e=t.lookupFactory("transitions:main")),e&&this.map(e),r["default"].testing&&this._registerWaiter()},runningTransitions:function(){return this.activeCount},lookup:function(e){var t=this.container.lookupFactory("transition:"+e);if(!t)throw new Error("unknown transition name: "+e);return t},transitionFor:function(e,n,r,i,a){var l,u;if(i&&!a)l=this.lookup(i);else{var c=this.match(a,e,n,r);c&&(u=c.args,l="function"==typeof c.method?c.method:this.lookup(c.method))}if(!l&&n&&!r){var d=o(n);d&&(l=s,u=[d])}return new t["default"](e,n,r,l,u,this)},map:function(e){return e&&e.apply(new n["default"](this)),this},register:function(e,t,n,r){this._register(this._map,[e.from,e.to,n,t.from,t.to],r)},_register:function(e,t,n){for(var r=t[0],i=0;i<r.length;i++){var o=r[i];if("function"==typeof o)if(e.__functions||(e.__functions=[]),1===t.length)e.__functions.push([o,n]);else{var s={};this._register(s,t.slice(1),n),e.__functions.push([o,s])}else 1===t.length?e[o]=n:(e[o]||(e[o]={}),this._register(e[o],t.slice(1),n))}},_viewProperties:function(e,t){return e&&t&&(e=e.get(t)),e?{route:e.get("renderedName"),context:e.get("liquidContext")}:{}},_ancestorsRenderedName:function(e){for(;e&&!e.get("renderedName");)e=e.get("_parentView");return e?e.get("renderedName"):void 0},match:function(e,t,n,r){var i={leaving:this._viewProperties(n,"currentView"),entering:this._viewProperties(r),parentView:t,initialRender:e};return n&&!i.leaving.route&&(i.leaving.route=this._ancestorsRenderedName(t)),r&&!i.entering.route&&(i.entering.route=i.leaving.route||this._ancestorsRenderedName(t)),this._match(i,this._map,0)},_match:function(e,t,n){var r,i,o,s=0,a=this._predicateArgs(e,n),l=this._candidatesFor(e,t,a[0],n);for(s=0;s<l.length;s++)if(r=l[s],r&&(i="function"==typeof r[0]?r[0].apply(null,a)?r[1]:null:t[r])){if(4===n)return i;if(o=this._match(e,i,n+1))return o}},_predicateArgs:function(e,t){switch(t){case 0:return[e.leaving.route,e.entering.route];case 1:return[e.entering.route,e.leaving.route];case 2:return[e.parentView];case 3:return[e.leaving.context,e.entering.context];case 4:return[e.entering.context,e.leaving.context]}},_candidatesFor:function(e,t,r,i){var o=[r||n["default"].EMPTY].concat(t.__functions);return 0===i&&e.initialRender?o:o.concat(n["default"].ANY)},_registerWaiter:function(){var e=this;this._waiter=function(){return 0===e.runningTransitions()},r["default"].Test.registerWaiter(this._waiter)},willDestroy:function(){this._waiter&&(r["default"].Test.unregisterWaiter(this._waiter),this._waiter=null)}});a.reopenClass({map:function(e){var t=a.create();return t.map(e),t}}),e["default"]=a});